<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autoinstallation :: Uyuni Documentation (Prototype)</title>
    <meta name="generator" content="Antora 1.0.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-extra.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://jcayouette.github.io/personal-blog">Belief and Reason</a>
        <span class="separator">//</span>
        <a href="../..">Library</a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Projects</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>Resources</strong></div>
            <a class="navbar-item" href="https://github.com/jcayouette/personal-blog">Repository</a>
            <a class="navbar-item" href="https://github.com/jcayouette/personal-blog/issues">Issue Tracker</a>
<!--
            <hr class="navbar-divider">
            <div class="navbar-item"><strong>Custom UI (coming soon!)</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default/issues">Issue Tracker</a>
            <hr class="navbar-divider">
          -->
            <a class="navbar-item" href="https://github.com/jcayouette/blob/master/contributing.adoc">Contributing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Community</div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vmrAYE3">Discord Chat</a>
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/BaR-project">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="uyuni" data-version="3.2">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="MAIN-manager.html">Uyuni</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="book_mgr_getting_started.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="quickstart3_chap_install_overview.html">Overview and Requirements</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq">Prerequisites for Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.scc">SUSE SCC Credentials</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.installmedia">Get Uyuni</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.hardware">Hardware Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.network">Network Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.clientos">Supported Client Systems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="quickstart3_chap_suma_installation_jeos.html">Installation via JeOS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.kvm.settings">Configuring KVM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#jeos.kvm.settings">JeOS KVM Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#jeos.susemgr.prep">Preparing JeOS for Uyuni</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_installation_sles.html">Installation via SLES</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_setup_with_yast.html">Setup and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_keys_and_first_client.html">Connecting Clients</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_salt_gs.html">Introduction to Salt</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="book_mgr_best_practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="book_suma_reference_manual.html">WebUI Reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="book_suma_advanced_topics.html">Advanced Topics</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Uyuni</span>
    <span class="version">3.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Uyuni</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../dev/MAIN-manager.html">dev</a>
        </li>
        <li class="version is-current">
          <a href="MAIN-manager.html">3.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../dev/MAIN-manager.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="MAIN-manager.html">Uyuni</a></li>
    <li class="crumb"><a href="reference-webui-systems-autoinstallation.html">Autoinstallation</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">3.2</button>
  <div class="versions-menu">
    <a class="version" href="../dev/reference-webui-systems-autoinstallation.html">dev</a>
    <a class="version is-current" href="reference-webui-systems-autoinstallation.html">3.2</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/jcayouette/uyuni-doc-test/edit/maintenance/3.2/docs/modules/ROOT/pages/reference-webui-systems-autoinstallation.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Autoinstallation</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#ref.webui.systems.autoinst.ay_intro">Introduction to AutoYaST</a>
<ul class="sectlevel2">
<li><a href="#s4-system-ay-intro-explain">AutoYaST Explained</a></li>
<li><a href="#s4-system-ay-intro-prereq">AutoYaST Prerequisites</a></li>
<li><a href="#s4-system-ay-iso">Building Bootable AutoYaST ISOs</a></li>
<li><a href="#s4-system-ay-pxe">Integrating AutoYaST with PXE</a></li>
</ul>
</li>
<li><a href="#ref.webui.systems.autoinst.kick_intro">Introduction to Kickstart</a>
<ul class="sectlevel2">
<li><a href="#s4-system-ks-intro-explain">Kickstart Explained</a></li>
<li><a href="#s4-system-ks-intro-prereq">Kickstart Prerequisites</a></li>
<li><a href="#s4-system-ks-iso">Building Bootable Kickstart ISOs</a></li>
<li><a href="#s4-system-ks-pxe">Integrating Kickstart with PXE</a></li>
</ul>
</li>
<li><a href="#ref.webui.systems.autoinst.profiles">Autoinstallation &gt; Profiles (Kickstart and AutoYaST)</a>
<ul class="sectlevel2">
<li><a href="#ref.webui.systems.autoinst.profiles.create">Create a Kickstart Profile</a></li>
<li><a href="#ref.webui.systems.autoinst.profiles.upload">Upload Kickstart/AutoYaST File</a></li>
</ul>
</li>
<li><a href="#ref.webui.systems.autoinst.bare_metal">Autoinstallation &gt;  Bare Metal</a></li>
<li><a href="#ref.webui.systems.autoinst.keys">Autoinstallation &gt;  GPG and SSL Keys</a></li>
<li><a href="#ref.webui.systems.autoinst.distribution">Autoinstallation &gt;  Distributions</a>
<ul class="sectlevel2">
<li><a href="#s4-sm-system-kick-dist-variables">Autoinstallation &gt;  Distributions  &gt;  Variables</a></li>
</ul>
</li>
<li><a href="#ref.webui.systems.autoinst.preserve">Autoinstallation &gt;  File Preservation</a></li>
<li><a href="#ref.webui.systems.autoinst.snippet">Autoinstallation &gt;  Autoinstallation Snippets</a>
<ul class="sectlevel2">
<li><a href="#s4-sm-system-kick-snippet-default">Autoinstallation  &gt;  Autoinstallation Snippets  &gt;  Default Snippets</a></li>
<li><a href="#s4-sm-system-kick-snippet-custom">Autoinstallation &gt;  Autoinstallation Snippets  &gt;  Custom Snippets</a></li>
<li><a href="#s4-sm-system-kick-snippet-all">Autoinstallation &gt;  Autoinstallation Snippets  &gt;  All Snippets</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="title">Autoinstallation Types: AutoYaST and Kickstart</div>
<div class="paragraph">
<p>In the following section, AutoYaST and AutoYaST features apply for SUSE Linux Enterprise client systems only.
For RHEL systems, use Kickstart and Kickstart features.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>AutoYaST and Kickstart configuration files allow administrators to create an environment for automating otherwise time-consuming system installations, such as multiple servers or workstations. AutoYaST files have to be uploaded to be managed with .
Kickstart files can be created, modified, and managed within the  Web interface.</p>
</div>
<div class="paragraph">
<p> also features the Cobbler installation server.
For more information on Cobbler, see
<a href="advanced_topics_cobbler.html#advanced.topics.cobbler" class="page">Cobbler</a>.</p>
</div>
<div class="paragraph">
<p> provides an interface for developing Kickstart and AutoYaST profiles that can be used to install Red Hat Enterprise Linux or SUSE Linux Enterprise on either new or already-registered systems automatically according to certain specifications.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/systems_kickstart_overview.png" alt="systems kickstart overview">
</div>
<div class="title">Figure 1. Autoinstallation Overview</div>
</div>
<div class="paragraph">
<p>This overview page displays the status of automated installations (Kickstart and AutoYaST) on your client systems: the types and number of profiles you have created and the progress of systems that are scheduled to be installed using Kickstart or AutoYaST.
In the upper right area is the <b class="menuref">Autoinstallation Actions</b> section, which contains a series of links to management actions for your Kickstart or AutoYaST  profiles.
Before explaining the various automated installation options on this page, the next two sections provide an introduction to AutoYaST  (<a href="#ref.webui.systems.autoinst.ay_intro">Introduction to AutoYaST</a>) and Kickstart (<a href="#ref.webui.systems.autoinst.kick_intro">Introduction to Kickstart</a>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.ay_intro"><a class="anchor" href="#ref.webui.systems.autoinst.ay_intro"></a><a class="link" href="#ref.webui.systems.autoinst.ay_intro">Introduction to AutoYaST</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using AutoYaST, a system administrator can create a single file containing the answers to all the questions that would normally be asked during a typical installation of a SUSE Linux Enterprise system.</p>
</div>
<div class="paragraph">
<p>AutoYaST files can be kept on a single server system and read by individual computers during the installation.
This way the same AutoYaST file is used to install SUSE Linux Enterprise on multiple machines.</p>
</div>
<div class="paragraph">
<p>The <em class="ref">SUSE Linux Enterprise Server AutoYaST Guide</em> at (<a href="https://www.suse.com/documentation/sles-15/" class="bare">https://www.suse.com/documentation/sles-15/</a>) will contain an in-depth discussion of &#8220;Automated Installation&#8221; using AutoYaST.</p>
</div>
<div class="sect2">
<h3 id="s4-system-ay-intro-explain"><a class="anchor" href="#s4-system-ay-intro-explain"></a><a class="link" href="#s4-system-ay-intro-explain">AutoYaST Explained</a></h3>
<div class="paragraph">
<p>When a machine is to receive a network-based AutoYaST installation, the following events must occur in this order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After being connected to the network and turned on, the machine&#8217;s PXE logic broadcasts its MAC address and requests to be discovered.</p>
</li>
<li>
<p>If no static IP address is used, the DHCP server recognizes the discovery request and offers network information needed for the new machine to boot. This includes an IP address, the default gateway to be used, the netmask of the network, the IP address of the TFTP or HTTP server holding the bootloader program, and the full path and file name to that program (relative to the server&#8217;s root).</p>
</li>
<li>
<p>The machine applies the networking information and initiates a session with the server to request the bootloader program.</p>
</li>
<li>
<p>The bootloader searches for its configuration file on the server from which it was loaded. This file dictates which Kernel and Kernel options, such as the initial RAM disk (initrd) image, should be executed on the booting machine. Assuming the bootloader program is SYSLINUX, this file is located in the <code class="path">pxelinux.cfg</code> directory on the server and named the hexadecimal equivalent of the new machine&#8217;s IP address. For example, a bootloader configuration file for SUSE Linux Enterprise Server should contain:</p>
<div class="listingblock">
<div class="content">
<pre>port 0
prompt 0
timeout 1
default autoyast
label autoyast
  kernel vmlinuz
  append autoyast=http://`my_susemanager_server`/`path`\
    install=http://`my_susemanager_server`/`repo_tree`</pre>
</div>
</div>
</li>
<li>
<p>The machine accepts and uncompresses the initrd and kernel, boots the kernel, fetches the instsys from the install server and initiates the AutoYaST installation with the options supplied in the bootloader configuration file, including the server containing the AutoYaST configuration file.</p>
</li>
<li>
<p>The new machine is installed based on the parameters established within the AutoYaST configuration file.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="s4-system-ay-intro-prereq"><a class="anchor" href="#s4-system-ay-intro-prereq"></a><a class="link" href="#s4-system-ay-intro-prereq">AutoYaST Prerequisites</a></h3>
<div class="paragraph">
<p>Some preparation is required for your infrastructure to handle AutoYaST installations.
For instance, before creating AutoYaST profiles, you may consider:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A DHCP server is not required for AutoYaST, but it can make things easier. If you are using static IP addresses, you should select static IP while developing your AutoYaST profile.</p>
</li>
<li>
<p>Host the AutoYaST distribution trees via HTTP, properly provided by .</p>
</li>
<li>
<p>If conducting a so-called bare-metal AutoYaST installation, provide the following settings:</p>
<div class="ulist">
<ul>
<li>
<p>Configure DHCP to assign the required networking parameters and the bootloader program location.</p>
</li>
<li>
<p>In the bootloader configuration file, specify the kernel and appropriate kernel options to be used.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="s4-system-ay-iso"><a class="anchor" href="#s4-system-ay-iso"></a><a class="link" href="#s4-system-ay-iso">Building Bootable AutoYaST ISOs</a></h3>
<div class="paragraph">
<p>While you can schedule a registered system to be installed by AutoYaST with a new operating system and package profile, you can also automatically install a system that is not registered with , or does not yet have an operating system installed.
One common method of doing this is to create a bootable CD-ROM that is inserted into the target system.
When the system is rebooted or switched on, it boots from the CD-ROM, loads the AutoYaST configuration from your , and proceeds to install SUSE Linux Enterprise Server according to the AutoYaST profile you have created.</p>
</div>
<div class="paragraph">
<p>To use the CD-ROM, boot the system and type <code>autoyast</code> at the prompt (assuming you left the label for the AutoYaST  boot as <code>autoyast</code>). When you press <kbd>Enter</kbd>, the AutoYaST  installation begins.</p>
</div>
<div class="paragraph">
<p>For more information about image creation, refer to KIWI at <a href="http://doc.opensuse.org/projects/kiwi/doc/" class="bare">http://doc.opensuse.org/projects/kiwi/doc/</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="s4-system-ay-pxe"><a class="anchor" href="#s4-system-ay-pxe"></a><a class="link" href="#s4-system-ay-pxe">Integrating AutoYaST with PXE</a></h3>
<div class="paragraph">
<p>In addition to CD-ROM-based installations, AutoYaST installation through a Pre-Boot Execution Environment (PXE) is supported.
This is less error-prone than CDs, enables AutoYaST installation from bare metal, and integrates with existing PXE/DHCP environments.</p>
</div>
<div class="paragraph">
<p>To use this method, make sure your systems have network interface cards (NIC) that support PXE, install and configure a PXE server, ensure DHCP is running, and place the installation repository on an HTTP server for deployment.
Finally upload the AutoYaST profile via the Web interface to the  server.
Once the AutoYaST profile has been created, use the URL from the <b class="menuref">Autoinstallation Overview</b> page, as for CD-ROM-based installations.</p>
</div>
<div class="paragraph">
<p>To obtain specific instructions for conducting PXE AutoYaST installation, refer to the <em>Using PXE Boot</em> section of the <em class="ref">SUSE Linux Enterprise Deployment Guide</em>.</p>
</div>
<div class="paragraph">
<p>Starting with <a href="#ref.webui.systems.autoinst.profiles">Autoinstallation &gt; Profiles (Kickstart and AutoYaST)</a>, AutoYaST options available from <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Kickstart</b></span> are described.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.kick_intro"><a class="anchor" href="#ref.webui.systems.autoinst.kick_intro"></a><a class="link" href="#ref.webui.systems.autoinst.kick_intro">Introduction to Kickstart</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using Kickstart, a system administrator can create a single file containing the answers to all the questions that would normally be asked during a typical installation of Red Hat Enterprise Linux.</p>
</div>
<div class="paragraph">
<p>Kickstart files can be kept on a single server and read by individual computers during the installation.
This method allows you to use one Kickstart file to install Red Hat Enterprise Linux on multiple machines.</p>
</div>
<div class="paragraph">
<p>The <em class="ref">Red Hat Enterprise Linux System Administration Guide</em> contains an in-depth description of Kickstart (<a href="https://access.redhat.com/documentation/en/red-hat-enterprise-linux/" class="bare">https://access.redhat.com/documentation/en/red-hat-enterprise-linux/</a>).</p>
</div>
<div class="sect2">
<h3 id="s4-system-ks-intro-explain"><a class="anchor" href="#s4-system-ks-intro-explain"></a><a class="link" href="#s4-system-ks-intro-explain">Kickstart Explained</a></h3>
<div class="paragraph">
<p>When a machine is to receive a network-based Kickstart, the following events must occur in this order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After being connected to the network and turned on, the machine&#8217;s PXE logic broadcasts its MAC address and requests to be discovered.</p>
</li>
<li>
<p>If no static IP address is used, the DHCP server recognizes the discovery request and offers network information needed for the new machine to boot. This information includes an IP address, the default gateway to be used, the netmask of the network, the IP address of the TFTP or HTTP server holding the bootloader program, and the full path and file name of that program (relative to the server&#8217;s root).</p>
</li>
<li>
<p>The machine applies the networking information and initiates a session with the server to request the bootloader program.</p>
</li>
<li>
<p>The bootloader searches for its configuration file on the server from which it was loaded. This file dictates which kernel and kernel options, such as the initial RAM disk (initrd) image, should be executed on the booting machine. Assuming the bootloader program is SYSLINUX, this file is located in the <code class="path">pxelinux.cfg</code> directory on the server and named the hexadecimal equivalent of the new machine&#8217;s IP address. For example, a bootloader configuration file for Red Hat Enterprise Linux AS 2.1 should contain:</p>
<div class="listingblock">
<div class="content">
<pre>port 0
prompt 0
timeout 1
default My_Label
label My_Label
      kernel vmlinuz
      append ks=http://`my_susemanager_server`/`path`\
          initrd=initrd.img network apic</pre>
</div>
</div>
</li>
<li>
<p>The machine accepts and uncompresses the init image and kernel, boots the kernel, and initiates a Kickstart installation with the options supplied in the bootloader configuration file, including the server containing the Kickstart configuration file.</p>
</li>
<li>
<p>This Kickstart configuration file in turn directs the machine to the location of the installation files.</p>
</li>
<li>
<p>The new machine is built based on the parameters established within the Kickstart configuration file.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="s4-system-ks-intro-prereq"><a class="anchor" href="#s4-system-ks-intro-prereq"></a><a class="link" href="#s4-system-ks-intro-prereq">Kickstart Prerequisites</a></h3>
<div class="paragraph">
<p>Some preparation is required for your infrastructure to handle Kickstarts.
For instance, before creating Kickstart profiles, you may consider:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A DHCP server is not required for kickstarting, but it can make things easier. If you are using static IP addresses, select static IP while developing your Kickstart profile.</p>
</li>
<li>
<p>An FTP server can be used instead of hosting the Kickstart distribution trees via HTTP.</p>
</li>
<li>
<p>If conducting a bare metal Kickstart, you should configure DHCP to assign required networking parameters and the bootloader program location. Also, specify within the bootloader configuration file the kernel to be used and appropriate kernel options.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="s4-system-ks-iso"><a class="anchor" href="#s4-system-ks-iso"></a><a class="link" href="#s4-system-ks-iso">Building Bootable Kickstart ISOs</a></h3>
<div class="paragraph">
<p>While you can schedule a registered system to be kickstarted to a new operating system and package profile, you can also Kickstart a system that is not registered with  or does not yet have an operating system installed.
One common method of doing this is to create a bootable CD-ROM that is inserted into the target system.
When the system is rebooted, it boots from the CD-ROM, loads the Kickstart configuration from your , and proceeds to install Red Hat Enterprise Linux according to the Kickstart profile you have created.</p>
</div>
<div class="paragraph">
<p>To do this, copy the contents of <code class="path">/isolinux</code> from the first CD-ROM of the target distribution.
Then edit the <code class="path">isolinux.cfg</code> file to default to 'ks'. Change the 'ks' section to the following template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>label ks
kernel vmlinuz
  append text ks=`url`initrd=initrd.img lang= devfs=nomount \
    ramdisk_size=16438`ksdevice`</pre>
</div>
</div>
<div class="paragraph">
<p>IP address-based Kickstart URLs will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://`my.manager.server`/kickstart/ks/mode/ip_range</pre>
</div>
</div>
<div class="paragraph">
<p>The Kickstart distribution defined via the IP range should match the distribution from which you are building, or errors will occur. <code class="replaceable">ksdevice</code> is optional, but looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ksdevice=eth0</pre>
</div>
</div>
<div class="paragraph">
<p>It is possible to change the distribution for a Kickstart profile within a family, such as Red Hat Enterprise Linux AS 4 to Red Hat Enterprise Linux ES 4, by specifying the new distribution label.
Note that you cannot move between versions (4 to 5) or between updates (U1 to U2).</p>
</div>
<div class="paragraph">
<p>Next, customize <code class="path">isolinux.cfg</code> further for your needs by adding multiple Kickstart options, different boot messages, shorter timeout periods, etc.</p>
</div>
<div class="paragraph">
<p>Next, create the ISO as described in the <em>Making an Installation Boot CD-ROM</em> section of the <em class="ref">Red Hat Enterprise Linux Installation Guide</em>.
Alternatively, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkisofs -o file.iso -b isolinux.bin -c boot.cat -no-emul-boot \
  -boot-load-size 4 -boot-info-table -R -J -v -T isolinux/</pre>
</div>
</div>
<div class="paragraph">
<p>Note that <code class="path">isolinux/</code> is the relative path to the directory containing the modified isolinux files copied from the distribution CD, while <code class="path">file.iso</code> is the output ISO file, which is placed into the current directory.</p>
</div>
<div class="paragraph">
<p>Burn the ISO to CD-ROM and insert the disc.
Boot the system and type "ks" at the prompt (assuming you left the label for the Kickstart boot as 'ks'). When you press <kbd>Enter</kbd>, Kickstart starts running.</p>
</div>
</div>
<div class="sect2">
<h3 id="s4-system-ks-pxe"><a class="anchor" href="#s4-system-ks-pxe"></a><a class="link" href="#s4-system-ks-pxe">Integrating Kickstart with PXE</a></h3>
<div class="paragraph">
<p>In addition to CD-ROM-based installs, Kickstart supports a Pre-Boot Execution Environment (PXE). This is less error-prone than CDs, enables kickstarting from bare metal, and integrates with existing PXE/DHCP environments.</p>
</div>
<div class="paragraph">
<p>To use this method, make sure your systems have network interface cards (NIC) that support PXE.
Install and configure a PXE server and ensure DHCP is running.
Then place the appropriate files on an HTTP server for deployment.
Once the Kickstart profile has been created, use the URL from the <b class="menuref">Kickstart Details</b> page, as for CD-ROM-based installs.</p>
</div>
<div class="paragraph">
<p>To obtain specific instructions for conducting PXE Kickstarts, refer to the <em>PXE Network Installations</em> chapter of the <em class="ref">Red Hat Enterprise Linux 4 System Administration    Guide</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Running the Network Booting Tool, as described in the Red Hat Enterprise Linux 4: System Administration Guide, select "HTTP" as the protocol and include the domain name of the  in the Server field if you intend to use it to distribute the installation files.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sections describe the autoinstallation options available from the <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Autoinstallation</b></span> page.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.profiles"><a class="anchor" href="#ref.webui.systems.autoinst.profiles"></a><a class="link" href="#ref.webui.systems.autoinst.profiles">Autoinstallation &gt; Profiles (Kickstart and AutoYaST)</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This page lists all profiles for your organization, shows whether these profiles are active, and specifies the distribution tree with which each profile is associated.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/systems_kickstart_overview.png" alt="systems kickstart overview">
</div>
</div>
<div class="paragraph">
<p>You can either create a Kickstart profile by clicking the <code class="guimenu">Create Kickstart Profile</code> link, upload or paste the contents of a new profile clicking the <code class="guimenu">Upload Kickstart/Autoyast File</code>, or edit an existing Kickstart profile by clicking the name of the profile.
Note, you can only update AutoYaST profiles using the upload button.
You can also view AutoYaST profiles in the edit box or change the virtualization type using the selection list.</p>
</div>
<div class="sect2">
<h3 id="ref.webui.systems.autoinst.profiles.create"><a class="anchor" href="#ref.webui.systems.autoinst.profiles.create"></a><a class="link" href="#ref.webui.systems.autoinst.profiles.create">Create a Kickstart Profile</a></h3>
<div class="paragraph">
<p>Click on the <code class="guimenu">Create Kickstart Profile</code> link from the <span class="menuseq"><b class="menu">Main Menu</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Autoinstallation</b></span> page to start the wizard that populates the base values needed for a Kickstart profile.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/create_profile_wizard.png" alt="create profile wizard">
</div>
</div>
<div class="olist arabic">
<div class="title">Procedure: Creating a Kickstart Profile</div>
<ol class="arabic">
<li>
<p>On the first line, enter a Kickstart profile label. This label cannot contain spaces, so use dashes (<code>-</code>) or underscores (<code>\_</code>) as separators.</p>
</li>
<li>
<p>Select a <code class="guimenu">Base Channel</code> for this profile, which consists of packages based on a specific architecture and Red Hat Enterprise Linux release.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="title">Creating Base Channel</div>
Base channels are only available if a suitable distribution is created first.
For creating distributions, see <a href="#ref.webui.systems.autoinst.distribution">Autoinstallation &gt;  Distributions</a>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select an <code class="guimenu">Kickstartable Tree</code> for this profile. The <code class="guimenu">Kickstartable Tree</code> drop-down menu is only populated if one or more distributions have been created for the selected base channel (see <a href="#ref.webui.systems.autoinst.distribution">Autoinstallation &gt;  Distributions</a>).</p>
</li>
<li>
<p>Instead of selecting a specific tree, you can also check the box <code class="guimenu">Always use the newest Tree for this base channel</code>. This setting lets  automatically pick the latest tree that is associated with the specified base channels. If you add new trees later,  will always keep the most recently created or modified.</p>
</li>
<li>
<p>Select the <code class="guimenu">Virtualization Type</code> from the drop-down menu.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
If you do not intend to use the Kickstart profile to create virtual guest systems, you can leave the drop-down at the default <code class="guimenu">None</code> choice.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>On the second page, select (or enter) the location of the Kickstart tree.</p>
</li>
<li>
<p>On the third page, select a root password for the system.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Depending on your base channel, your newly created Kickstart profile might be subscribed to a channel that is missing required packages.
For Kickstart to work properly, the following packages should be present in its base channel: <code class="package">pyOpenSSL</code>, <code class="package">rhnlib</code>, <code class="package">libxml2-python</code>, and <code class="package">spacewalk-koan</code> and associated packages.</p>
</div>
<div class="paragraph">
<p>To resolve this issue:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make sure that the Tools software channel for the Kickstart profile&#8217;s base channel is available to your organization. If it is not, you must request entitlements for the Tools software channel from the  administrator.</p>
</li>
<li>
<p>Make sure that the Tools software channel for this Kickstart profile&#8217;s base channel is available to your  as a child channel.</p>
</li>
<li>
<p>Make sure that <code class="package">rhn-kickstart</code> and associated packages corresponding to this Kickstart are available in the Tools child channel.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The final stage of the wizard presents the <span class="menuseq"><b class="menu">Autoinstallation Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Details</b></span> tab.
On this tab and the other subtabs, nearly every option for the new Kickstart profile can be customized.</p>
</div>
<div class="paragraph">
<p>Once created, you can access the Kickstart profile by downloading it from the <code class="guimenu">Autoinstallation Details</code> page by clicking the <code class="guimenu">Autoinstallation File</code> subtab and clicking the <code class="guimenu">Download Autoinstallation File</code> link.</p>
</div>
<div class="paragraph">
<p>If the Kickstart file is <em>not</em> managed by , you can access it via the following URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://`my.manager.server`/ks/dist/ks-rhel-`ARCH`-`VARIANT`-`VERSION`</pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, <code class="replaceable">ARCH</code> is the architecture of the Kickstart file, <code class="replaceable">VARIANT</code> is either <code>client</code> or <code>server</code>, and <code class="replaceable">VERSION</code> is the release of Red Hat Enterprise Linux associated with the Kickstart file.</p>
</div>
<div class="paragraph">
<p>The following sections describe the options available on each subtab.</p>
</div>
<div class="sect3">
<h4 id="s4-system-ks-details-details"><a class="anchor" href="#s4-system-ks-details-details"></a><a class="link" href="#s4-system-ks-details-details">Autoinstallation Details  &gt;  Details</a></h4>
<div class="imageblock">
<div class="content">
<img src="_images/details-ks-3.png" alt="details ks 3">
</div>
</div>
<div class="paragraph">
<p>On the <span class="menuseq"><b class="menu">Autoinstallation Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Details</b></span> page, you have the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Change the profile <code class="guimenu">Label</code>.</p>
</li>
<li>
<p>Change the operating system by clicking <code class="guimenu">(Change)</code>.</p>
</li>
<li>
<p>Change the <code class="guimenu">Virtualization Type</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
Changing the <code class="guimenu">Virtualization Type</code> may require changes to the Kickstart profile bootloader and partition options, potentially overwriting user customizations.
Consult the <code class="guimenu">Partitioning</code> tab to verify any new or changed settings.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Change the amount of <code class="guimenu">Virtual Memory</code> (in Megabytes of RAM) allocated to virtual guests autoinstalled with this profile.</p>
</li>
<li>
<p>Change the number of <code class="guimenu">Virtual CPUs</code> for each virtual guest.</p>
</li>
<li>
<p>Change the <code class="guimenu">Virtual Storage Path</code> from the default in <code class="path">/var/lib/xen/</code> .</p>
</li>
<li>
<p>Change the amount of <code class="guimenu">Virtual Disk Space</code> (in GB) allotted to each virtual guest.</p>
</li>
<li>
<p>Change the <code class="guimenu">Virtual Bridge</code> for networking of the virtual guest.</p>
</li>
<li>
<p>Deactivate the profile so that it cannot be used to schedule a Kickstart by removing the <code class="guimenu">Active</code> check mark.</p>
</li>
<li>
<p>Check whether to enable logging for custom <code class="option">%post</code> scripts to the <code class="path">/root/ks-post.log</code> file.</p>
</li>
<li>
<p>Decide whether to enable logging for custom <code class="option">%pre</code> scripts to the <code class="path">/root/ks-pre.log</code> file.</p>
</li>
<li>
<p>Choose whether to preserve the <code class="path">ks.cfg</code> file and all <code>%include</code> fragments to the <code class="path">/root/</code> directory of all systems autoinstalled with this profile.</p>
</li>
<li>
<p>Select whether this profile is the default for all of your organization&#8217;s Kickstarts by checking or unchecking the box.</p>
</li>
<li>
<p>Add any <code class="guimenu">Kernel Options</code> in the corresponding text box.</p>
</li>
<li>
<p>Add any <code class="guimenu">Post Kernel Options</code> in the corresponding text box.</p>
</li>
<li>
<p>Enter comments that are useful to you in distinguishing this profile from others.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-details-options"><a class="anchor" href="#s4-system-ks-details-options"></a><a class="link" href="#s4-system-ks-details-options">Autoinstallation Details &gt;  Operating System</a></h4>
<div class="paragraph">
<p>On this page, you can make the following changes to the operating system that the Kickstart profile installs:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Change the base channel</dt>
<dd>
<p>Select from the available base channels.  administrators see a list of all base channels that are currently synced to the .</p>
</dd>
<dt class="hdlist1">Child Channels</dt>
<dd>
<p>Subscribe to available child channels of the base channel, such as the Tools channel.</p>
</dd>
<dt class="hdlist1">Available Trees</dt>
<dd>
<p>Use the drop-down menu to choose from available trees associated with the base channel.</p>
</dd>
<dt class="hdlist1">Always use the newest Tree for this base channel.</dt>
<dd>
<p>Instead of selecting a specific tree, you can also check the box <b class="menuref">Always use the newest Tree for this base channel.</b>
This setting lets  automatically pick the latest tree that is associated with the specified base channels.
If you add new trees later,  will always keep the most recently created or modified.</p>
</dd>
<dt class="hdlist1">Software URL (File Location)</dt>
<dd>
<p>The exact location from which the Kickstart tree is mounted.
This value is determined when the profile is created.
You can view it on this page but you cannot change it.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="s4-sm-system-kick-details-variables"><a class="anchor" href="#s4-sm-system-kick-details-variables"></a><a class="link" href="#s4-sm-system-kick-details-variables">Autoinstallation Details &gt;  Variables</a></h4>
<div class="paragraph">
<p>Autoinstallation variables can substitute values in Kickstart and AutoYaST profiles.
To define a variable, create a name-value pair (<code class="replaceable">name/value</code>) in the text box.</p>
</div>
<div class="paragraph">
<p>For example, if you want to autoinstall a system that joins the network of a specified organization (for example the Engineering department), you can create a profile variable to set the IP address and the gateway server address to a variable that any system using that profile will use.
Add the following line to the <code class="guimenu">Variables</code> text box.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>IPADDR=192.168.0.28
GATEWAY=192.168.0.1</pre>
</div>
</div>
<div class="paragraph">
<p>Now you can use the name of the variable in the profile instead of a specific value.
For example, the <code class="option">network</code> part of a Kickstart file looks like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>network --bootproto=static --device=eth0 --onboot=on --ip=$IPADDR \
  --gateway=$GATEWAY</pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="option">$IPADDR</code> will be resolved to <code>192.168.0.28</code>, and the <code class="option">$GATEWAY</code> to <code>192.168.0.1</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is a hierarchy when creating and using variables in Kickstart files.
System Kickstart variables take precedence over <code class="guimenu">Profile</code> variables, which in turn take precedence over <code class="guimenu">Distribution</code> variables.
Understanding this hierarchy can alleviate confusion when using variables in Kickstarts.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using variables are just one part of the larger Cobbler infrastructure for creating templates that can be shared between multiple profiles and systems.
For more information about Cobbler and templates, refer to
<a href="advanced_topics_cobbler.html#advanced.topics.cobbler" class="page">Cobbler</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-sm-system-kick-details-advanced"><a class="anchor" href="#s4-sm-system-kick-details-advanced"></a><a class="link" href="#s4-sm-system-kick-details-advanced">Autoinstallation Details &gt;  Advanced Options</a></h4>
<div class="paragraph">
<p>From this page, you can toggle several installation options on and off by checking and unchecking the boxes to the left of the option.
For most installations, the default options are correct.
Refer to Red Hat Enterprise Linux documentation for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-sm-system-kick-details-defprofile"><a class="anchor" href="#s4-sm-system-kick-details-defprofile"></a><a class="link" href="#s4-sm-system-kick-details-defprofile">Assigning Default Profiles to an Organization</a></h4>
<div class="paragraph">
<p>You can specify an Organization Default Profile by clicking <span class="menuseq"><b class="menu">Autoinstallation</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Profiles</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">profile name</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Details</b></span>, then checking the <code class="guimenu">Organization Default Profile</code> box and finally clicking <code class="guimenu">Update</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-sm-system-kick-details-iprange"><a class="anchor" href="#s4-sm-system-kick-details-iprange"></a><a class="link" href="#s4-sm-system-kick-details-iprange">Assigning IP Ranges to Profiles</a></h4>
<div class="paragraph">
<p>You can associate an IP range to an autoinstallation profile by clicking on <span class="menuseq"><b class="menu">Autoinstallation</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Profiles</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">profile name</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Bare Metal Autoinstallation</b></span>, adding an IPv4 range and finally clicking <b class="menuref">Add IP Range</b>.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-sm-system-kick-details-packages"><a class="anchor" href="#s4-sm-system-kick-details-packages"></a><a class="link" href="#s4-sm-system-kick-details-packages">Autoinstallation Details &gt;  Bare Metal Autoinstallation</a></h4>
<div class="paragraph">
<p>This subtab provides the information necessary to Kickstart systems that are not currently registered with .
Using the on-screen instructions, you may either autoinstall systems using boot media (CD-ROM) or by IP address.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-sm-system-kick-details-pre"><a class="anchor" href="#s4-sm-system-kick-details-pre"></a><a class="link" href="#s4-sm-system-kick-details-pre"><span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Details</b></span></a></h4>
<div class="paragraph">
<p>Displays subtabs that are available from the <code class="guimenu">System Details</code> tab.</p>
</div>
<div class="paragraph">
<p>On the <span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Details</b></span> page, you have the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select between DHCP and static IP, depending on your network.</p>
</li>
<li>
<p>Choose the level of SELinux that is configured on kickstarted systems.</p>
</li>
<li>
<p>Enable configuration management or remote command execution on kickstarted systems.</p>
</li>
<li>
<p>Change the root password associated with this profile.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/details-ks-4.png" alt="details ks 4">
</div>
</div>
</div>
<div class="sect3">
<h4 id="s4-sm-system-kick-details-post"><a class="anchor" href="#s4-sm-system-kick-details-post"></a><a class="link" href="#s4-sm-system-kick-details-post">System Details &gt;  Locale</a></h4>
<div class="paragraph">
<p>Change the timezone for kickstarted systems.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-sysd-partition"><a class="anchor" href="#s4-system-ks-sysd-partition"></a><a class="link" href="#s4-system-ks-sysd-partition">System Details &gt;  Partitioning</a></h4>
<div class="paragraph">
<p>From this subtab, indicate the partitions that you wish to create during installation.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>partition /boot --fstype=ext3 --size=200
partition swap --size=2000
partition pv.01 --size=1000 --grow
volgroup myvg pv.01 logvol / --vgname=myvg --name=rootvol --size=1000 --grow</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-sysd-file-pres"><a class="anchor" href="#s4-system-ks-sysd-file-pres"></a><a class="link" href="#s4-system-ks-sysd-file-pres">System Details &gt;  File Preservation</a></h4>
<div class="paragraph">
<p>If you have previously created a file preservation list, include this list as part of the Kickstart.
This will protect the listed files from being over-written during the installation process.
Refer to <a href="#ref.webui.systems.autoinst.preserve">Autoinstallation &gt;  File Preservation</a> for information on how to create a file preservation list.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-sysd-gpg-ssl"><a class="anchor" href="#s4-system-ks-sysd-gpg-ssl"></a><a class="link" href="#s4-system-ks-sysd-gpg-ssl">System Details &gt;  GPG &amp; SSL</a></h4>
<div class="paragraph">
<p>From this subtab, select the GPG keys and/or SSL certificates to be exported to the kickstarted system during the %post section of the Kickstart.
For  customers, this list includes the SSL Certificate used during the installation of .</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Any GPG key you wish to export to the kickstarted system must be in ASCII rather than binary format.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-sysd-trouble"><a class="anchor" href="#s4-system-ks-sysd-trouble"></a><a class="link" href="#s4-system-ks-sysd-trouble">System Details &gt;  Troubleshooting</a></h4>
<div class="paragraph">
<p>From this subtab, change information that may help with troubleshooting hardware problems:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Bootloader</dt>
<dd>
<p>For some headless systems, it is better to select the non-graphic LILO bootloader.</p>
</dd>
<dt class="hdlist1">Kernel Parameters</dt>
<dd>
<p>Enter kernel parameters here that may help to narrow down the source of hardware issues.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-soft-pkg-group"><a class="anchor" href="#s4-system-ks-soft-pkg-group"></a><a class="link" href="#s4-system-ks-soft-pkg-group">Software &gt;  Package Groups</a></h4>
<div class="imageblock">
<div class="content">
<img src="_images/details-ks-5.png" alt="details ks 5">
</div>
</div>
<div class="paragraph">
<p>The image above shows subtabs that are available from the <code class="guimenu">Software</code> tab.</p>
</div>
<div class="paragraph">
<p>Enter the package groups, such as <code class="systemitem">@office</code> or <code class="systemitem">@admin-tools</code> you would like to install on the kickstarted system in the large text box.
If you would like to know what package groups are available, and what packages they contain, refer to the <code class="path">RedHat/base/</code> file of your Kickstart tree.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-soft-pkg-profile"><a class="anchor" href="#s4-system-ks-soft-pkg-profile"></a><a class="link" href="#s4-system-ks-soft-pkg-profile">Software &gt;  Package Profiles</a></h4>
<div class="paragraph">
<p>If you have previously created a Package Profile from one of your registered systems, you can use that profile as a template for the files to be installed on a kickstarted system.
Refer to
<a href="reference-webui-systems.html#s4-sm-system-details-packages" class="page">Package Profiles</a>
for more information about package profiles.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-act-keys"><a class="anchor" href="#s4-system-ks-act-keys"></a><a class="link" href="#s4-system-ks-act-keys">Activation Keys</a></h4>
<div class="imageblock">
<div class="content">
<img src="_images/details-ks-6.png" alt="details ks 6">
</div>
<div class="title">Figure 2. Activation Keys</div>
</div>
<div class="paragraph">
<p>The <code class="guimenu">Activation Keys</code> tab allows you to select Activation Keys to include as part of the Kickstart profile.
These keys, which must be created before the Kickstart profile, will be used when re-registering kickstarted systems.</p>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-scripts"><a class="anchor" href="#s4-system-ks-scripts"></a><a class="link" href="#s4-system-ks-scripts">Scripts</a></h4>
<div class="imageblock">
<div class="content">
<img src="_images/details-ks-7.png" alt="details ks 7">
</div>
<div class="title">Figure 3. Scripts</div>
</div>
<div class="paragraph">
<p>The <code class="guimenu">Scripts</code> tab is where <code class="option">%pre</code> and <code class="option">%post</code> scripts are created.
This page lists any scripts that have already been created for this Kickstart profile.
To create a Kickstart script, perform the following procedure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <code class="guimenu">add new kickstart script</code> link in the upper right corner.</p>
</li>
<li>
<p>Enter the path to the scripting language used to create the script, such as <code>/usr/bin/perl</code>.</p>
</li>
<li>
<p>Enter the full script in the large text box.</p>
</li>
<li>
<p>Indicate whether this script is to be executed in the <code class="option">%pre</code> or <code class="option">%post</code> section of the Kickstart process.</p>
</li>
<li>
<p>Indicate whether this script is to run outside of the chroot environment. Refer to the <em class="ref">Post-installation Script</em> section of the <em class="ref">Red Hat Enterprise Linux System Administration Guide</em> for further explanation of the <code class="option">nochroot</code> option.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="paragraph">
<p> supports the inclusion of separate files within the Partition Details section of the Kickstart profile.
For instance, you may dynamically generate a partition file based on the machine type and number of disks at Kickstart time.
This file can be created via <code class="option">%pre</code> script and placed on the system, such as <code class="path">/tmp/part-include</code>.
Then you can call for that file by entering the following line in the Partition Details field of the <span class="menuseq"><b class="menu">System Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Partitioning</b></span> tab:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>%include /tmp/part-include</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="s4-system-ks-ks-file"><a class="anchor" href="#s4-system-ks-ks-file"></a><a class="link" href="#s4-system-ks-ks-file">Autoinstallation File</a></h4>
<div class="imageblock">
<div class="content">
<img src="_images/details-ks-8.png" alt="details ks 8">
</div>
<div class="title">Figure 4. Autoinstallation File</div>
</div>
<div class="paragraph">
<p>The <code class="guimenu">Autoinstallation File</code> tab allows you to view or download the profile that has been generated from the options chosen in the previous tabs.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ref.webui.systems.autoinst.profiles.upload"><a class="anchor" href="#ref.webui.systems.autoinst.profiles.upload"></a><a class="link" href="#ref.webui.systems.autoinst.profiles.upload">Upload Kickstart/AutoYaST File</a></h3>
<div class="paragraph">
<p>Click the <code class="guimenu">Upload Kickstart/Autoyast File</code> link from the <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Autoinstallation</b></span> page to upload an externally prepared AutoYaST or Kickstart profile.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the first line, enter a profile <code class="guimenu">Label</code> for the automated installation. This label[] drop-down menu is only populated if one or more distributions have been created for the selected base channel (see <a href="#ref.webui.systems.autoinst.distribution">Autoinstallation &gt;  Distributions</a>).</p>
</li>
<li>
<p>Instead of selecting a specific tree, you can also check the box <code class="guimenu">Always use the newest Tree</code> for this base channel. This setting lets  automatically pick the latest tree that is associated with the specified base channels. If you add new trees later,  will always keep the most recently created or modified.</p>
</li>
<li>
<p>Select the <code class="guimenu">Virtualization Type</code> from the drop-down menu. For more information about virtualization, refer to
<a href="advanced_topics_virtualization.html#advanced.topics.virtualization" class="page">Virtualization</a>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
If you do not intend to use the autoinstall profile to create virtual guest systems, you can leave the drop-down set to the default choice <code class="guimenu">KVM Virtualized Guest</code>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Finally, either provide the file contents with cut-and-paste or update the file from the local storage medium:</p>
<div class="ulist">
<ul>
<li>
<p>Paste it into the <code class="guimenu">File Contents</code> box and click <code class="guimenu">Create</code>, or</p>
</li>
<li>
<p>enter the file name in the <code class="guimenu">File to Upload</code> field and click <b class="button">Upload File</b>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once done, four subtabs are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="guimenu">Details</code></p>
</li>
<li>
<p><code class="guimenu">Bare Metal</code></p>
</li>
<li>
<p><code class="guimenu">Variables</code></p>
</li>
<li>
<p><code class="guimenu">Autoinstallable File</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.bare_metal"><a class="anchor" href="#ref.webui.systems.autoinst.bare_metal"></a><a class="link" href="#ref.webui.systems.autoinst.bare_metal">Autoinstallation &gt;  Bare Metal</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lists the IP addresses that have been associated with the profiles created by your organization.
Click either the range or the profile name to access different tabs of the <code class="guimenu">Autoinstallation Details</code> page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.keys"><a class="anchor" href="#ref.webui.systems.autoinst.keys"></a><a class="link" href="#ref.webui.systems.autoinst.keys">Autoinstallation &gt;  GPG and SSL Keys</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lists keys and certificates available for inclusion in Kickstart profiles and provides a means to create new ones.
This is especially important for customers of  or the Proxy Server because systems kickstarted by them must have the server key imported into  and associated with the relevant Kickstart profiles.
Import it by creating a new key here and then make the profile association in the <code class="guimenu">GPG and SSL keys</code> subtab of the <code class="guimenu">Autoinstallation Details</code> page.</p>
</div>
<div class="paragraph">
<p>To create a key or certificate, click the <code class="guimenu">Create Stored Key/Cert</code> link in the upper-right corner of the page.
Enter a description, select the type, upload the file, and click the <b class="button">Update Key</b> button.
A unique description is required.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title=":heavy_exclamation_mark:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The GPG key you upload to  must be in ASCII format.
Using a GPG key in binary format causes anaconda, and therefore the Kickstart process, to fail.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.distribution"><a class="anchor" href="#ref.webui.systems.autoinst.distribution"></a><a class="link" href="#ref.webui.systems.autoinst.distribution">Autoinstallation &gt;  Distributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code class="guimenu">Distributions</code> page enables you to find and create custom installation trees that may be used for automated installations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code class="guimenu">Distributions</code> page does not display distributions already provided.
They can be found within the <code class="guimenu">Distribution</code> drop-down menu of the <code class="guimenu">Autoinstallation Details</code> page.</p>
</div>
<div class="paragraph">
<p>Before creating a distribution, you must make an installation data available, as described in the <em class="ref">SUSE Linux Enterprise Deployment Guide</em> (<a href="https://www.suse.com/documentation/sles-12/singlehtml/book_sle_deployment/book_sle_deployment.html" class="bare">https://www.suse.com/documentation/sles-12/singlehtml/book_sle_deployment/book_sle_deployment.html</a>) or, respectively, the <em>Kickstart Installations</em> chapter of the <em class="ref">Red Hat Enterprise Linux System Administration Guide</em>.
This tree must be located in a local directory on the  server.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure: Creating a Distribution for Autoinstallation</div>
<ol class="arabic">
<li>
<p>To create a distribution, on the <code class="guimenu">Autoinstallable Distributions</code> page click <code class="guimenu">Create Distribution</code> in the upper right corner.</p>
</li>
<li>
<p>On the <code class="guimenu">Create Autoinstallable Distribution</code> page, provide the following data:</p>
<div class="ulist">
<ul>
<li>
<p>Enter a label (without spaces) in the <code class="guimenu">Distribution Label</code> field, such as <code>my-orgs-sles-12-sp2</code> or <code>my-orgs-rhel-as-7</code>.</p>
</li>
<li>
<p>In the <b class="menuref">Tree Path</b> field, paste the path to the base of the installation tree.</p>
</li>
<li>
<p>Select the matching distribution from the <code class="guimenu">Base Channel</code> and <code class="guimenu">Installer Generation</code> drop-down menus, such as <code>SUSE Linux</code> for SUSE Linux Enterprise, or <code>Red Hat Enterprise Linux 7</code> for Red Hat Enterprise Linux 7 client systems.</p>
</li>
</ul>
</div>
</li>
<li>
<p>When finished, click the <b class="button">Create Autoinstallable Distribution</b> button.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="s4-sm-system-kick-dist-variables"><a class="anchor" href="#s4-sm-system-kick-dist-variables"></a><a class="link" href="#s4-sm-system-kick-dist-variables">Autoinstallation &gt;  Distributions  &gt;  Variables</a></h3>
<div class="paragraph">
<p>Autoinstallation variables can be used to substitute values into Kickstart and AutoYaST profiles.
To define a variable, create a name-value pair (<code class="replaceable">name/value</code>) in the text box.</p>
</div>
<div class="paragraph">
<p>For example, if you want to autoinstall a system that joins the network of a specified organization (for example the Engineering department) you can create a profile variable to set the IP address and the gateway server address to a variable that any system using that profile will use.
Add the following line to the <code class="guimenu">Variables</code> text box.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>IPADDR=192.168.0.28
GATEWAY=192.168.0.1</pre>
</div>
</div>
<div class="paragraph">
<p>To use the distribution variable, use the name of the variable in the profile to substitute the value.
For example, the <code class="option">network</code> part of a Kickstart file looks like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>network --bootproto=static --device=eth0 --onboot=on --ip=$IPADDR \
  --gateway=$GATEWAY</pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="option">$IPADDR</code> will be resolved to <code>192.168.0.28</code>, and the <code class="option">$GATEWAY</code> to <code>192.168.0.1</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There is a hierarchy when creating and using variables in Kickstart files.
System Kickstart variables take precedence over Profile variables, which in turn take precedence over Distribution variables.
Understanding this hierarchy can alleviate confusion when using variables in Kickstarts.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In AutoYaST profiles you can use such variables as well.</p>
</div>
<div class="paragraph">
<p>Using variables are just one part of the larger Cobbler infrastructure for creating templates that can be shared between multiple profiles and systems.
For more information about Cobbler and templates, refer to
<a href="advanced_topics_cobbler.html#advanced.topics.cobbler" class="page">Cobbler</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.preserve"><a class="anchor" href="#ref.webui.systems.autoinst.preserve"></a><a class="link" href="#ref.webui.systems.autoinst.preserve">Autoinstallation &gt;  File Preservation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Collects lists of files to be protected and re-deployed on systems during Kickstart.
For instance, if you have many custom configuration files located on a system to be kickstarted, enter them here as a list and associate that list with the Kickstart profile to be used.</p>
</div>
<div class="paragraph">
<p>To use this feature, click the <code class="guimenu">Create File Preservation List</code> link at the top.
Enter a suitable label and all files and directories to be preserved.
Enter absolute paths to all files and directories.
Then click <b class="button">Create List</b>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title=":heavy_exclamation_mark:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Although file preservation is useful, it does have limitations.
Each list is limited to a total size of 1 MB.
Special devices like <code class="path">/dev/hda1</code> and <code class="path">/dev/sda1</code> are not supported.
Only file and directory names may be entered.
No regular expression wildcards can be used.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When finished, you may include the file preservation list in the Kickstart profile to be used on systems containing those files.
Refer to <a href="#ref.webui.systems.autoinst.profiles.create">Create a Kickstart Profile</a> for precise steps.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref.webui.systems.autoinst.snippet"><a class="anchor" href="#ref.webui.systems.autoinst.snippet"></a><a class="link" href="#ref.webui.systems.autoinst.snippet">Autoinstallation &gt;  Autoinstallation Snippets</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use snippets to store common blocks of code that can be shared across multiple Kickstart or AutoYaST profiles in .</p>
</div>
<div class="sect2">
<h3 id="s4-sm-system-kick-snippet-default"><a class="anchor" href="#s4-sm-system-kick-snippet-default"></a><a class="link" href="#s4-sm-system-kick-snippet-default">Autoinstallation  &gt;  Autoinstallation Snippets  &gt;  Default Snippets</a></h3>
<div class="paragraph">
<p>Default snippets coming with  are not editable.
You can use a snippet, if you add the <code class="guimenu">Snippet Macro</code> statement such as <code>$SNIPPET('spacewalk/sles_register_script')</code> to your autoinstallation profile.
This is an AutoYaST profile example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;init-scripts config:type="list"&gt;
  $SNIPPET('spacewalk/sles_register_script')
&lt;/init-scripts&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>When you create a snippet with the <code class="guimenu">Create Snippet</code> link, all profiles including that snippet will be updated accordingly.</p>
</div>
</div>
<div class="sect2">
<h3 id="s4-sm-system-kick-snippet-custom"><a class="anchor" href="#s4-sm-system-kick-snippet-custom"></a><a class="link" href="#s4-sm-system-kick-snippet-custom">Autoinstallation &gt;  Autoinstallation Snippets  &gt;  Custom Snippets</a></h3>
<div class="paragraph">
<p>This is the tab with custom snippets.
Click a name of a snippet to view, edit, or delete it.</p>
</div>
</div>
<div class="sect2">
<h3 id="s4-sm-system-kick-snippet-all"><a class="anchor" href="#s4-sm-system-kick-snippet-all"></a><a class="link" href="#s4-sm-system-kick-snippet-all">Autoinstallation &gt;  Autoinstallation Snippets  &gt;  All Snippets</a></h3>
<div class="paragraph">
<p>q
The <code class="guimenu">All Snippets</code> tab lists default and custom snippets together.</p>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>Copyright (C) 2017-2018 <a href="https://jcayouette.github.io/personal-blog">Belief and Reason</a></p>
  <p>Except where otherwise noted, jcayouette.github.io/personal-blog, BoR, are licensed under the <a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License Version 2.0</a> (MPL-2.0).</p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
function focusSearchInput () { document.querySelector('#search-input').focus() }
var search = docsearch({
  appId: '#',
  apiKey: '#',
  indexName: '#',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete
search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
focusSearchInput()
window.addEventListener('load', focusSearchInput)
</script>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
