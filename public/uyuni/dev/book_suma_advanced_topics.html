<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Topics :: Uyuni Documentation (Prototype)</title>
    <meta name="generator" content="Antora 1.0.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-extra.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://jcayouette.github.io/personal-blog">Belief and Reason</a>
        <span class="separator">//</span>
        <a href="../..">Library</a>
      </div>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Projects</div>
          <div class="navbar-dropdown">
            <div class="navbar-item"><strong>Resources</strong></div>
            <a class="navbar-item" href="https://github.com/jcayouette/personal-blog">Repository</a>
            <a class="navbar-item" href="https://github.com/jcayouette/personal-blog/issues">Issue Tracker</a>
<!--
            <hr class="navbar-divider">
            <div class="navbar-item"><strong>Custom UI (coming soon!)</strong></div>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default">Repository</a>
            <a class="navbar-item" href="https://gitlab.com/antora/antora-ui-default/issues">Issue Tracker</a>
            <hr class="navbar-divider">
          -->
            <a class="navbar-item" href="https://github.com/jcayouette/blob/master/contributing.adoc">Contributing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <div class="navbar-link">Community</div>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" href="https://discord.gg/vmrAYE3">Discord Chat</a>
          </div>
        </div>
        <a class="navbar-item" href="https://twitter.com/BaR-project">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path fill="#57aaee" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="uyuni" data-version="dev">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="MAIN-manager.html">Uyuni</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="book_mgr_getting_started.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="quickstart3_chap_install_overview.html">Overview and Requirements</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq">Prerequisites for Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.scc">SUSE SCC Credentials</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.installmedia">Get Uyuni</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.hardware">Hardware Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.network">Network Requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.prereq.clientos">Supported Client Systems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="quickstart3_chap_suma_installation_jeos.html">Installation via JeOS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#quickstart.sect.kvm.settings">Configuring KVM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#jeos.kvm.settings">JeOS KVM Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#jeos.susemgr.prep">Preparing JeOS for Uyuni</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_installation_sles.html">Installation via SLES</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_setup_with_yast.html">Setup and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_keys_and_first_client.html">Connecting Clients</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quickstart3_chap_suma_salt_gs.html">Introduction to Salt</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="book_mgr_best_practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="book_suma_reference_manual.html">WebUI Reference</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="book_suma_advanced_topics.html">Advanced Topics</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Uyuni</span>
    <span class="version">dev</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Uyuni</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="MAIN-manager.html">dev</a>
        </li>
        <li class="version">
          <a href="../3.2/MAIN-manager.html">3.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="MAIN-manager.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="MAIN-manager.html">Uyuni</a></li>
    <li class="crumb"><a href="book_suma_advanced_topics.html">Advanced Topics</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">dev</button>
  <div class="versions-menu">
    <a class="version is-current" href="book_suma_advanced_topics.html">dev</a>
    <a class="version" href="../3.2/book_suma_advanced_topics.html">3.2</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/jcayouette/uyuni-doc-test/edit/master/docs/modules/ROOT/pages/book_suma_advanced_topics.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Advanced Topics</h1>
<div class="sect1">
<h2 id="preface.susemanager.at"><a class="anchor" href="#preface.susemanager.at"></a>About This Guide</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="title"> Version Information</div>
<div class="paragraph">
<p>In this manual if not other specified,  version 3.2 is assumed and this version is required if a feature is discussed.
 3.2 and  3.2 Proxy were originally released as a SLES 12 SP3 extension.
Whenever features of the 3.2 host operating system are documented and not other specified version 12 SP3 is assumed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>_introduction"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_base_system_requirements"&gt;Base System Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_additional_requirements"&gt;Additional Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_sles_12sp3_installation_and_the_extension"&gt;SLES 12SP3 Installation and the  Extension&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_introduction"&gt;&lt;a class="anchor" href="#_introduction"&gt;&lt;/a&gt;&lt;a class="link" href="#_introduction"&gt;Introduction&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This best practice guide is intended for z/VM administrators responsible for operating the IBM z Systems
Mainframe.
The goal of this guide is to lead an z/VM administrator trained on normal z Systems
operating protocols through the installation of
onto an existing mainframe system.
The intent of this article is not to cover the variety of hardware configuration profiles available on z Systems
but instead to provide a foundational overview of the procedure and requirements necessary for a successful
server deployment.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_base_system_requirements"&gt;&lt;a class="anchor" href="#_base_system_requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#_base_system_requirements"&gt;Base System Requirements&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The z/VM administrator should acquire and prepare the following resources for a successful
installation. 3.2
is delivered as an extension.
These sections will provide you with the minimum and recommended system requirements for
.
The base system for
 3.2
is SLES 12SP3
.&lt;/p&gt;
&lt;/div&gt;
&lt;table class="tableblock frame-all grid-all spread"&gt;
&lt;colgroup&gt;
&lt;col style="width: 50%;"&gt;
&lt;col style="width: 50%;"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class="tableblock halign-left valign-top"&gt;Hardware&lt;/th&gt;
&lt;th class="tableblock halign-left valign-top"&gt;Recommended Hardware&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;IBM Systems&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;* IBM zEnterprise System z196 &lt;em&gt;(z196)&lt;/em&gt;
* IBM zEnterprise System z114 &lt;em&gt;(z114)&lt;/em&gt;
* IBM zEnterprise EC12 &lt;em&gt;(zEC12)&lt;/em&gt;
* IBM zEnterprise EC12 &lt;em&gt;(zEC12)&lt;/em&gt;
* IBM zEnterprise BC12 &lt;em&gt;(zBC12)&lt;/em&gt;
* IBM z13 &lt;em&gt;(z13)&lt;/em&gt;
* LinuxOne Rockhopper
* LinuxOne Emperor&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;RAM&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;&lt;em&gt;Split memory requirements across available RAM, VDISK and
        swap to suit your environment. On a production system the ratio of
        physical memory to VDISK will need to be re-evaluated based on the
        number of clients which will be supported.&lt;/em&gt;&lt;/p&gt;
&lt;p class="tableblock"&gt;Minimum 5&#160;
 GB+ for test server &lt;em&gt;(3 GB RAM + 2 GB VDISK
        Swap)&lt;/em&gt;&lt;/p&gt;
&lt;p class="tableblock"&gt;Minimum 16&#160;
GB+ for base installation&lt;/p&gt;
&lt;p class="tableblock"&gt;Minimum 32&#160;
GB+ for a production server&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Free Disk Space&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Minimum 100&#160;
GB for root partition&lt;/p&gt;
&lt;p class="tableblock"&gt;Minimum 50&#160;
GB for &lt;code class="replaceable"&gt;/var/lib/pgsql&lt;/code&gt;&lt;/p&gt;
&lt;p class="tableblock"&gt;Minimum 50&#160;
GB per SUSE
product + 100 GB per Red Hat product &lt;code class="replaceable"&gt;/var/spacewalk&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Network Connection&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;* OSA Express Ethernet &lt;em&gt;(including Fast and Gigabit Ethernet) _
* HiperSockets or Guest LAN
* 10 GBE, VSWITCH
* RoCE _(RDMA over Converged Ethernet)&lt;/em&gt;&lt;/p&gt;
&lt;p class="tableblock"&gt;The following interfaces are still included but no longer supported:&lt;/p&gt;
&lt;p class="tableblock"&gt;* CTC &lt;em&gt;(or virtual CTC)&lt;/em&gt;
* IP network interface for IUCV&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;Media Requirements&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;SUSE Linux Enterprise 12SP3 Installation Media for IBM {zsystems} :&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;a href="https://www.suse.com/products/server/download/" class="bare"&gt;<a href="https://www.suse.com/products/server/download/&lt;/a&gt;&lt;/p&gt" class="bare">https://www.suse.com/products/server/download/&lt;/a&gt;&lt;/p&gt</a>;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_additional_requirements"&gt;&lt;a class="anchor" href="#_additional_requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#_additional_requirements"&gt;Additional Requirements&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;There are a few additional resource requirements you will need to prepare before installing the  extension on your system.
This section overviews these requirements.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The guest z/VM should be provided with a static IP address and hostname as these cannot be easily changed after initial setup.
The hostname should contain less than 8 characters.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information on  additional requirements, see &lt;a href="https://www.suse.com/documentation/suse-manager-3/book_suma_best_practices/data/mgr_conceptual_overview.html" class="bare"&gt;<a href="https://www.suse.com/documentation/suse-manager-3/book_suma_best_practices/data/mgr_conceptual_overview.html&lt;/a&gt;.&lt;/p&gt" class="bare">https://www.suse.com/documentation/suse-manager-3/book_suma_best_practices/data/mgr_conceptual_overview.html&lt;/a&gt;.&lt;/p&gt</a>;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You will need to ensure you have sufficient disk storage for
before running &lt;code class="command"&gt;yast2 susemanagersetup&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This section explains these requirements in more detail.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Default Volume Groups and Disk Space&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;By default the file system of , including the embedded database and patch directories, reside within the root volume.
While adjustments are possible once installation is complete, it is the administrator&#8217;s responsibility to specify and monitor these adjustments.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If your  runs out of disk space, this can have a severe impact on its database and file structure.
Preparing storage requirements in accordance with this section will aid in preventing these harmful effects.
SUSE technical services will not be able to provide support for systems suffering from low disk space conditions as this can have an effect on an entire system and therefore becomes unresolvable.
A full recovery is only possible with a previous backup or a new  installation.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;Required Storage Devices&lt;/div&gt;
&lt;p&gt;An additional disk is required for database storage.
This should be an &lt;code class="systemitem"&gt;zFCP&lt;/code&gt; or &lt;code class="systemitem"&gt;DASD&lt;/code&gt; device as these are preferred for use with &lt;code class="systemitem"&gt;HYPERPAV&lt;/code&gt;.
The disk should fulfill the following requirements:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;At least 50&#160;GB for &lt;code class="path"&gt;/var/lib/pgsql&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At least 50&#160;GB for each SUSE product in &lt;code class="path"&gt;/var/spacewalk&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At least 100&#160;GB for each Red Hat product in &lt;code class="path"&gt;/var/spacewalk&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;Reclaiming Disk Space&lt;/div&gt;
&lt;p&gt;If you need to reclaim more disk space, try these suggestions:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Remove custom channels (you cannot remove official SUSE channels)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use the &lt;code class="command"&gt;spacewalk-data-fsck --help&lt;/code&gt; command to compare the spacewalk database to the filesystem and remove entries if either is missing.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_sles_12sp3_installation_and_the_extension"&gt;&lt;a class="anchor" href="#_sles_12sp3_installation_and_the_extension"&gt;&lt;/a&gt;&lt;a class="link" href="#_sles_12sp3_installation_and_the_extension"&gt;SLES 12SP3 Installation and the  Extension&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This section covers the installation of 3.2
as an extension to SLES 12SP3
.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information on deploying SLES 12SP3
on your hardware, see &lt;a href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/cha_zseries.html" class="bare"&gt;<a href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/cha_zseries.html&lt;/a&gt;.&lt;/p&gt" class="bare">https://www.suse.com/documentation/sles-12/book_sle_deployment/data/cha_zseries.html&lt;/a&gt;.&lt;/p&gt</a>;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;During installation of SLES 12SP3
select
as an extension.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After rebooting you will need to set up the additional storage required for &lt;code class="path"&gt;/var/spacewalk&lt;/code&gt; and &lt;code class="path"&gt;/var/lib/pgsql&lt;/code&gt; and swap space using the yast partitioner tool.
This step is &lt;em&gt;required&lt;/em&gt; before running &lt;code class="command"&gt;yast2 susemanagersetup&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After configuring the storage requirements, having executed a {yast}
online update and completed a full system reboot, run
setup to finalize the
installation on your {zsystems}
mainframe:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;{prompt.root}yast2 susemanagersetup&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This completes the installation of
on your z Systems
.
For more information on beginning management with
, see &lt;a href="</mark>"&gt;suma-setup-with-yast-sumasetup.adoc#suma-setup-with-yast-sumasetup&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>at.manager.proxy.concepts"&gt;Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.inst-and-clients"&gt;Proxy Installation and Connecting Clients&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.inst"&gt;Installation and Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.run.pattern"&gt;Install the &lt;code class="path"&gt;suma_proxy&lt;/code&gt; pattern&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.run.copycert"&gt;Copy Server Certificate and Key&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.run.confproxy"&gt;Running &lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.register.saltclients"&gt;Registering Salt Clients via SUSE Manager Proxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.manager.proxy.register.clients"&gt;Registering Clients via SUSE Manager Proxy with a Script&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.additional.info.about.client.registration.on.proxies"&gt;Additional Information about Client Registration on Proxies&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.proxy.pxe"&gt;Enabling PXE Boot via SUSE Manager Proxy&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#advanced.topics.proxy.pxe.sync"&gt;Synchronizing Profiles and System Information&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.proxy.pxe.dhcp"&gt;Configuring DHCP for PXE via SUSE Manager Proxy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.proxy.migration3"&gt;Migrating  3 Proxy to Version 3.1&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#at.replacing.a.susemgrproxy"&gt;Replacing a SUSE Manager Proxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.upgrade.a.susemgrproxy"&gt;Upgrading a SUSE Manager Proxy from 3 to 3.1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.proxy.migration"&gt;Migrating   2.1 Proxy to Version 3.1&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#advanced.topics.proxy.migration.replace"&gt;Replacing a SUSE Manager Proxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.proxy.migration.upgrade"&gt;Upgrading a SUSE Manager Proxy from 2.1 to 3.1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="preamble"&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="quoteblock abstract"&gt;
&lt;blockquote&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This chapter explains how to install and set up  3.2 Proxy.
It also provides notes about migrating a previous proxy such as version 2.1, 3.0, or 3.1 to version 3.2.&lt;/p&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.manager.proxy.concepts"&gt;&lt;a class="anchor" href="#at.manager.proxy.concepts"&gt;&lt;/a&gt;&lt;a class="link" href="#at.manager.proxy.concepts"&gt;Overview&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; 3.2 Proxy is a  add-on that caches software packages on an internal, central server.
The proxy caches patch updates from SUSE or custom RPMs generated by third-party organizations.
A proxy allows you to use bandwidth more effectively because client systems connect to the proxy for updates, and the  server is no longer required to handle all client requests.
The proxy also supports transparent custom package deployment.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; Proxy is an open source (GPLv2) solution that provides the following features:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Cache software packages within a Squid proxy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Client systems see the SUSE Manager Proxy as a  server instance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The SUSE Manager Proxy is registered as a client system with the  server.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The primary goal of a SUSE Manager Proxy is to improve  performance by reducing bandwidth requirements and accelerating response time.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.manager.proxy.inst-and-clients"&gt;&lt;a class="anchor" href="#at.manager.proxy.inst-and-clients"&gt;&lt;/a&gt;&lt;a class="link" href="#at.manager.proxy.inst-and-clients"&gt;Proxy Installation and Connecting Clients&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.manager.proxy.requirements"&gt;&lt;a class="anchor" href="#at.manager.proxy.requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#at.manager.proxy.requirements"&gt;Requirements&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following section provides SUSE Manager Proxy requirements.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;Supported Client Systems&lt;/div&gt;
&lt;p&gt;For supported clients and their requirements, see Supported Client Systems.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;Hardware Requirements&lt;/div&gt;
&lt;p&gt;Hardware requirements highly depend on your usage scenario.
When planning proxy environments, consider the amount of data you want to cache on your proxy.
If your proxy should be a 1:1 mirror of your , the same amount of disk space is required.
For specific hardware requirements, see the following table.&lt;/p&gt;
&lt;/div&gt;
&lt;table class="tableblock frame-all grid-all spread"&gt;
&lt;colgroup&gt;
&lt;col style="width: 50%;"&gt;
&lt;col style="width: 50%;"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class="tableblock halign-left valign-top"&gt;Hardware&lt;/th&gt;
&lt;th class="tableblock halign-left valign-top"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;CPU&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Multi-core 64-bit CPU (x86_64).&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;RAM&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Minimum 4&#160; GB for a non-production server&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Minimum 16&#160; GB for a production server&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Free Disk Space&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Minimum 100&#160; GB for base installation and at least 50 GB for caching per SUSE product and 100 GB per Red Hat product; a resizeable partition strongly recommended.&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="admonitionblock tip"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-tip" title=":bulb:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Storage for Proxy Data&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;SUSE recommends storing the squid proxy caching data on a separate disk formatted with the XFS file system.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;SSL Certificate Password&lt;/div&gt;
&lt;p&gt;For installing the proxy, you need the SSL certificate password entered during the initial installation of .&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;Network Requirements&lt;/div&gt;
&lt;p&gt;For additional network requirements, see Additional Requirements.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;SUSE Customer Center&lt;/div&gt;
&lt;p&gt;For using SUSE Manager Proxy, you need an account at SUSE Customer Center (SCC) where your purchased products and product subscriptions are registered.
Make sure you have the following subscriptions:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;One or more subscriptions for SUSE Manager Proxy .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;One or more subscriptions for  .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Subscriptions for the products on the client systems you want to register with  via SUSE Manager Proxy .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Subscriptions to client entitlements for the client system you want to register with  via SUSE Manager Proxy .&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;Network Time Protocol (NTP)&lt;/div&gt;
&lt;p&gt;The connection to the Web server via Secure Sockets Layer (SSL) requires correct time settings on the server, proxy and clients.
For this reason, all systems must use NTP.
For more information, see &lt;a href="https://www.suse.com/documentation/sles-12/book_sle_admin/data/cha_netz_xntp.html" class="bare"&gt;https://www.suse.com/documentation/sles-12/book_sle_admin/data/cha_netz_xntp.html&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt;Virtual Environments&lt;/div&gt;
&lt;p&gt;The following virtual environments are supported:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.linux-kvm.org/page/Main_Page" class="bare"&gt;http://www.linux-kvm.org/page/Main_Page&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.vmware.com/" class="bare"&gt;http://www.vmware.com/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.microsoft.com/en-us/server-cloud/solutions/virtualization.aspx" class="bare"&gt;http://www.microsoft.com/en-us/server-cloud/solutions/virtualization.aspx&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For running SUSE Manager Proxy
in virtual environments, use the following settings for the virtual machine (VM):&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;At least 1 GB of RAM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bridged network&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.manager.proxy.inst"&gt;&lt;a class="anchor" href="#at.manager.proxy.inst"&gt;&lt;/a&gt;&lt;a class="link" href="#at.manager.proxy.inst"&gt;Installation and Setup&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following section will guide you through the installation and setup procedure.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Registering Proxies&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; Proxy systems are registered as traditional clients using a bootstrap script.
Currently there is no method to register proxy systems using Salt.
A SUSE Manager Proxy can serve both Traditional and Salt clients.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id="at.manager.proxy.install.prep" class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Procedure: Registering the Proxy&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;First completely download the channels (SUSE Linux Enterprise 12 SP3) and then create the activation key.
Only then you can select the correct child channels.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Create an activation key based on the SUSE Linux Enterprise 12 SP3 base channel.
For more information about activation keys, see &lt;a href="#create.act.keys"&gt;[create.act.keys]&lt;/a&gt;.&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/proxy-key.png" alt="proxy key"&gt;
&lt;/div&gt;
&lt;div class="title"&gt;Figure 1. Proxy Activation Key&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click the &lt;b class="menuref"&gt;Child Channels&lt;/b&gt; subtab and select the  3.2 Proxy child channel with the matching update channel (&lt;code class="systemitem"&gt;SUSE Manager Proxy-3.2-Pool&lt;/code&gt; and &lt;code class="systemitem"&gt;SUSE-Manager-Proxy-3.2-Updates&lt;/code&gt; ).
These child channels are required for providing the proxy packages and updates.
As for normal SLES clients, &lt;code class="systemitem"&gt;SLES12-SP3-Updates&lt;/code&gt; plus &lt;code class="systemitem"&gt;SLE-Manager-Tools12-Pool&lt;/code&gt; and &lt;code class="systemitem"&gt;SLE-Manager-Tools12-Updates&lt;/code&gt; are required.&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/sles12-proxy-child.png" alt="sles12 proxy child"&gt;
&lt;/div&gt;
&lt;div class="title"&gt;Figure 2. Base and Child Proxy Channel&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id="at.manager.proxy.install.prep.bss" class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Modify a bootstrap script for the proxy.
Ensure unchecking &lt;b class="menuref"&gt;Bootstrap using Salt&lt;/b&gt; , because in this case the proxy must be bootstrapped as a so-called traditional client.
For more information about bootstrap scripts, see &lt;a href="#modify.bootstrap.script"&gt;[modify.bootstrap.script]&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bootstrap the client with the bootstrap script.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You will see a list of channels to which your client is already subscribed to.
Select the two unchecked proxy channels which include the &lt;code class="systemitem"&gt;SUSE Manager Proxy-3.2-Pool&lt;/code&gt; and &lt;code class="systemitem"&gt;SUSE-Manager-Proxy-3.2-Updates&lt;/code&gt; , then select &lt;b class="menuref"&gt;Change Subscriptions&lt;/b&gt; to continue.
This will provide the required repositories for the proxy packages from the  server to the client.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A few more steps are still needed:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;install the &lt;code class="path"&gt;suma_proxy&lt;/code&gt; pattern (see &lt;a href="#at.manager.proxy.run.pattern"&gt;Install the &lt;code class="path"&gt;suma_proxy&lt;/code&gt; pattern&lt;/a&gt;);&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;copy the SSL certificate and key from the server (see &lt;a href="#at.manager.proxy.run.copycert"&gt;Copy Server Certificate and Key&lt;/a&gt;);&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;run &lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt; (see &lt;a href="#at.manager.proxy.run.confproxy"&gt;Running &lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt;&lt;/a&gt;);&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You will then be able to register your clients against the proxy using the WebUI or a bootstrap script as if it were a  server.
For more information, see &lt;a href="#at.manager.proxy.register.saltclients"&gt;Registering Salt Clients via SUSE Manager Proxy&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.manager.proxy.run.pattern"&gt;&lt;a class="anchor" href="#at.manager.proxy.run.pattern"&gt;&lt;/a&gt;&lt;a class="link" href="#at.manager.proxy.run.pattern"&gt;Install the &lt;code class="path"&gt;suma_proxy&lt;/code&gt; pattern&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Make sure the &lt;code class="path"&gt;suma_proxy&lt;/code&gt; pattern version 2.5.1.3 or later is installed using the following command on the proxy as root:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;zypper in -t pattern suma_proxy&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The new salt-broker service will be automatically started at the end of the package installation.
This service forwards the Salt interactions to the  server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Proxy Chains&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;It is possible to arrange Salt proxies in a chain.
In such a case, the upstream proxy is named &#8220;parent&#8221;.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Make sure the proxie&#8217;s TCP ports &lt;code&gt;4505&lt;/code&gt; and &lt;code&gt;4506&lt;/code&gt; are open and that the proxy can reach the  server (or another upstream proxy) on these ports.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.manager.proxy.run.copycert"&gt;&lt;a class="anchor" href="#at.manager.proxy.run.copycert"&gt;&lt;/a&gt;&lt;a class="link" href="#at.manager.proxy.run.copycert"&gt;Copy Server Certificate and Key&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The proxy will share some SSL information with the  server, so the next step is to copy the certificate and its key from the  server or the upstream proxy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;As root, enter the following commands on the proxy using your  server or chained proxy named as &lt;code class="replaceable"&gt;PARENT&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;cd /root/ssl-build scp root@<code>PARENT</code>:/root/ssl-build/RHN-ORG-PRIVATE-SSL-KEY scp root@<code>PARENT</code>:/root/ssl-build/RHN-ORG-TRUSTED-SSL-CERT scp root@<code>PARENT</code>:/root/ssl-build/rhn-ca-openssl.cnf .&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Known Limitation&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The SUSE Manager Proxy functionality is only supported if the SSL certificate was signed by the same CA as the  Server certificate.
Using certificates signed by different CAs for Proxies and Server is not supported.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.manager.proxy.run.confproxy"&gt;&lt;a class="anchor" href="#at.manager.proxy.run.confproxy"&gt;&lt;/a&gt;&lt;a class="link" href="#at.manager.proxy.run.confproxy"&gt;Running &lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The &lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt; script will finalize the setup of your SUSE Manager Proxy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Now execute the interactive &lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt; script.
Pressing &lt;kbd&gt;Enter&lt;/kbd&gt; without further input will make the script use the default values provided between brackets &lt;code&gt;[]&lt;/code&gt;.
Here is some information about the requested settings:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt; Parent&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;A  parent can be either another proxy server or a  server.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;HTTP Proxy&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;A HTTP proxy enables your  proxy to access the Web.
This is needed if where direct access to the Web is prohibited by a firewall.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Proxy Version to Activate&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Normally, the correct value (3.0, 3.1, or 3.2) should be offered as a default.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Traceback Email&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;An email address where to report problems.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Use SSL&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;For safety reasons, press &lt;code&gt;Y&lt;/code&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Do You Want to Import Existing Certificates?&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Answer &lt;code&gt;N&lt;/code&gt;.
This ensures using the new certificates that were copied previously from the  server.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Organization&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The next questions are about the characteristics to use for the SSL certificate of the proxy.
The organization might be the same organization that was used on the server, unless of course your proxy is not in the same organization as your main server.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Organization Unit&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The default value here is the proxy&#8217;s hostname.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;City&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Further information attached to the proxy&#8217;s certificate.
Beware the country code must be made of two upper case letters.
For further information on country codes, refer to the online &lt;a href="https://www.iso.org/obp/ui/#search"&gt;list of alpha-2 codes&lt;/a&gt;.&lt;/p&gt;
&lt;div class="admonitionblock tip"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-tip" title=":bulb:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Country Code&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;As the country code enter the country code set during the SUSE Manager installation.
For example, if your proxy is in US and your  in DE, you must enter &lt;code&gt;DE&lt;/code&gt; for the proxy.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Cname Aliases (Separated by Space)&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Use this if your proxy server can be accessed through various DNS CNAME aliases.
Otherwise it can be left empty.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;CA Password&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Enter the password that was used for the certificate of your  server.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Do You Want to Use an Existing SSH Key for Proxying SSH-Push Salt Minions?&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Use this option if you want to reuse a SSH key that was used for SSH-Push Salt minions on the server.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Create and Populate Configuration Channel rhn_proxy_config_1000010001?&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Accept default &lt;code&gt;Y&lt;/code&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;SUSE Manager Username&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Use same user name and password as on the  server.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Activate advertising proxy via SLP?&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;SLP stands for Service Location Protocol.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If parts are missing, such as CA key and public certificate, the script prints commands that you must execute to integrate the needed files.
When the mandatory files are copied, re-run &lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt;.
Also restart the script if a HTTP error was met during script execution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;code class="command"&gt;configure-proxy.sh&lt;/code&gt; activates services required by  Proxy, such as &lt;code class="systemitem"&gt;squid&lt;/code&gt;, &lt;code class="systemitem"&gt;apache2&lt;/code&gt;, &lt;code class="systemitem"&gt;salt-broker&lt;/code&gt;, and &lt;code class="systemitem"&gt;jabberd&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To check the status of the proxy system and its clients, click the proxy system&#8217;s details page on the WebUI (&lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Proxy&lt;/b&gt;&lt;/span&gt;, then the system name). &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Connection&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;] and <span class="menuseq"><b class="menu">Proxy</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">subtabs display the respective status information.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect2"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h3 id="at.manager.proxy.register.saltclients"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#at.manager.proxy.register.saltclients"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#at.manager.proxy.register.saltclients"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Registering Salt Clients via SUSE Manager Proxy&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h3</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Proxy servers may now act as a broker and package cache for Salt minions.
These minions can be registered with a bootstrap script like the traditional clients, or directly from the WebUI or the command line.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Registering Salt clients via SUSE Manager Proxy from the WebUI
is done almost the same way as registering clients directly with the  server.
The difference is that you specify the name of the proxy in the &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Proxy&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span> drop-box on <span class="menuseq"><b class="menu">Salt</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Bootstrapping&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">page.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="imageblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;img src="_images/proxy-saltbootstrap.png" alt="proxy saltbootstrap"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Figure 3. Bootstrapping a Salt Client With a Proxy&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Procedure: Register a Salt client through a proxy from command line&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Instead of the WebUI , you may use the command line to register a minion through a proxy.
To do so, add the proxy FQDN as the master in the minions configuration file located at:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">/etc/salt/minion&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">or alternatively:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">/etc/salt/minion.d/<code>name</code>.conf&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Add the FQDN to the minion file:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">master: proxy123.example.com&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Save and restart the salt-minion service with:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">systemctl restart salt-minion&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">On the proxy, accept the new minion key with:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">salt-key -a 'minion'&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">The minion will now connect to the proxy exclusively for Salt operations and normal HTTP package downloads.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ol</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect2"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h3 id="at.manager.proxy.register.clients"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#at.manager.proxy.register.clients"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#at.manager.proxy.register.clients"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Registering Clients via SUSE Manager Proxy with a Script&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h3</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Registering clients (either traditional or Salt) via SUSE Manager Proxy with a script is done almost the same way as registering clients directly with the  server.
The difference is that you create the bootstrap script on the SUSE Manager Proxy with a command-line tool.
The bootstrap script then deploys all necessary information to the clients.
The bootstrap script refers some parameters (such as activation keys or GPG keys) that depend on your specific setup.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Create a client activation key on the  server using the WebUI.
See &lt;a href="#create.act.keys"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">[create.act.keys</b></span>&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On the proxy, execute the &lt;code class="command"&gt;mgr-bootstrap&lt;/code&gt; command-line tool as {rootuser}.
If needed, use the additional command-line switches to tune your bootstrap script. An important option is &lt;code class="command"&gt;--traditional&lt;/code&gt; that enables to opt for a traditional client instead of a salt minion.&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To view available options type &lt;code class="command"&gt;mgr-bootstrap --help&lt;/code&gt; from the command line:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> <code>mgr-bootstrap --activation-keys=key-string</code>&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Optionally edit the resulting bootstrap script.
Execute the bootstrap script on the clients as described in &lt;a href="<mark>connect.first.client"&gt;[connect.first.client]&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The clients are registered with the SUSE Manager Proxy specified in the bootstrap script.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.additional.info.about.client.registration.on.proxies"&gt;&lt;a class="anchor" href="#at.additional.info.about.client.registration.on.proxies"&gt;&lt;/a&gt;&lt;a class="link" href="#at.additional.info.about.client.registration.on.proxies"&gt;Additional Information about Client Registration on Proxies&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Within the WebUI, standard proxy pages will show information about client, no matter whether minions or traditional clients.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A list of clients connected to a proxy can be located under &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;] &lt;proxy name&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;<span class="menuseq"><b class="menu">Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Proxy&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">A list of chained proxies for a minion can be located under &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="submenu"</b></span> &lt;minion name&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;<span class="menuseq"><b class="menu">Details</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Connection&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">If you decide to move any of your clients between proxies or the server you will need to repeat the registration process from scratch.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect1"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h2 id="advanced.topics.proxy.pxe"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#advanced.topics.proxy.pxe"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#advanced.topics.proxy.pxe"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Enabling PXE Boot via SUSE Manager Proxy&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h2</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sectionbody"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect2"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h3 id="advanced.topics.proxy.pxe.sync"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#advanced.topics.proxy.pxe.sync"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#advanced.topics.proxy.pxe.sync"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Synchronizing Profiles and System Information&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h3</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">To enable PXE boot via a proxy server, additional software must be installed and configured on both the  server and the SUSE Manager Proxy server.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">On the  server install &lt;span class="package"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">susemanager-tftpsync&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">zypper in susemanager-tftpsync&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">On the SUSE Manager Proxy server install &lt;span class="package"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">susemanager-tftpsync-recv&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">zypper in susemanager-tftpsync-recv&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Run the &lt;code class="command"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">configure-tftpsync.sh&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">setup script and enter the requested information:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">configure-tftpsync.sh&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">It asks for hostname and IP address of the  server and of the proxy itself.
Additionally, it asks for the tftpboot directory on the proxy.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">On the  server, run &lt;code class="command"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">configure-tftpsync.sh&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">to configure the upload to the SUSE Manager Proxy server:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">configure-tftpsync.sh FQDN_of_Proxy_Server&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">To initiate an initial synchronization on the SUSE Manager Server run:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">cobbler sync&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Also can also be done after each a change within Cobbler that needs to be synchronized immediately.
Otherwise Cobbler synchronization will also run automatically when needed.
For more information about Cobbler, see &lt;a href="#advanced.topics.cobbler"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">[advanced.topics.cobbler</b></span>&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.proxy.pxe.dhcp"&gt;&lt;a class="anchor" href="#advanced.topics.proxy.pxe.dhcp"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.proxy.pxe.dhcp"&gt;Configuring DHCP for PXE via SUSE Manager Proxy&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; is using Cobbler to provide provisioning.
PXE (tftp) is installed and activated by default.
To enable systems to find the PXE boot on the SUSE Manager Proxy server add the following to the DHCP configuration for the zone containing the systems to be provisioned:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;next-server:`IP_Address_of_SUSE_Manager_Proxy_Server`filename: "pxelinux.0"&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.proxy.migration3"&gt;&lt;a class="anchor" href="#advanced.topics.proxy.migration3"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.proxy.migration3"&gt;Migrating  3 Proxy to Version 3.1&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The recommended order for migrations is to first migrate the server and then the proxies.
Note that a  3 Proxy works correctly with  3.1.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For the migration of the proxies there are two possible approaches:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Existing  proxies may be upgraded to version 3.1 with {yast} or &lt;code class="command"&gt;zypper&lt;/code&gt; migration.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Alternatively, the proxies may be replaced by new ones.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This section documents both approaches.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.replacing.a.susemgrproxy"&gt;&lt;a class="anchor" href="#at.replacing.a.susemgrproxy"&gt;&lt;/a&gt;&lt;a class="link" href="#at.replacing.a.susemgrproxy"&gt;Replacing a SUSE Manager Proxy&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A SUSE Manager Proxy is &lt;code&gt;dumb&lt;/code&gt; in the sense that it does not contain any information about the clients which are connected to it.
A SUSE Manager Proxy can therefore be replaced by a new one.
Naturally, the replacement proxy must have the same name and IP address as its predecessor.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In order to replace a SUSE Manager Proxy and keeping the clients registered to the proxy leave the old proxy in .
Create a reactivation key for this system and then register the new proxy using the reactivation key.
If you do not use the reactivation key, you will need to re-registered all the clients against the new proxy.&lt;/p&gt;
&lt;/div&gt;
&lt;div id="proc.advanced.topics.proxy.migration3.replace" class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Replacing a SUSE Manager Proxyand Keeping the ClientsRegistered&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Before starting the actual migration procedure, save the data from the old proxy, if needed.
Consider copying important data to a central place that can also be accessed by the new server:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Copy the scripts that are still needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copy the activation keys from the previous server.
Of course, it is always better to re-create the keys.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Shutdown the server.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install a new  3.1 Proxy, see &lt;a href="#at.manager.proxy.inst-and-clients"&gt;Proxy Installation and Connecting Clients&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the SUSE Manager WebUI select the newly installed SUSE Manager Proxy and delete it from the systems list.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the WebUI , create a reactivation key for the old proxy system: On the System Details of the old proxy click &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Reactivation&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;].
Then click <span class="menuseq"><b class="menu">Generate New Key</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">, and remember it (write it on a piece of paper or copy it to the clipboard).
For more information about reactivation keys, see &lt;a href="#s5-sm-system-details-react"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">[s5-sm-system-details-react</b></span>&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;After the installation of the new proxy, perform the following actions (if needed):&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Copy the centrally saved data to the new proxy system.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install any other needed software.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the proxy is also used for autoinstallation, do not forget to setup TFTP synchronization.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Proxy Installation and Client Connections&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;During the installation of the proxy, clients will not be able to reach the  server.
After a SUSE Manager Proxy system has been deleted from the systems list, all clients connected to this proxy will be (incorrectly) listed as &lt;code&gt;directly connected&lt;/code&gt; to the  server.
After the first successful operation on a client &lt;em&gt;such as execution of a remote command or installation of a package or patch&lt;/em&gt; this information will automatically be corrected.
This may take a few hours.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.upgrade.a.susemgrproxy"&gt;&lt;a class="anchor" href="#at.upgrade.a.susemgrproxy"&gt;&lt;/a&gt;&lt;a class="link" href="#at.upgrade.a.susemgrproxy"&gt;Upgrading a SUSE Manager Proxy from 3 to 3.1&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In most situations upgrading the proxy will be your preferred solution as this retains all cached packages.
Selecting this route saves time especially regarding proxies connected to  server via low-bandwith links.
This upgrade is similar to a standard client migration.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Synchronizing Target Channels&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Before successfully initializing the product migration, you first must make sure that the migration target channels are completely mirrored.
For the upgrade to  3.1 Proxy, at least the &lt;code class="systemitem"&gt;SUSE Linux Enterprise Server 12 SP3&lt;/code&gt; base channel with the &lt;code class="systemitem"&gt;SUSE Manager Proxy 3.1&lt;/code&gt; child channel for your architecture is required.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Migrating Proxy to 3.1&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Direct your browser to the WebUI where your proxy is registered, and login.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Proxy&lt;/b&gt;&lt;/span&gt; page select your proxy client system from the table.&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/suma_proxy_old_details_page.png" alt="suma proxy old details page"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On the system&#8217;s detail page select the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Software&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;] tab&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;then the <span class="menuseq"><b class="menu">SP Migration</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">tab.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="imageblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;img src="_images/suma_proxy_old_details_spmigration.png" alt="suma proxy old details spmigration"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">From this page you will see installed products listed on your proxy client, and the available target products.
Select the wanted &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Target Products&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">, which include &lt;code class="systemitem"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SUSE Linux Enterprise Server 12 SP3&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">and &lt;code class="systemitem"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SUSE Manager Proxy 3.1&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="imageblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;img src="_images/suma_proxy_migration_target.png" alt="suma proxy migration target"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Then confirm with &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Select Channels&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="imageblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;img src="_images/suma_proxy_migration_channels.png" alt="suma proxy migration channels"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">From the &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Schedule Migration&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">menu, and then &lt;b class="button"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Confirm&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ol</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Check the &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">System Status&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">on the system&#8217;s details when the migration is done.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="imageblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;img src="_images/suma_proxy_migrated.png" alt="suma proxy migrated"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="admonitionblock note"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="icon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;i class="fa icon-note" title=":information_source:"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Checking &lt;code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">refresh_pattern&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">in &lt;code class="path"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">/etc/squid/squid.conf&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">If you migrate from an early SUSE Manager Proxy 3.0 add the following &lt;code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">refresh_pattern&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">to &lt;code class="path"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">/etc/squid/squid.conf&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu"></mark> salt minions get the repodata via a different URL
refresh_pattern /rhn/manager/download/.<strong>/repodata/.</strong>$ 0 1% 1440 ignore-no-cache reload-into-ims refresh-ims&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Finally consider scheduling a reboot.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect1"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h2 id="advanced.topics.proxy.migration"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#advanced.topics.proxy.migration"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#advanced.topics.proxy.migration"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Migrating   2.1 Proxy to Version 3.1&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h2</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sectionbody"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">For the migration of  2.1 Proxies there are two possible approaches&#8212;&#8203;this section documents both approaches:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="ulist"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Existing  proxies may be replaced by newly installed and reconfigured proxies, see &lt;a href="#advanced.topics.proxy.migration.replace"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Replacing a SUSE Manager Proxy&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.
This is the recommended method.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Proxies may be auto-upgraded to version 3.1 by means of {yast} auto-installation, see &lt;a href="#advanced.topics.proxy.migration.upgrade"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Upgrading a SUSE Manager Proxy from 2.1 to 3.1&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="admonitionblock tip"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="icon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;i class="fa icon-tip" title=":bulb:"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Order of Server and Proxy Migration&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">The recommended order for migrations is to first migrate the server and then the proxies.
A  2.1 Proxy works correctly with  3.1.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect2"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h3 id="advanced.topics.proxy.migration.replace"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#advanced.topics.proxy.migration.replace"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#advanced.topics.proxy.migration.replace"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Replacing a SUSE Manager Proxy&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h3</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">A SUSE Manager Proxy is &lt;code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">dumb&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">in the sense that it does not contain any information about the clients which are connected to it.
A SUSE Manager Proxy can therefore be replaced by a new one.
The replacement proxy must have the same name and IP address as its predecessor.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">In order to replace a SUSE Manager Proxy and keeping the clients registered to the proxy leave the old proxy in .
Create a reactivation key for this system and then register the new proxy using the reactivation key.
If you do not use the reactivation key, you will need to re-registered all the clients against the new proxy.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div id="proc.advanced.topics.proxy.migration21.replace" class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Procedure: Replacing a SUSE Manager Proxyand Keeping the ClientsRegistered&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Before starting the actual migration procedure, save the important data from the old proxy.
Copy the data to a central place that also the new server can access:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="ulist"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Copy the scripts that are still needed.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Copy the activation keys from the existing server.
Of course, it is always better to re-create the keys.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Shutdown the server.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Install a new  3.1 Proxy, see &lt;a href="#at.manager.proxy.inst-and-clients"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Proxy Installation and Connecting Clients&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ol</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="admonitionblock important"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="icon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Proxy Installation and Client Connections&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">During the installation of the proxy, clients will not be able to reach the  server.
After a SUSE Manager Proxy system has been deleted from the systems list, all clients connected to this proxy will be (incorrectly) listed as &lt;code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">directly connected&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">to the  server.
After the first successful operation on a client &lt;em</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">such as execution of a remote command or installation of a package or patch&lt;/em</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">this information will automatically be corrected.
This may take a few hours.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">+&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">In the SUSE Manager WebUI select the newly installed SUSE Manager Proxy and delete it from the systems list.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">In the WebUI , create a reactivation key for the old proxy system: On the System Details of the old proxy click &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Reactivation&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>.
Then click <span class="menuseq"><b class="menu">Generate New Key</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">, and remember it (write it on a piece of paper or copy it to the clipboard).
For more information about reactivation keys, see &lt;a href="#s5-sm-system-details-react"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">[s5-sm-system-details-react</b></span>&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;After the installation of the new proxy, perform the following actions (if needed):&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Copy the centrally saved data back to the new proxy system.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install any other needed software.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the proxy is also used for autoinstallation, do not forget to setup TFTP synchronization.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.proxy.migration.upgrade"&gt;&lt;a class="anchor" href="#advanced.topics.proxy.migration.upgrade"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.proxy.migration.upgrade"&gt;Upgrading a SUSE Manager Proxy from 2.1 to 3.1&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In other situations upgrading the proxy will be the preferred solution as it retains all cached packages.
This route saves time especially regarding proxies connected to a  server via low-bandwith links.
This upgrade can be automated by using the {yast} auto-installation feature.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Upgrading SUSE Manager Proxyfrom 2.1 to 3.1&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Create an auto-installable distribution based on SLES 12 SP3.
 3.1 Proxy is an add-on for SLES 12 SP3.
Refer to the &lt;a href="#ref.webui.systems.autoinst"&gt;[ref.webui.systems.autoinst]&lt;/a&gt; on creating an auto-installable distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To start the auto-installation of a proxy, some additional packages must be installed that are only available in the  Tools channel.
These tools were not available for proxies when in the past the system was shipped as an appliance.
To gain access to the required packages for use with proxies, the underlying SLES 11 SP3 channel (&lt;code class="systemitem"&gt;SLES11-SP3-SUSE-Manager-Tools&lt;/code&gt; ) needs to be cloned and assigned to the to-be-upgraded proxies.
After these steps have been completed, create an auto-installation profile.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In the following example you will see an auto-install profile.
The label &lt;code&gt;Proxy31&lt;/code&gt; is used both for the auto-installable distribution as well as for the auto-install profile.
Use the following auto-installation as template and create the auto-installation profile by uploading the edited file:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns"
         xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;general&gt;
  $SNIPPET('spacewalk/sles_no_signature_checks')
    &lt;mode&gt;
      &lt;confirm config:type="boolean"&gt;false&lt;/confirm&gt;
    &lt;/mode&gt;
  &lt;/general&gt;
  &lt;add-on&gt;
    &lt;add_on_products config:type="list"&gt;
      &lt;listentry&gt;
        &lt;ask_on_error config:type="boolean"&gt;true&lt;/ask_on_error&gt;
        &lt;media_url&gt;<a href="http://$redhat_management_server/ks/dist/child/sles12-sp3-updates-x86_64/Proxy31&lt;/media_url&gt" class="bare">http://$redhat_management_server/ks/dist/child/sles12-sp3-updates-x86_64/Proxy31&lt;/media_url&gt</a>;
        &lt;name&gt;SLES12 SP3 Updates&lt;/name&gt;
        &lt;product&gt;SLES12-SP3&lt;/product&gt;
        &lt;product_dir&gt;/&lt;/product_dir&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;ask_on_error config:type="boolean"&gt;true&lt;/ask_on_error&gt;
        &lt;media_url&gt;<a href="http://$redhat_management_server/ks/dist/child/sle-manager-tools12-pool-x86_64-sp3/Proxy31&lt;/media_url&gt" class="bare">http://$redhat_management_server/ks/dist/child/sle-manager-tools12-pool-x86_64-sp3/Proxy31&lt;/media_url&gt</a>;
        &lt;name&gt;SLE12 Manager Tools Pool&lt;/name&gt;
        &lt;product&gt;SLES12&lt;/product&gt;
        &lt;product_dir&gt;/&lt;/product_dir&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;ask_on_error config:type="boolean"&gt;true&lt;/ask_on_error&gt;
        &lt;media_url&gt;<a href="http://$redhat_management_server/ks/dist/child/sle-manager-tools12-updates-x86_64-sp3/Proxy31&lt;/media_url&gt" class="bare">http://$redhat_management_server/ks/dist/child/sle-manager-tools12-updates-x86_64-sp3/Proxy31&lt;/media_url&gt</a>;
        &lt;name&gt;SLE12 Manager Tools Updates&lt;/name&gt;
        &lt;product&gt;SLES12&lt;/product&gt;
        &lt;product_dir&gt;/&lt;/product_dir&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;ask_on_error config:type="boolean"&gt;true&lt;/ask_on_error&gt;
        &lt;media_url&gt;<a href="http://$redhat_management_server/ks/dist/child/suse-manager-proxy-3.1-pool-x86_64/Proxy31&lt;/media_url&gt" class="bare">http://$redhat_management_server/ks/dist/child/suse-manager-proxy-3.1-pool-x86_64/Proxy31&lt;/media_url&gt</a>;
        &lt;name&gt;SLE12 Proxy 3.1 Pool&lt;/name&gt;
        &lt;product&gt;SLES12&lt;/product&gt;
        &lt;product_dir&gt;/&lt;/product_dir&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;ask_on_error config:type="boolean"&gt;true&lt;/ask_on_error&gt;
        &lt;media_url&gt;<a href="http://$redhat_management_server/ks/dist/child/suse-manager-proxy-3.1-updates-x86_64/Proxy31&lt;/media_url&gt" class="bare">http://$redhat_management_server/ks/dist/child/suse-manager-proxy-3.1-updates-x86_64/Proxy31&lt;/media_url&gt</a>;
        &lt;name&gt;SLE12 Proxy 3.1 Update&lt;/name&gt;
        &lt;product&gt;SLES12&lt;/product&gt;
        &lt;product_dir&gt;/&lt;/product_dir&gt;
      &lt;/listentry&gt;
    &lt;/add_on_products&gt;
  &lt;/add-on&gt;
  &lt;upgrade&gt;
    &lt;only_installed_packages config:type="boolean"&gt;false&lt;/only_installed_packages&gt;
    &lt;stop_on_solver_conflict config:type="boolean"&gt;true&lt;/stop_on_solver_conflict&gt;
  &lt;/upgrade&gt;
  &lt;backup&gt;
    &lt;sysconfig config:type="boolean"&gt;true&lt;/sysconfig&gt;
    &lt;modified config:type="boolean"&gt;true&lt;/modified&gt;
    &lt;remove_old config:type="boolean"&gt;false&lt;/remove_old&gt;
  &lt;/backup&gt;
  &lt;networking&gt;
    &lt;keep_install_network config:type="boolean"&gt;true&lt;/keep_install_network&gt;
    &lt;start_immediately config:type="boolean"&gt;true&lt;/start_immediately&gt;
  &lt;/networking&gt;
  &lt;scripts&gt;
    &lt;pre-scripts config:type="list"&gt;
      &lt;script&gt;
        &lt;filename&gt;remove_initrd_koan.sh&lt;/filename&gt;
        &lt;source&gt;</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mount /dev/sda1 /mnt
rm -f /mnt/initrd_koan
umount /mnt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>        &amp;lt;/source&amp;gt;
      &amp;lt;/script&amp;gt;
    &amp;lt;/pre-scripts&amp;gt;
    &amp;lt;chroot-scripts config:type="list"&amp;gt;
      &amp;lt;script&amp;gt;
        &amp;lt;filename&amp;gt;migration_fix_script.sh&amp;lt;/filename&amp;gt;
        &amp;lt;chrooted config:type="boolean"&amp;gt;true&amp;lt;/chrooted&amp;gt;
        &amp;lt;source&amp;gt;&amp;lt;![CDATA[ ln -sf /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT /etc/pki/trust/anchors/
/usr/sbin/update-ca-certificates ]]&amp;gt;
&amp;lt;/source&amp;gt;
      &amp;lt;/script&amp;gt;
    &amp;lt;/chroot-scripts&amp;gt;
    &amp;lt;init-scripts config:type="list"&amp;gt;
      &amp;lt;script&amp;gt;
        &amp;lt;filename&amp;gt;sles_register.sh&amp;lt;/filename&amp;gt;
        &amp;lt;source&amp;gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>$SNIPPET('spacewalk/sles_register')
chmod 640 /etc/sysconfig/rhn/systemid
chown root:www /etc/sysconfig/rhn/systemid
systemctl enable squid
systemctl start squid</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>        &amp;lt;/source&amp;gt;
      &amp;lt;/script&amp;gt;
    &amp;lt;/init-scripts&amp;gt;
  &amp;lt;/scripts&amp;gt;
&amp;lt;/profile&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Ensure all channels referenced in this file are available and fully synced.
Replace the label &lt;code&gt;Proxy31&lt;/code&gt; with the correct reference chosen for your auto-installation profile.
It is recommended to create a new activation key, for example: &lt;code&gt;1-sles12sp3&lt;/code&gt; which has the relevant channels assigned; later this key will be used to subscribe the upgraded proxy with the correct channels.
The following base channel should be assigned:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;SLES12-SP3-Pool&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Also include the following child channels:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;SLE-Manager-Tools12-Pool
SLE-Manager-Tools12-Updates
SLES12-SP3-Updates
SUSE-Manager-Proxy-3.1-Pool
SUSE-Manager-Proxy-3.1-Updates&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In &lt;code&gt;Kernel Options&lt;/code&gt; enter the following value:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;autoupgrade=1 Y2DEBUG=1&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The debug setting is not required but can help investigate problems in case something goes wrong; the &lt;code class="parameter"&gt;autoupgrade&lt;/code&gt; parameter is vital! Do not remove it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Save your changes then click on "Variables" and enter the following value:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;registration_key=1-sles12sp3&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Specify the name of the key which has all respective channels assigned to it.
The auto-install file contains a script named &lt;code class="command"&gt;remove_initrd_koan.sh&lt;/code&gt;.
In this script you should specify the device name of your &lt;code class="path"&gt;/boot&lt;/code&gt; partition.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;remove_initrd_koan.sh&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The purpose of this script is to act as a workaround for the following problem: During installation the initrd of the installation media (SLES12SP3) is in use.
This initrd is rather large (around 50 MB), so there is not enough space left when the new kernel is being installed.
Therefore this script deletes the initial ramdisk file once it has been booted.
The partition of your boot partition might differ, so it should be explicitly specified in the autoinstall file.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;During auto-installation this script attempts to delete the initial ramdisk file once it has booted.
Your boot partition may differ, so ensure it is explicitly specified within the auto-install file.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If this step is bypassed or mixed up (for example: specifying a wrong value) it&amp;#8217;s fine.
During installation of the new kernel, {yast} will detect that there is not enough space available and will stop.
You may switch to another console (there is a shell running on virtual console 2) and reclaim some disk space by issuing the command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;rm /mnt/boot/initrd_koan&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When you have completed this step, switch back to the console where {yast} is running (console 7) and click &lt;b class="menuref"&gt;Retry&lt;/b&gt;.
Installation of the kernel will continue and succeed.
The system will reboot, a few automated init scripts will run and the proxy will be upgraded to the  3.1 based on SLES12SP3 and will be fully functional.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>at.security"&gt;Setup a Minion to Master Validation Fingerprint&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_signing_repository_metadata"&gt;Signing Repository Metadata&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#_generate_a_custom_gpg_key"&gt;Generate a Custom GPG key&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_configure_signing_metadata"&gt;Configure signing metadata&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_regenerate_all_metadata"&gt;Regenerate all metadata&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_trust_the_gpg_key_on_all_clients"&gt;Trust the GPG key on all clients&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.security"&gt;&lt;a class="anchor" href="#at.security"&gt;&lt;/a&gt;&lt;a class="link" href="#at.security"&gt;Setup a Minion to Master Validation Fingerprint&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In highly secure network configurations you may wish to ensure your minions are connecting a specific master.
To setup validation from minion to master enter the masters fingerprint within the &lt;code class="path"&gt;/etc/salt/minion&lt;/code&gt; configuration file.
See the following procedure:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;On the master enter the following command as root and note the fingerprint:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;salt-key -F master&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;On your minion, open the minion configuration file located in &lt;code class="path"&gt;/etc/salt/minion&lt;/code&gt;.
Uncomment the following line and enter the masters fingerprint replacing the example fingerprint:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;master_finger: 'ba:30:65:2a:d6:9e:20:4f:d8:b2:f3:a7:d4:65:11:13'&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Restart the salt-minion service:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> systemctl restart salt-minion&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information on configuring security from a minion see: &lt;a href="https://docs.saltstack.com/en/latest/ref/configuration/minion.html" class="bare"&gt;<a href="https://docs.saltstack.com/en/latest/ref/configuration/minion.html&lt;/a&gt;&lt;/p&gt" class="bare">https://docs.saltstack.com/en/latest/ref/configuration/minion.html&lt;/a&gt;&lt;/p&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_signing_repository_metadata"&gt;&lt;a class="anchor" href="#_signing_repository_metadata"&gt;&lt;/a&gt;&lt;a class="link" href="#_signing_repository_metadata"&gt;Signing Repository Metadata&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_generate_a_custom_gpg_key"&gt;&lt;a class="anchor" href="#_generate_a_custom_gpg_key"&gt;&lt;/a&gt;&lt;a class="link" href="#_generate_a_custom_gpg_key"&gt;Generate a Custom GPG key&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To sign repository metadata a custom GPG key is required. Create a new GPG key as &lt;strong&gt;root&lt;/strong&gt; via the following steps.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;$&gt; gpg --gen-key</p>
</div>
<div class="paragraph">
<p>Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection? 1
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048)
Requested keysize is 2048 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)
Key does not expire at all
Is this correct? (y/N) y</p>
</div>
<div class="paragraph">
<p>GnuPG needs to construct a user ID to identify your key.</p>
</div>
<div class="paragraph">
<p>Real name: company sign key
Email address: <a href="mailto:company@example.com">company@example.com</a>
Comment:
You selected this USER-ID:
    "company sign key &lt;<a href="mailto:company@example.com">company@example.com</a>&gt;"</p>
</div>
<div class="paragraph">
<p>Change (N)ame, &#169;omment, (E)mail or (O)kay/(Q)uit? O
You need a Passphrase to protect your secret key.</p>
</div>
<div class="paragraph">
<p>gpg: key 607FABDB marked as ultimately trusted
public and secret key created and signed.</p>
</div>
<div class="paragraph">
<p>gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
pub   2048R/607FABDB 2018-07-09
      Key fingerprint = ACF5 4698 EC70 FD6A F8C9  942B A7A1 9301 607F ABDB
uid       [ultimate] company sign key &lt;<a href="mailto:company@example.com">company@example.com</a>&gt;
sub   2048R/A812FA62 2018-07-09&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_configure_signing_metadata"&gt;&lt;a class="anchor" href="#_configure_signing_metadata"&gt;&lt;/a&gt;&lt;a class="link" href="#_configure_signing_metadata"&gt;Configure signing metadata&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;There are two configuration files which needs to be changed to enable signing of metadata.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class="filename"&gt;/etc/rhn/signing.conf&lt;/code&gt; to specify KEYID and PASSPHRASE&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class="filename"&gt;/etc/rhn/rhn.conf&lt;/code&gt; to enable signing metadata&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Example for &lt;code class="filename"&gt;/etc/rhn/signing.conf&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;KEYID="607FABDB"</p>
</div>
<div class="paragraph">
<p>GPGPASS="MySecretPassword"&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To enable signing of metadata please add the following in &lt;code class="filename"&gt;/etc/rhn/rhn.conf&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;sign_metadata = 1&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;All spacewalk services must be restarted after modifying 'rhn.conf'.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_regenerate_all_metadata"&gt;&lt;a class="anchor" href="#_regenerate_all_metadata"&gt;&lt;/a&gt;&lt;a class="link" href="#_regenerate_all_metadata"&gt;Regenerate all metadata&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After enabling signing metadata, all metadata needs to be re-generated.
This can be done with a small SQL script:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;$&gt; spacewalk-sql -i
psql (9.6.9)
Type "help" for help.</p>
</div>
<div class="paragraph">
<p>susemanager=# insert into rhnRepoRegenQueue (id, CHANNEL_LABEL, REASON, FORCE)
susemanager-# (select sequence_nextval('rhn_repo_regen_queue_id_seq'), C.label, 'changed signing of metadata', 'Y' from rhnChannel C);
INSERT 0 40
susemanager=# \q
$&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_trust_the_gpg_key_on_all_clients"&gt;&lt;a class="anchor" href="<mark>_trust_the_gpg_key_on_all_clients"&gt;&lt;/a&gt;&lt;a class="link" href="#_trust_the_gpg_key_on_all_clients"&gt;Trust the GPG key on all clients&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When this feature is enabled, all clients have to trust the new GPG key.
If the new GPG key is not imported on the client, installation or updating of packages is not possible.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Export the GPG key and make it availabel in the 'pub/' directory.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> gpg --batch --export -a -o &lt;output filename&gt; &lt;KEYID&gt;
$&gt; gpg --batch --export -a -o /srv/www/htdocs/pub/company.key 607FABDB&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Import the GPG key on all clients&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This can be done using a remote command on all clients&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;# rpm --import <a href="http://&lt;server.domain.top/pub/keyname.key" class="bare">http://&lt;server.domain.top/pub/keyname.key</a>
$&gt; rpm --import <a href="http://suma-refhead-srv.mgr.suse.de/pub/company.key&lt;/pre&gt" class="bare">http://suma-refhead-srv.mgr.suse.de/pub/company.key&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock tip"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-tip" title=":bulb:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Tip&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For salt managed systems it might make sense to use a state to trust GPG keys.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_in_the_public_cloud_server_and_proxy_in_the_public_cloud"><a class="anchor" href="#_in_the_public_cloud_server_and_proxy_in_the_public_cloud"></a><a class="link" href="#_in_the_public_cloud_server_and_proxy_in_the_public_cloud">1.  in the Public Cloud:  Server and  Proxy in the Public Cloud</a></h2>
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
<div class="paragraph">
<p> delivers best-in-class Linux server management capabilities.
For detailed information about the product please refer to the <a href="https://www.suse.com/documentation/suse_manager">SUSEManager</a> documentation.</p>
</div>
<div class="paragraph">
<p>The  Server and  Proxy images published by SUSE in selected Public Cloud environments are provided as Bring Your Own Subscription (BYOS) images.
 Server instances need to be registered with the SUSE Customer Center (SCC).
Subscriptions of  Proxy instances are handled through their parent  Server.
After an instance is launched,  needs to be set up and configured following the procedure in the  documentation.</p>
</div>
</blockquote>
</div>
<div class="sect2">
<h3 id="instance-requirements"><a class="anchor" href="#instance-requirements"></a><a class="link" href="#instance-requirements">1.1. Instance Requirements</a></h3>
<div class="paragraph">
<p>Select an instance size that meets the system requirements as documented in the  documentation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Minimal main memory: &gt;12G</p>
</li>
<li>
<p>The  setup procedure performs a Forward-confirmed reverse DNS lookup. This must succeed in order for the setup procedure to complete successfully and for  to operate as expected. Therefore it is important that the hostname and IP configuration be performed prior to running the  setup procedure.</p>
</li>
<li>
<p> Server and  Proxy instances are expected to run in a network configuration that provides you control over DNS entries and that is shielded from the Internet at large. Within this network configuration DNS (Domain Name Service) resolution must be provided, such that <code>hostname -f</code> returns the FQDN (Full Qualified Domain Name). The DNS resolution is not only important for the  Server procedure but is also important when clients are configured to be managed via . Configuring DNS is Cloud Framework dependent, please refer to the cloud service provider documentation for detailed instructions.</p>
</li>
<li>
<p>Minimal free disk space for  15G.</p>
<div class="paragraph">
<p>For Public Cloud instances we recommend that the repositories and the  Server database, and respectively the  Proxy squid cache, be located on an external virtual disk.
The details for this setup are provided in <a href="#using-separate-storage-volume">Using Separate Storage Volume</a>.</p>
</div>
<div class="paragraph">
<p>Storing the database and the repositories on an external virtual disk ensures that the data is not lost should the instance need to be terminated for some reason.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please ensure that the selected instance type matches the requirements listed above.
Although we recommend that the database and the repositories are stored on a separate device it is still recommended to set the root volume size of the instance to 20G.</p>
</div>
</div>
<div class="sect2">
<h3 id="setup"><a class="anchor" href="#setup"></a><a class="link" href="#setup">1.2. Setup</a></h3>
<div class="paragraph">
<p>Run an instance of the  Server or  Proxy image as published by SUSE.
The images are identifiable by the suse, manager, server or proxy, and byos keywords in each public cloud environment.
The  instance must run in a network access restricted environment such as the private subnet of a VPC or with an appropriate firewall setting such that it can only be accessed by machines in the IP ranges you use.
A generally accessible  instance violates the terms of the  EULA.
Access to the web interface of SUSE Manager requires https.</p>
</div>
<div class="paragraph">
<p> requires a stable and reliable hostname, changing the hostname can create errors.
In this procedure, all commands need to be executed as the root user.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Setting the Hostname</div>
<ol class="arabic">
<li>
<p>Disable hostname setup by editing the DHCP configuration file at <code class="path">/etc/sysconfig/network/dhcp</code>, and adding this line:</p>
<div class="listingblock">
<div class="content">
<pre>DHCLIENT_SET_HOSTNAME="no"</pre>
</div>
</div>
</li>
<li>
<p>Set the hostname locally using the <code class="command">hostnamectl</code> command.
Ensure you use the system name, not the fully qualified domain name (FQDN).
The FQDN is set by the cloud framework; for example if  <strong>cloud_instance.cloud.net</strong> is the FQDN, <strong>cloud_instance</strong> is the system name and <strong>cloud.net</strong> is the domain name:</p>
<div class="listingblock">
<div class="content">
<pre>hostnamectl set-hostname system_name</pre>
</div>
</div>
</li>
<li>
<p>Create a DNS entry in your network environment for domain name resolution, or force correct resolution by editing the <code class="path">/etc/hosts</code> file:</p>
<div class="listingblock">
<div class="content">
<pre>$ echo "${local_address} suma.cloud.net suma" &gt;&gt; /etc/hosts</pre>
</div>
</div>
<div class="paragraph">
<p>You can locate the local address by checking your public cloud web console, or from the command line using these commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Amazon EC2 instance:</p>
<div class="listingblock">
<div class="content">
<pre>$ ec2metadata --local-ipv4</pre>
</div>
</div>
</li>
<li>
<p>Google Compute Engine:</p>
<div class="listingblock">
<div class="content">
<pre>$ gcemetadata --query instance --network-interfaces --ip</pre>
</div>
</div>
</li>
<li>
<p>Microsoft Azure:</p>
<div class="listingblock">
<div class="content">
<pre>$ azuremetadata --internal-ip</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Forcing DNS resolution by modifying the <code class="path">/etc/hosts</code> file will work correctly in most environments.
However, you will have to perform the same modification for any client that is to be managed with this  instance.
In most cases, it will be easier to manage the DNS resolution by creating a DNS entry in your network environment.</p>
</div>
<div class="paragraph">
<p>One other method for managing hostname resolution is by editing the <code class="path">/etc/resolv.conf</code> file.
Depending on the order of your setup, for example if you started the  instance prior to setting up DNS services the file may not contain the appropriate <strong>search</strong> directive.
Double check that the proper search directive exists in <code class="path">/etc/resolv.conf</code>.
In our example the directive would be <strong>search cloud.net</strong>.
If the directive is missing add it to the file.</p>
</div>
<div class="paragraph">
<p>For an update of the DNS records for the instance within the DNS service of your network environment, refer to the cloud service provider documentation for detailed instructions:
<strong>* <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-dns.html"> DNS setup on Amazon EC2</a>
</strong>* <a href="https://cloud.google.com/compute/docs/networking"> DNS setup on Google Compute Engine</a>
<strong>*</strong> <a href="https://azure.microsoft.com/en-us/documentation/articles/dns-operations-recordsets"> DNS setup on Microsoft Azure</a></p>
</div>
<div class="paragraph">
<p>If you run a  Server instance, you can run YaST after the instance is launched to ensure the external storage is attached and prepared according to <a href="#using-separate-storage-volume">Using Separate Storage Volume</a>, and the DNS resolution is set up as described:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ /sbin/yast2 susemanagersetup</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the setup of  from this point forward does not differ from the documentation in the <a href="https://www.suse.com/documentation/suse_manager">SUSE Manager Guide</a>.</p>
</div>
<div class="paragraph">
<p>The  setup procedure in YaST is designed as a one pass process with no rollback or cleanup capability.
Therefore, if the setup procedure is interrupted or ends with an error, it is not recommended that you repeat the setup process or attempts to manually fix the configuration.
These methods are likely to result in a faulty  installation.
If you experience errors during setup, start a new instance, and begin the setup procedure again on a clean system.</p>
</div>
<div class="paragraph">
<p>If you receive a message that there is not enough space available for setup, ensure that your root volume is at least 20GB and double check that the instructions in <a href="#using-separate-storage-volume">Using Separate Storage Volume</a> have been completed correctly.</p>
</div>
<div class="paragraph">
<p> Server for the Public Cloud comes with a bootstrap data module pre-installed.
The bootstrap module contains optimized package lists for bootstrapping instances started from SUSE Linux Enterprise images published by SUSE.
If you intend to register such an instance, when you creatr the bootstrap repository run the <code class="command">mgr-create-bootstrap-repo</code> script using this command, to create a bootstrap repository suitable for SUSE Linux Enterprise 12 SP1 instances.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mgr-create-bootstrap-repo --datamodule=mgr_pubcloud_bootstrap_data -c SLE-12-SP1-x86_64</pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="https://www.suse.com/documentation/suse-manager-3/book.suma.getting-started/data/create_tools_repository.html">Creating the SUSE Manager Tools Repository</a> for more information on bootstrapping.</p>
</div>
<div class="paragraph">
<p>Prior to registering instances started from on demand images remove the following packages from the instance to be registered:
&#8230;&#8203; cloud-regionsrv-client
&#8230;&#8203; <strong>For Amazon EC2</strong></p>
</div>
<div class="paragraph">
<p>+
regionServiceClientConfigEC2</p>
</div>
<div class="paragraph">
<p>+
regionServiceCertsEC2
&#8230;&#8203; <strong>For Google Compute Engine</strong></p>
</div>
<div class="paragraph">
<p>+
cloud-regionsrv-client-plugin-gce</p>
</div>
<div class="paragraph">
<p>+
regionServiceClientConfigGCE</p>
</div>
<div class="paragraph">
<p>+
regionServiceCertsGCE
&#8230;&#8203; <strong>For Microsoft Azure</strong></p>
</div>
<div class="paragraph">
<p>+
regionServiceClientConfigAzure</p>
</div>
<div class="paragraph">
<p>+
regionServiceCertsAzure</p>
</div>
<div class="paragraph">
<p>+
If these packages are not removed it is possible to create interference between the repositories provided by  and the repositories provided by the SUSE operated update infrastructure.</p>
</div>
<div class="paragraph">
<p>+
Additionally remove the line from the <code class="path">/etc/hosts</code>
file that contains the <strong>susecloud.net</strong> reference.
** If you run a  Proxy instance</p>
</div>
<div class="paragraph">
<p>+
Launch the instance, optionally with external storage configured.
If you use external storage (recommended), prepare it according to <a href="#using-separate-storage-volume">Using Separate Storage Volume</a>.
It is recommended but not required to prepare the storage before configuring  proxy, as the suma-storage script will migrate any existing cached data to the external storage.
After preparing the instance, register the system with the parent SUSE Manager, which could be a  Server or another  Proxy.
See the <a href="https://www.suse.com/documentation/suse-manager-3/singlehtml/suse_manager21/book_susemanager_proxyquick/book_susemanager_proxyquick.html"> SUSE Manager Proxy Setup guide</a> for details.
Once registered, run</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ /usr/sbin/configure-proxy.sh</pre>
</div>
</div>
<div class="paragraph">
<p>+
to configure your  Proxy instance.
. After the completion of the configuration step,  should be functional and running. For  Server, the setup process created an administrator user with following user name:</p>
</div>
<div class="paragraph">
<p>+
* User name: <code>admin</code></p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Account credentials for admin user</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Amazon EC2</th>
<th class="tableblock halign-left valign-top">Google Compute Engine</th>
<th class="tableblock halign-left valign-top">Microsoft Azure</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="replaceable">Instance-ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="replaceable">Instance-ID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="replaceable">Instance-Name</code><strong>-suma</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>+
The current value for the <code class="replaceable">Instance-ID</code> or <code class="replaceable">Instance-Name</code> in case of the Azure Cloud, can be obtained from the public cloud Web console or from within a terminal session as follows:
** Obtain instance id from within Amazon EC2 instance</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ec2metadata --instance-id</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Obtain instance id from within Google Compute Engine instance</p>
<div class="listingblock">
<div class="content">
<pre>$ gcemetadata --query instance --id</pre>
</div>
</div>
</li>
<li>
<p>Obtain instance name from within Microsoft Azure instance</p>
<div class="listingblock">
<div class="content">
<pre>$ azuremetadata --instance-name</pre>
</div>
</div>
<div class="paragraph">
<p>After logging in through the  Server WebUI, <strong>change</strong> the default password.</p>
</div>
<div class="paragraph">
<p> Proxy does not have administration access to the WebUI.
It can be managed through its parent  Server.</p>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="using-separate-storage-volume"><a class="anchor" href="#using-separate-storage-volume"></a><a class="link" href="#using-separate-storage-volume">1.2.1. Using Separate Storage Volume</a></h4>
<div class="paragraph">
<p>We recommend that the repositories and the database for  be stored on a virtual storage device.
This best practice will avoid data loss in cases where the  instance may need to be terminated.
These steps <strong>must</strong> be performed <strong>prior</strong> to running the YaST   setup procedure.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Provision a disk device in the public cloud environment, refer to the cloud service provider documentation for detailed instructions. The size of the disk is dependent on the number of distributions and channels you intend to manage with .
For sizing information refer to <a href="https://www.suse.com/support/kb/doc.php?id=7015050">SUSE Manager sizing examples</a>. A rule of thumb is 25 GB per distribution per channel.</p>
</li>
<li>
<p>Once attached the device appears as Unix device node in your instance. For the following command to work this device node name is required. In many cases the attached storage appears as <strong>/dev/sdb</strong>. In order to check which disk devices exists on your system, call the following command:</p>
<div class="listingblock">
<div class="content">
<pre>$ hwinfo --disk | grep -E "Device File:"</pre>
</div>
</div>
</li>
<li>
<p>With the device name at hand the process of re-linking the directories in the filesystem  uses to store data is handled by the suma-storage script. In the following example we use <code class="path">/dev/sdb</code> as the device name.</p>
<div class="listingblock">
<div class="content">
<pre>$ /usr/bin/suma-storage /dev/sdb</pre>
</div>
</div>
<div class="paragraph">
<p>After the call all database and repository files used by SUSE Manager Server are moved to the newly created xfs based storage.
In case your instance is a  Proxy, the script will move the Squid cache, which caches the software packages, to the newly created storage.
The xfs partition is mounted below the path <code class="path">/manager_storage</code>.
.</p>
</div>
</li>
<li>
<p>Create an entry in /etc/fstab (optional)</p>
<div class="paragraph">
<p>Different cloud frameworks treat the attachment of external storage devices differently at instance boot time.
Please refer to the cloud environment documentation for guidance about the fstab entry.</p>
</div>
<div class="paragraph">
<p>If your cloud framework recommends to add an fstab entry, add the following line to the <strong>/etc/fstab</strong> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/dev/sdb1 /manager_storage xfs defaults 1 1</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="registration-of-cloned-systems"><a class="anchor" href="#registration-of-cloned-systems"></a><a class="link" href="#registration-of-cloned-systems">1.3. Registration of Cloned Systems</a></h3>
<div class="paragraph">
<p> cannot distinguish between different instances that use the same system ID.
If you register a second instance with the same system ID as a previous instance,  will overwrite the original system data with the new system data.
This can occur when you launch multiple instances from the same image, or when an image is created from a running instance.
However, it is possible to clone systems and register them successfully by deleting the cloned system&#8217;s ID, and generating a new ID.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure: Registering Cloned Systems</div>
<ol class="arabic">
<li>
<p>Clone the system using your preferred hypervisor&#8217;s cloning mechanism.</p>
</li>
<li>
<p>On the cloned system, change the hostname and IP addresses, and check the <code class="path">/etc/hosts</code> file to ensure you have the right host entries.</p>
</li>
<li>
<p>Stop the <code class="command">rhnsd</code> daemon with <code class="command">/etc/init.d/rhnsd stop</code> or <code class="command">rcosad stop</code>.</p>
</li>
<li>
<p>For SLES 11 or Red Hat Enterprise Linux 5 or 6 clients, run these commands:</p>
<div class="listingblock">
<div class="content">
<pre># rm /var/lib/dbus/machine-id
# dbus-uuidgen --ensure</pre>
</div>
</div>
</li>
<li>
<p>For SLES 12 or Red Hat Enterprise Linux 7 clients, run these commands:</p>
<div class="listingblock">
<div class="content">
<pre># rm /etc/machine-id
# rm /var/lib/dbus/machine-id
# dbus-uuidgen --ensure
# systemd-machine-id-setup</pre>
</div>
</div>
</li>
<li>
<p>If you are using Salt, then you will also need to run these commands:</p>
<div class="listingblock">
<div class="content">
<pre># service salt-minion stop
# rm -rf /var/cache/salt</pre>
</div>
</div>
</li>
<li>
<p>If you are using a traditional registered system, clean up the working files with this command:</p>
<div class="listingblock">
<div class="content">
<pre># rm -f /etc/sysconfig/rhn/{osad-auth.conf,systemid}</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The bootstrap should now run with a new system ID, rather than a duplicate.</p>
</div>
<div class="paragraph">
<p>If you are onboarding Salt minion clones, then you will also need to check if they have the same Salt minion ID.
You will need to delete the minion ID on each cloned minion, using the <code class="command">rm</code> command.
Each operating system type stores this file in a slightly different location, check the table for the appropriate command.</p>
</div>
<div class="paragraph">
<div class="title">Minion ID File Location</div>
<p>Each operating system stores the minion ID file in a slightly different location, check the table for the appropriate command.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operating System</th>
<th class="tableblock halign-left valign-top">Commands</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLES 12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="command">rm /etc/salt/minion_id</code></p>
<p class="tableblock">                     <code class="command">rm  -f /etc/zypp/credentials.d/{SCCcredentials,NCCcredentials}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLES 11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="command">rm /etc/salt/minion_id</code></p>
<p class="tableblock">                     <code class="command">suse_register -E</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLES 10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="command">rm -rf /etc/{zmd,zypp}</code></p>
<p class="tableblock">                     <code class="command">rm -rf /var/lib/zypp/</code>
                     Do not delete <code class="path">/var/lib/zypp/db/products/</code></p>
<p class="tableblock">                     <code class="command">rm -rf /var/lib/zmd/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red Hat Enterprise Linux 5, 6, 7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="command"> rm  -f /etc/NCCcredentials</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Once you have deleted the minion ID file, re-run the bootstrap script, and restart the minion to see the cloned system in  with the new ID.</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>optimizing.apache-tomcat"&gt;Optimizing Apache and Tomcat&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#at.apache.httpd.maxclient.parameter"&gt;Apache&#8217;s httpd MaxClients Parameter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.tomcat.maxthreads.parameter"&gt;Tomcat&#8217;s maxThreads Parameter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#optimizing.big"&gt;Big Scale Deployment (1000 Minions or More)&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#optimizing.big.general"&gt;General Recommendations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#optimizing.big.tuning"&gt;Tuning Proposals&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="optimizing.apache-tomcat"&gt;&lt;a class="anchor" href="#optimizing.apache-tomcat"&gt;&lt;/a&gt;&lt;a class="link" href="#optimizing.apache-tomcat"&gt;Optimizing Apache and Tomcat&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Altering Apache and Tomcat Parameters&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Apache and Tomcat Parameters should only be modified with support or consulting as these parameters can have severe and catastrophic performance impacts on your server when improperly adjusted.
SUSE will not be able to provide support for catastrophic failure when these advanced parameters are modified without consultation.
Tuning values for Apache httpd and Tomcat requires that you align these parameters with your server hardware.
Furthermore testing of these altered values should be performed within a test environment.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.apache.httpd.maxclient.parameter"&gt;&lt;a class="anchor" href="#at.apache.httpd.maxclient.parameter"&gt;&lt;/a&gt;&lt;a class="link" href="#at.apache.httpd.maxclient.parameter"&gt;Apache&#8217;s httpd MaxClients Parameter&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The &lt;code class="parameter"&gt;MaxClients&lt;/code&gt; setting determines the number of Apache httpd processes, and thus limits the number of client connections that can be made at the same time (SUSE Manager uses the pre-fork MultiProcessing Modules).
The default value for &lt;code class="parameter"&gt;MaxClients&lt;/code&gt; in SUSE Manager is 150.
If you need to set the &lt;code class="parameter"&gt;MaxClients&lt;/code&gt; value greater than 150, Apache httpd&#8217;s ServerLimit setting and Tomcat&#8217;s &lt;code class="parameter"&gt;maxThreads&lt;/code&gt; must also be increased accordingly (see below).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The Apache httpd &lt;code class="parameter"&gt;MaxClients&lt;/code&gt; parameter must always be less or equal than Tomcat&#8217;s &lt;code class="parameter"&gt;maxThreads&lt;/code&gt; parameter!&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If the &lt;code class="parameter"&gt;MaxClients&lt;/code&gt; value is reached while the software is running, new client connections will be queued and forced to wait, this may result in timeouts.
You can check the Apache httpd&#8217;s &lt;code class="path"&gt;error.log&lt;/code&gt; for details:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;[error] Server reached MaxClients setting, consider increasing the MaxClients setting&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The default &lt;code class="parameter"&gt;MaxClients&lt;/code&gt; parameter can be overridden on SUSE Manager by editing the &lt;code class="path"&gt;server-tuning.conf&lt;/code&gt; file located at &lt;code class="systemitem"&gt;/etc/apache2/&lt;/code&gt;.
For example &lt;code class="path"&gt;server-tuning.conf&lt;/code&gt; file:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> prefork MPM
   &lt;IfModule prefork.c&gt;
           # number of server processes to start
           # <a href="http://httpd.apache.org/docs/2.2/mod/mpm_common.html#startservers" class="bare">http://httpd.apache.org/docs/2.2/mod/mpm_common.html#startservers</a>
           StartServers         5
           # minimum number of server processes which are kept spare
           # <a href="http://httpd.apache.org/docs/2.2/mod/prefork.html#minspareservers" class="bare">http://httpd.apache.org/docs/2.2/mod/prefork.html#minspareservers</a>
           MinSpareServers      5
           # maximum number of server processes which are kept spare
           # <a href="http://httpd.apache.org/docs/2.2/mod/prefork.html#maxspareservers" class="bare">http://httpd.apache.org/docs/2.2/mod/prefork.html#maxspareservers</a>
           MaxSpareServers     10
           # highest possible MaxClients setting for the lifetime of the Apache process.
           # <a href="http://httpd.apache.org/docs/2.2/mod/mpm_common.html#serverlimit" class="bare">http://httpd.apache.org/docs/2.2/mod/mpm_common.html#serverlimit</a>
           ServerLimit        150
           # maximum number of server processes allowed to start
           # <a href="http://httpd.apache.org/docs/2.2/mod/mpm_common.html#maxclients" class="bare">http://httpd.apache.org/docs/2.2/mod/mpm_common.html#maxclients</a>
           MaxClients         150
           # maximum number of requests a server process serves
           # <a href="http://httpd.apache.org/docs/2.2/mod/mpm_common.html#maxrequestsperchild" class="bare">http://httpd.apache.org/docs/2.2/mod/mpm_common.html#maxrequestsperchild</a>
           MaxRequestsPerChild  10000
   &lt;/IfModule&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.tomcat.maxthreads.parameter"&gt;&lt;a class="anchor" href="#at.tomcat.maxthreads.parameter"&gt;&lt;/a&gt;&lt;a class="link" href="#at.tomcat.maxthreads.parameter"&gt;Tomcat&#8217;s maxThreads Parameter&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Tomcat&#8217;s &lt;code class="parameter"&gt;maxThreads&lt;/code&gt; represents the maximum number of request processing threads that it will create.
This value determines the maximum number of simultaneous requests that it is able to handle.
All HTTP requests to the SUSE Manager server (from clients, browsers, XMLRPC API scripts, etc.) are handled by Apache httpd, and some of them are routed to Tomcat for further processing.
It is thus important that Tomcat is able to serve the same amount of simultaneous requests that Apache httpd is able to serve in the worst case.
The default value for SUSE Manager is 200 and should always be equal or greater than Apache httpd&#8217;s &lt;code class="parameter"&gt;MaxClients&lt;/code&gt;.
The &lt;code class="parameter"&gt;maxThreads&lt;/code&gt; value is located within the &lt;code class="path"&gt;server.xml&lt;/code&gt; file located at &lt;code class="systemitem"&gt;/etc/tomcat/&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Example relevant lines in &lt;code class="path"&gt;server.xml&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;Connector port="8009" protocol="AJP/1.3" redirectPort="8443" URIEncoding="UTF-8" address="127.0.0.1" maxThreads="200" connectionTimeout="20000"/&gt;
&lt;Connector port="8009" protocol="AJP/1.3" redirectPort="8443" URIEncoding="UTF-8" address="::1" maxThreads="200" connectionTimeout="20000"/&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Tuning Notes&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When configuring Apache httpd&#8217;s &lt;code class="parameter"&gt;MaxClients&lt;/code&gt; and Tomcat&#8217;s &lt;code class="parameter"&gt;maxThreads&lt;/code&gt; parameters you should also take into consideration that each HTTP connection will need one or more database connections.
If the RDBMS is not able to serve an adequate amount of connections, issues will arise.
See the following equation for a rough calculation of the needed amount of database connections:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;((3 * java_max) +  apache_max + 60)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Where:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;3 is the number of Java processes the server runs with pooled connections (Tomcat, Taskomatic and Search)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;java_max is the maximum number of connections per Java pool (20 by default, changeable in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt; via the hibernate.c3p0.max_size parameter)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;apache_max is Apache httpd&#8217;s &lt;code class="parameter"&gt;MaxClients&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;60 is the maximum expected number of extra connections for local processes and other uses&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="optimizing.big"&gt;&lt;a class="anchor" href="#optimizing.big"&gt;&lt;/a&gt;&lt;a class="link" href="#optimizing.big"&gt;Big Scale Deployment (1000 Minions or More)&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In the following sections find considerations about a big scale deployment.
In this context, a big scale compromises 1000 minions or more.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="optimizing.big.general"&gt;&lt;a class="anchor" href="#optimizing.big.general"&gt;&lt;/a&gt;&lt;a class="link" href="#optimizing.big.general"&gt;General Recommendations&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;SUSE recommends the following in a big scale  deployment:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt; servers should have at least 8 recent x86 cores, 32 GiB of RAM, and, most important, fast I/O devices such as at least an SSD (2 SSDs in RAID-0 are strongly recommended).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Proxies with many minions (hundreds) should have at least 2 recent x86 cores and 16 GiB of RAM.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use one SUSE Manager Proxy per 500-1000 clients.
Keep into account that download time depends on network capacity.
Here is a rough example calculation with physical link speed of 1 GB/s:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;400 Megabytes  *        3000       /      119 Megabyte/s        / 60
= 169 Minutes&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This is:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Size of updates * Number of minions / Theoretical download speed / 60&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Depending on hardware you can accept hundreds of minion keys.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Plan time for onboarding minions{mdash} at least one hour per 1000 minions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It is not recommended onboarding more than approx.
1000 minions directly to the  server{mdash} proxies should be used instead.
This is because every minion can use up to 3 TCP connections simultaneously, and too many TCP connections can cause performance issues.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the following error appears in output of &lt;code class="command"&gt;dmesg&lt;/code&gt;, you probably have an excessive number of minions attached to a single  server or proxy for the ARP cache to contain all of their addresses:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;kernel: neighbour table overflow&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In that case, increase the ARP cache values via &lt;code class="systemitem"&gt;sysctl&lt;/code&gt;, for example, by adding the following lines to &lt;code class="path"&gt;/etc/sysctl.conf&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;net.ipv4.neigh.default.gc_thresh1 = 4096
net.ipv4.neigh.default.gc_thresh2 = 8192
net.ipv4.neigh.default.gc_thresh3 = 16384
net.ipv4.neigh.default.gc_interval = 60
net.ipv4.neigh.default.gc_stale_time = 120&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="admonitionblock tip"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-tip" title=":bulb:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Start Small and Scale Up&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Always start small and scale up gradually.
Keep the server monitored in order to identify possible issues early.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="optimizing.big.tuning"&gt;&lt;a class="anchor" href="#optimizing.big.tuning"&gt;&lt;/a&gt;&lt;a class="link" href="#optimizing.big.tuning"&gt;Tuning Proposals&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;SUSE proposes the following tuning settings in a big scale  deployment:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Increase the maximum Tomcat heap memory to face a potentially long queue of Salt return results. Set 8 GiB instead of the current default 1 GiB: parameter &lt;code class="parameter"&gt;Xmx1G&lt;/code&gt; in &lt;code class="path"&gt;/etc/sysconfig/tomcat&lt;/code&gt; (affects onboarding and Action execution).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Increase the number of Taskomatic workers, allowing to parallelize work on a high number of separate jobs. Set parameter &lt;code class="parameter"&gt;org.quartz.threadPool.threadCount = 100&lt;/code&gt; in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt; (affects onboarding and staging).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Allow Taskomatic to check for runnable jobs more frequently to reduce latency. Set parameter &lt;code class="parameter"&gt;org.quartz.scheduler.idleWaitTime = 1000&lt;/code&gt; in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt; (affects onboarding, staging and Action execution).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Increase Tomcat&#8217;s Salt return result workers to allow parallelizing work on a high number of Salt return results. Set parameter &lt;code class="parameter"&gt;java.message_queue_thread_pool_size = 100&lt;/code&gt; in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt; (affects patching).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Increase the number of PostgreSQL connections available to Java applications (Tomcat, Taskomatic) according to the previous parameters, otherwise extra workers will starve waiting for a connection. Set parameter &lt;code class="parameter"&gt;hibernate.c3p0.max_size = 150&lt;/code&gt; in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt; (affects all minion operations). Make sure enough PostgreSQL connections are configured before changing this parameter {mdash} refer to &lt;code&gt;smdba system-check autotuning --help&lt;/code&gt; to get automatic tuning of the PostgreSQL configuration file while changing the number of available connections. Additional manual tuning is usually not necessary but might be required depending on scale and exact use cases.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Increase Salt&#8217;s presence ping timeouts if responses might come back later than the defaults. Set parameters &lt;code class="parameter"&gt;salt_presence_ping_timeout = 20&lt;/code&gt; and &lt;code class="parameter"&gt;salt_presence_ping_timeout = 20&lt;/code&gt; in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt; (affects all minion operations).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Increase the Salt master worker threads allowing to parallelize more requests (otherwise Tomcat and Taskomatic workers will starve waiting for the Salt API). Set parameter &lt;code class="parameter"&gt;worker_threads: 100&lt;/code&gt; in &lt;code class="path"&gt;/etc/salt/master.d/susemanager.conf&lt;/code&gt; (affects onboarding and patching).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Disable daily comparison of configuration files. Click on &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Admin&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Task Schedules&lt;/b&gt;&lt;/span&gt;, then on the &lt;b class="button"&gt;compare-configs-default&lt;/b&gt; link, then on the &lt;b class="button"&gt;Disable Schedule&lt;/b&gt; button and finally on &lt;b class="button"&gt;Delete Schedule&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Note that increasing the number of Postgres connections and Salt workers will require more RAM, make sure the  server is monitored and swap is never used.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Also note the above settings should be regarded as guidelines{mdash}they have been tested to be safe but care should be exercised when changing them, and consulting support is highly recommended.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>ssh-push-overview"&gt;SSH Push Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#salt-ssh-integration"&gt;Salt SSH Integration&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#authentication-types"&gt;Authentication&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_user_account_for_salt_ssh_calls"&gt;User Account for salt-ssh Calls&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_ssh_push_tunnel_http_s_redirection"&gt;SSH Push Tunnel HTTP(s) Redirection&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_suse_manager_salt_ssh_call_sequence"&gt;SUSE Manager Salt SSH Call Sequence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_bootstrap_process_sequence"&gt;Bootstrap Process Sequence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_proxy_support"&gt;Proxy Support&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#_the_proxycommand"&gt;The ProxyCommand&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_salt_ssh_call_sequence_via_proxy"&gt;Salt SSH Call Sequence via Proxy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_users_and_ssh_key_management"&gt;Users and SSH Key Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_repository_access_via_proxy"&gt;Repository access via proxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_proxy_setup"&gt;Proxy setup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="preamble"&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Version 1, 2018-03-20&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following topic provides an overview of the &lt;a href="https://docs.saltstack.com/en/latest/topics/ssh/"&gt;Salt SSH&lt;/a&gt; integration with SUSE Manager. This integration adds support for both ssh-push and ssh-push-tunnel connections for Salt minions.&lt;/p&gt;
&lt;/div&gt;
&lt;!-- toc disabled -&#8594;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="ssh-push-overview"&gt;&lt;a class="anchor" href="#ssh-push-overview"&gt;&lt;/a&gt;&lt;a class="link" href="#ssh-push-overview"&gt;SSH Push Overview&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Like the traditional stack, Salt minions may use an ssh connection to manage minions in place of &lt;a href="https://docs.saltstack.com/en/latest/topics/transports/zeromq.html"&gt;Zeromq&lt;/a&gt;. This additional functionality is based on Salt SSH. Salt SSH enables you to execute salt commands and states via ssh without ever needing to install a salt-minion.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When the server executes an action on a minion an ssh connection is made on demand. This connection differs from the always-connected mode used by minions managed via Zeromq.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In SUSE Manager there are two ssh-push methods. In both use cases the server initiates an ssh connection to the minion in order to execute a Salt call using &lt;code&gt;salt-ssh&lt;/code&gt;. The difference in the two methods is how &lt;code&gt;zypper/&lt;em&gt;yum&lt;/em&gt;&lt;/code&gt;  initially connects to the server repositories:&lt;/p&gt;
&lt;/div&gt;
&lt;div id="zypper-connection-methods" class="dlist"&gt;
&lt;div class="title"&gt;zypper Connection Methods:&lt;/div&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;ssh-push&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;zypper works as usual. The http(s) connection to the server is created directly.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;ssh-push-tunnel&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The server creates an http(s) connection through an ssh tunnel. The http(s) connection initiated by &lt;code&gt;zypper&lt;/code&gt; is redirected through the tunnel by means of &lt;code&gt;/etc/hosts&lt;/code&gt; aliasing (see below). This method should be used for in place firewall setups that block http(s) connections from a minion to the server.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="salt-ssh-integration"&gt;&lt;a class="anchor" href="#salt-ssh-integration"&gt;&lt;/a&gt;&lt;a class="link" href="#salt-ssh-integration"&gt;Salt SSH Integration&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;As with all Salt calls, SUSE Manager invokes &lt;code&gt;salt-ssh&lt;/code&gt; via the &lt;code&gt;salt-api&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Salt SSH relies on a Roster to obtain details such as hostname, ports, and ssh parameters of an ssh minion. SUSE Manager keeps these details in the database and makes them available to Salt by generating a temporary Roster file for each salt-ssh call. The location of the temporary Roster file is supplied to salt-ssh using the &lt;code&gt;--roster-file= option&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="authentication-types"&gt;&lt;a class="anchor" href="#authentication-types"&gt;&lt;/a&gt;&lt;a class="link" href="#authentication-types"&gt;Authentication&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;salt-ssh supports both password and key authentication. SUSE Manager uses both methods:&lt;/p&gt;
&lt;/div&gt;
&lt;div id="password-and-key-authentication" class="dlist"&gt;
&lt;div class="title"&gt;Password and Key Authentication:&lt;/div&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;Bootstrapping Authentication&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Password authentication is used only when bootstrapping. During the bootstrap step the key of the server is not authorized on the minion and therefore a password must be utilized for a connection to be made. The password is used transiently in a temporary roster file used for bootstrapping. This password is not stored.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Common Salt Call Authentication&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;All other common salt calls use key authentication. During the bootstrap step the ssh key of the server is authorized on the minion (added to a minion&#8217;s &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; file). Therefore subsequent calls no longer require a password.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_user_account_for_salt_ssh_calls"&gt;&lt;a class="anchor" href="#_user_account_for_salt_ssh_calls"&gt;&lt;/a&gt;&lt;a class="link" href="#_user_account_for_salt_ssh_calls"&gt;User Account for salt-ssh Calls&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The user for &lt;code&gt;salt-ssh&lt;/code&gt; calls made by SUSE Manager is taken from the &lt;code&gt;ssh_push_sudo_user&lt;/code&gt; setting. The default value of this is &lt;code&gt;root&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If the value of &lt;code&gt;ssh_push_sudo_user&lt;/code&gt; is not &lt;code&gt;root&lt;/code&gt; then the &lt;code&gt;--sudo&lt;/code&gt; options of &lt;code&gt;salt-ssh&lt;/code&gt; are used.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_ssh_push_tunnel_http_s_redirection"&gt;&lt;a class="anchor" href="#_ssh_push_tunnel_http_s_redirection"&gt;&lt;/a&gt;&lt;a class="link" href="#_ssh_push_tunnel_http_s_redirection"&gt;SSH Push Tunnel HTTP(s) Redirection&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For the &lt;code&gt;ssh-push-tunnel&lt;/code&gt; method the traffic originating from zypper/yum has to be redirected through an ssh tunnel in order to bypass any firewall blocking a direct connection from the minion to the server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This is achieved by using port &lt;code&gt;1233&lt;/code&gt; in the repo url:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://suma-server:1233/repourl&#8230;&#8203;&lt;/pre&gt" class="bare">https://suma-server:1233/repourl&#8230;&#8203;&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Next alias the suma-server hostname to localhost in /etc/hosts:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;127.0.0.1       localhost    suma-server&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The server creates a reverse ssh tunnel that connects &lt;code&gt;localhost:1233&lt;/code&gt; on the minion to &lt;code&gt;suma-server:443&lt;/code&gt; (&lt;code&gt;ssh &#8230;&#8203; -R 1233:suma-server:443&lt;/code&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The result is that zypper/yum will actually connect to &lt;code&gt;localhost:1233&lt;/code&gt; which is then forwarded to &lt;code&gt;suma-server:443&lt;/code&gt; via the ssh tunnel.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This implies that zypper can contact the server only if the tunnel is open. This happens only when the servers executes an action on the minion. Manual zypper operations that require server connectivity are not possible in this case.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_suse_manager_salt_ssh_call_sequence"&gt;&lt;a class="anchor" href="#_suse_manager_salt_ssh_call_sequence"&gt;&lt;/a&gt;&lt;a class="link" href="#_suse_manager_salt_ssh_call_sequence"&gt;SUSE Manager Salt SSH Call Sequence&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Prepare the Salt Roster for the call&lt;/p&gt;
&lt;div class="olist loweralpha"&gt;
&lt;ol class="loweralpha" type="a"&gt;
&lt;li&gt;
&lt;p&gt;Create remote port forwarding option IF the contact method is ssh-push-tunnel&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Compute the ProxyCommand IF the minion is connected through a proxy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create Roster content:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;hostname&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;user&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;port&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;remote_port_forwards&lt;/code&gt;: The remote port forwarding ssh option&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ssh_options&lt;/code&gt;: other ssh options:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ProxyCommand&lt;/code&gt;: If the minion connects through a SUMA proxy&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;timeout&lt;/code&gt;: default 180s&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;minion_opts&lt;/code&gt;:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;master&lt;/code&gt;: set to the minion id if contact method is ssh-push-tunnel&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;create a temporary Roster file&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;execute a synchronous salt-ssh call via the API&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;remove the temporary Roster file&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;strong&gt;Additional Information:&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/java/code/src/com/suse/manager/webui/services/impl/SaltSSHService.java"&gt;SaltSSHService.callSyncSSH&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_bootstrap_process_sequence"&gt;&lt;a class="anchor" href="#_bootstrap_process_sequence"&gt;&lt;/a&gt;&lt;a class="link" href="#_bootstrap_process_sequence"&gt;Bootstrap Process Sequence&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Bootstrapping minions uses salt-ssh under the hood. This happens for both regular and ssh minion.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The bootstrap sequence is a bit different than the regular salt-ssh call:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;For a regular minion generate and pre-authorize the Salt key of the minion&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If this is an ssh minion and a proxy was selected retrieve the ssh public key of the proxy using the mgrutil.chain_ssh_cmd runner. The runner copies the public key of the proxy to the server using ssh. If needed it can chain multiple ssh commands to reach the proxy across multiple hops.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generate pillar data for bootstrap. Pillar data contains:&lt;/p&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;mgr_server&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The hostname of the SUSE Manager server&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;minion_id&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The hostname of the minion to bootstrap&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;contact_method&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The connection type&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;mgr_sudo_user&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The user for salt-ssh&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activation_key&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;If selected&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;minion_pub&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The public minion key that was pre-authorized&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;minion_pem&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The private minion key that was pre-authorized&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;proxy_pub_key&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The public ssh key that was retrieved from the proxy if the target is an ssh minion and a proxy was selected&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If contact method is &lt;code&gt;ssh-push-tunnel&lt;/code&gt; fill the remote port forwarding option&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if the minion connects through a SUMA proxy compute the &lt;code&gt;ProxyCommand&lt;/code&gt; option. This depends on the path used to connect to the proxy, e.g. server &#8594; proxy1 &#8594; proxy2 &#8594; minion&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;generate the roster for bootstrap into a temporary file. This contains:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;hostname&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;user&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;password&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;port&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;remote_port_forwards&lt;/code&gt;: the remote port forwarding ssh option&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ssh_options&lt;/code&gt;: other ssh options:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ProxyCommand&lt;/code&gt; if the minion connects through a SUMA proxy&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;timeout&lt;/code&gt;: default 180s&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Via the Salt API execute:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;salt-ssh --roster-file=&lt;temporary_bootstrap_roster&gt; minion state.apply certs,&lt;bootstrap_state&gt;`&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
 &lt;bootstrap_state&gt; replaceable by &lt;strong&gt;bootstrap&lt;/strong&gt; for regular minions or &lt;strong&gt;ssh_bootstrap&lt;/strong&gt; for ssh minions.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following image provides an overview of the Salt SSH bootstrap process.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-bootstrap-process.png" alt="salt ssh bootstrap process"&gt;
&lt;/div&gt;
&lt;div class="title"&gt;Figure 1. Salt SSH Bootstrap Process&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;strong&gt;Additional Information:&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/java/code/src/com/suse/manager/webui/controllers/utils/RegularMinionBootstrapper.java"&gt;SSHMinionBootstrapper.java&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/java/code/src/com/suse/manager/webui/controllers/utils/SSHMinionBootstrapper.java"&gt;RegularMinionBootstrapper.java&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/susemanager-utils/susemanager-sls/salt/bootstrap/init.sls"&gt;bootstrap/init.sls&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/susemanager-utils/susemanager-sls/salt/ssh_bootstrap/init.sls"&gt;ssh_bootstrap/init.sls&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_proxy_support"&gt;&lt;a class="anchor" href="#_proxy_support"&gt;&lt;/a&gt;&lt;a class="link" href="#_proxy_support"&gt;Proxy Support&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In order to make salt-ssh work with SUSE Managers proxies the ssh connection is chained from one server/proxy to the next. This is also know as multi-hop or multi gateway ssh connection.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-proxy-multi-hop.png" alt="salt ssh proxy multi hop"&gt;
&lt;/div&gt;
&lt;div class="title"&gt;Figure 2. Salt SSH Proxy Multiple Hops&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_the_proxycommand"&gt;&lt;a class="anchor" href="#_the_proxycommand"&gt;&lt;/a&gt;&lt;a class="link" href="#_the_proxycommand"&gt;The ProxyCommand&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In order to redirect the ssh connection through the proxies the ssh &lt;code&gt;ProxyCommand&lt;/code&gt; option is used. This options invokes an arbitrary command that is expected to connect to the ssh port on the target host. The standard input and output of the command is used by the invoking ssh process to talk to the remote ssh daemon.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The ProxyCommand basically replaces the TCP/IP connection. It doesn&#8217;t do any authorization, encryption, etc. Its role is simply to create a byte stream to the remote ssh daemon&#8217;s port.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;E.g. connecting to a server behind a gateway:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-proxycommand.png" alt="salt ssh proxycommand"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
In this example netcat (nc) is used to pipe port 22 of the target host into the ssh std i/o.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_salt_ssh_call_sequence_via_proxy"&gt;&lt;a class="anchor" href="#_salt_ssh_call_sequence_via_proxy"&gt;&lt;/a&gt;&lt;a class="link" href="#_salt_ssh_call_sequence_via_proxy"&gt;Salt SSH Call Sequence via Proxy&lt;/a&gt;&lt;/h3&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;SUSE Manager initates the ssh connections as described above.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Additionally the ProxyCommand uses ssh to create a connection from the server to the minion through the proxies.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="at-twin-proxies-and-ssh-push"&gt;&lt;a class="anchor" href="#at-twin-proxies-and-ssh-push"&gt;&lt;/a&gt;&lt;a class="link" href="#at-twin-proxies-and-ssh-push"&gt;Twin Proxies and SSH Push&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following example uses the ProxyCommand option with two proxies and the usual ssh-push method:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> 1
/usr/bin/ssh -i /srv/susemanager/salt/salt_ssh/mgr_ssh_id -o StrictHostKeyChecking=no -o User=mgrsshtunnel  proxy1
# 2
/usr/bin/ssh -i /var/lib/spacewalk/mgrsshtunnel/.ssh/id_susemanager_ssh_push -o StrictHostKeyChecking=no -o User=mgrsshtunnel -W minion:22  proxy2&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Steps&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;connect from the server to the first proxy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;connect from the first proxy to the second and forward standard input/output on the client to minion:22 using the -W option.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-push-push-plain-sequence.png" alt="salt ssh push push plain sequence"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="at-twin-proxies-and-ssh-push-tunnel"&gt;&lt;a class="anchor" href="<mark>at-twin-proxies-and-ssh-push-tunnel"&gt;&lt;/a&gt;&lt;a class="link" href="#at-twin-proxies-and-ssh-push-tunnel"&gt;Twin Proxies and SSH Push Tunnel&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following example uses the ProxyCommand option with two proxies over an ssh-push-tunnel connection:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> 1
/usr/bin/ssh -i /srv/susemanager/salt/salt_ssh/mgr_ssh_id -o User=mgrsshtunnel  proxy1
# 2
/usr/bin/ssh -i /home/mgrsshtunnel/.ssh/id_susemanager_ssh_push -o User=mgrsshtunnel  proxy2
# 3
/usr/bin/ssh -i /home/mgrsshtunnel/.ssh/id_susemanager_ssh_push -o User=root -R 1233:proxy2:443 minion
# 4
/usr/bin/ssh -i /root/.ssh/mgr_own_id -W minion:22 -o User=root minion&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Steps&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Connect from the server to the first proxy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Connect from the first proxy to the second.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;connect from the second proxy to the minion and open an reverse tunnel (-R 1233:proxy2:443) from the minion to the https port on the second proxy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Connect from the minion to itself and forward the std i/o of the server to the ssh port of the minion (-W minion:22). This is equivalent to ssh &#8230;&#8203; proxy2 netcat minion 22 and is needed because ssh doesn&#8217;t allow to have both the reverse tunnel (-R 1233:proxy2:443) and the standard i/o forwarding (-W minion:22) in the same command.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-push-push-tunnel-sequence.png" alt="salt ssh push push tunnel sequence"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;strong&gt;Additional Information:&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/java/code/src/com/suse/manager/webui/services/impl/SaltSSHService.java"&gt;SaltSSHService.sshProxyCommandOption&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_users_and_ssh_key_management"&gt;&lt;a class="anchor" href="#_users_and_ssh_key_management"&gt;&lt;/a&gt;&lt;a class="link" href="#_users_and_ssh_key_management"&gt;Users and SSH Key Management&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In order to connect to a proxy the parent server/proxy uses a specific user called &lt;code&gt;mgrsshtunnel&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The ssh config &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; of the proxy will force the execution of &lt;code&gt;`/usr/sbin/mgr-proxy-ssh-force-cmd&lt;/code&gt; when &lt;code&gt;mgrsshtunnel&lt;/code&gt; connects.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;code&gt;`/usr/sbin/mgr-proxy-ssh-force-cmd&lt;/code&gt; is a simple shell script that allows only the execution of &lt;code&gt;scp&lt;/code&gt;, &lt;code&gt;ssh&lt;/code&gt; or &lt;code&gt;cat&lt;/code&gt; commands.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The connection to the proxy or minion is authorized using ssh keys in the following way:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;The server connects to the minion and to the first proxy using the key in &lt;code&gt;`/srv/susemanager/salt/salt_ssh/mgr_ssh_id&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Each proxy has its own key pair in &lt;code&gt;`/home/mgrsshtunnel/.ssh/id_susemanager_ssh_push&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Each proxy authorizes the key of the parent proxy or server.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The minion authorized its own key.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-push-ssh-keys.png" alt="salt ssh push ssh keys"&gt;
&lt;/div&gt;
&lt;div class="title"&gt;Figure 3. Salt SSH Key Authorization Process&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;strong&gt;Additional Information:&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/proxy/proxy/mgr-proxy-ssh-force-cmd"&gt;mgr-proxy-ssh-force-cmd&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_repository_access_via_proxy"&gt;&lt;a class="anchor" href="#_repository_access_via_proxy"&gt;&lt;/a&gt;&lt;a class="link" href="#_repository_access_via_proxy"&gt;Repository access via proxy&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For both ssh-push and ssh-push-tunnel the minion connects to the proxy to retrieve packages and repo data.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The difference is how the connection works:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;In case of ssh-push, zypper or yum connect directly to the proxy using http(s). This assumes there&#8217;s not firewall between the minion and the proxy that would block http connections initiated by the minion.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-push-repo-access.png" alt="salt ssh push repo access"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;In case of ssh-push-tunnel, the http connection to the proxy is redirected through a reverse ssh tunnel.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/salt-ssh-push-tunnel-repo-access.png" alt="salt ssh push tunnel repo access"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_proxy_setup"&gt;&lt;a class="anchor" href="#_proxy_setup"&gt;&lt;/a&gt;&lt;a class="link" href="#_proxy_setup"&gt;Proxy setup&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When the &lt;code&gt;spacewalk-proxy&lt;/code&gt; package is installed on the proxy the user &lt;code&gt;mgrsshtunnel&lt;/code&gt; is created if it doesn&#8217;t already exist.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;During the initial configuration with &lt;code&gt;configure-proxy.sh&lt;/code&gt; the following happens:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Generate a ssh key pair or import an existing one&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Retrieve the ssh key of the parent server/proxy in order to authorize it on the proxy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configure the &lt;code&gt;sshd&lt;/code&gt; of the proxy to restrict the user &lt;code&gt;mgrsshtunnel&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This configuration is done by the &lt;code&gt;mgr-proxy-ssh-push-init&lt;/code&gt; script. This is called from &lt;code&gt;configure-proxy.sh&lt;/code&gt; and the user doesn&#8217;t have to invoke it manually.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Retrieving the parent key is done by calling an HTTP endpoint on the parent server or proxy.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;First &lt;code&gt;https//$PARENT/pub/id_susemanager_ssh_push.pub&lt;/code&gt; is tried. If the parent is proxy this will return the public ssh key of that proxy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If a &lt;code&gt;404&lt;/code&gt; is received then it&#8217;s assumed the parent is a server not a proxy and &lt;code&gt;&lt;a href="https://$PARENT/rhn/manager/download/saltssh/pubkey" class="bare"&gt;<a href="https://$PARENT/rhn/manager/download/saltssh/pubkey&lt;/a&gt;&lt;/code&gt" class="bare">https://$PARENT/rhn/manager/download/saltssh/pubkey&lt;/a&gt;&lt;/code&gt</a>; is tried.&lt;/p&gt;
&lt;div class="olist loweralpha"&gt;
&lt;ol class="loweralpha" type="a"&gt;
&lt;li&gt;
&lt;p&gt;If &lt;code&gt;/srv/suseemanager/salt/salt_ssh/mgr_ssh_id.pub&lt;/code&gt; already exists on the server it&#8217;s returned&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the public key doesn&#8217;t exist (because &lt;code&gt;salt-ssh&lt;/code&gt; has not been invoked yet) generate the key by calling the &lt;code&gt;mgrutil.ssh_keygen&lt;/code&gt; runner&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
salt-ssh generates a key pair the first time it is invoked in
&lt;code&gt;/srv/suseemanager/salt/salt_ssh/mgr_ssh_id&lt;/code&gt;. The previous sequence is needed in case a proxy is configured before salt-ssh was invoked for the first time.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;strong&gt;Additional Information:&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/java/code/src/com/suse/manager/webui/controllers/SaltSSHController.java"&gt;com.suse.manager.webui.controllers.SaltSSHController&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/susemanager-utils/susemanager-sls/modules/runners/mgrutil.py"&gt;mgrutil.ssh_keygen&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/proxy/proxy/mgr-proxy-ssh-push-init"&gt;mgr-proxy-ssh-push-init&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/SUSE/spacewalk/blob/Manager/proxy/proxy/spacewalk-proxy.spec"&gt;spacewalk-proxy.spec&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>at.introduction.to.icinga"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.installation.and.basic.configuration.icinga"&gt;Installation and Basic Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.icinga.nrpe.quickstart"&gt;Icinga and NRPE Quickstart&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#at.add.a.host.to.icinga"&gt;Add a Host to Icinga&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.adding.services.to.icinga"&gt;Adding Services to Icinga&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.creating.icinga.hostgroups"&gt;Creating Icinga Hostgroups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.creating.icinga.servicegroups"&gt;Creating Icinga Servicegroups&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.monitoring.systemd.services"&gt;Monitoring Systemd Services&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.using.the.check.suma.patches.plugin"&gt;Using the check_suma_patches Plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.using.the.check.suma.lastevent.plugin"&gt;Using the check_suma_lastevent Plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.icinga.additional.resources."&gt;Additional Resources&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.introduction.to.icinga"&gt;&lt;a class="anchor" href="#at.introduction.to.icinga"&gt;&lt;/a&gt;&lt;a class="link" href="#at.introduction.to.icinga"&gt;Introduction&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This chapter provides guidance on the setup of an Icinga server using SLES 12 SP3.
For more information, see the Official Icinga documentation: &lt;a href="http://docs.icinga.org/latest/en/" class="bare"&gt;<a href="http://docs.icinga.org/latest/en/&lt;/a&gt;.&lt;/p&gt" class="bare">http://docs.icinga.org/latest/en/&lt;/a&gt;.&lt;/p&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.installation.and.basic.configuration.icinga"&gt;&lt;a class="anchor" href="#at.installation.and.basic.configuration.icinga"&gt;&lt;/a&gt;&lt;a class="link" href="#at.installation.and.basic.configuration.icinga"&gt;Installation and Basic Configuration&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Icinga packages are found in the &lt;code&gt;SLE-Manager-Tools12-Updates x86_64&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock tip"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-tip" title=":bulb:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Icinga Installation Location&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Do not install Icinga on the  server.
Install Icinga on a stand-alone SUSE Linux Enterprise client.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Installation and Basic Configuration&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Register the new client with  and subscribe it to the  client and update channels.
SLES 12 and later include these channels by default.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install the required Icinga packages on the new client:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;zypper in icinga icinga-idoutils-pgsql postgresql postgresql94-server \
monitoring-plugins-all apache2&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit the &lt;code&gt;/etc/icinga/objects/contacts.cfg&lt;/code&gt; file and add the email address which you will use for reciving alerts.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define contact {
  contact_name      icingaadmin          ; Short name of user
  use               generic-contact      ; Inherit default values
  alias             Icinga Admin         ; Full name of user
  email             icinga@localhost     ; &lt;&lt;<strong>* CHANGE THIS TO YOUR EMAIL ADDRESS </strong>*
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enable postgres on boot and start the database:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl enable postgresql.service
systemctl start postgresql.service&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create the database and user for Icinga:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&gt;psql
 postgres=</mark> ALTER USER postgres WITH PASSWORD '&lt;newpassword&gt;';
 postgres=# CREATE USER icinga;
 postgres=# ALTER USER icinga WITH PASSWORD 'icinga';
 postgres=# CREATE DATABASE icinga;
 postgres=# GRANT ALL ON DATABASE icinga TO icinga;
 postgres=# \q
 exit&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Adjust client authentication rights located in &lt;code&gt;/var/lib/pgsql/data/pg_hba.conf&lt;/code&gt; to match the following:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;# TYPE  DATABASE        USER            ADDRESS                 METHOD
local   icinga         icinga                                  trust
local   all            postgres                                ident</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_local_is_for_unix_domain_socket_connections_only"><a class="anchor" href="#_local_is_for_unix_domain_socket_connections_only"></a><a class="link" href="#_local_is_for_unix_domain_socket_connections_only">2. "local" is for Unix domain socket connections only</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>local   all             all                                     trust
# IPv4 local connections:
host    all             all             127.0.0.1/32            trust
# IPv6 local connections:
host    all             all             ::1/128                 trust
# Allow replication connections from localhost, by a user with the
# replication privilege.
#local   replication     postgres                                peer
#host    replication     postgres        127.0.0.1/32            ident
#host    replication     postgres        ::1/128                 ident&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Placement of Authentication Settings&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Ensure the local entries for icinga authentication settings are placed above all other local entries or you will get an error when configuring the database schema.
The entries in &lt;code class="path"&gt;pg_hba.conf&lt;/code&gt; are read from top to bottom.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reload the Postgres service:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl reload postgresql.service&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configure the database schema by running the following command in &lt;code class="path"&gt;/usr/share/doc/packages/icinga-idoutils-pgsql/pgsql/&lt;/code&gt;:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;psql -U icinga -d icinga &lt; pgsql.sql&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit the following lines in &lt;code&gt;/etc/icinga/ido2db.cfg&lt;/code&gt; to switch from the default setting of mysql to postgres:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;vi /etc/icinga/ido2db.cfg</p>
</div>
<div class="literalblock">
<div class="content">
<pre> db_servertype=pgsql
 db_port=5432&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Open Firewall Port&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Allow port &lt;code&gt;5432&lt;/code&gt; through your firewall or you will not be able to access the WebGUI.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create an icinga admin account for logging into the web interface:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;htpasswd -c /etc/icinga/htpasswd.users icingaadmin&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enable and start all required services:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl enable icinga.service
systemctl start icinga.service
systemctl enable ido2db.service
systemctl start ido2db.service
systemctl enable apache2.service
systemctl start apache2.service&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Login to the WebGUI at: &lt;a href="http://localhost/icinga" class="bare"&gt;http://localhost/icinga&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This concludes setup and initial configuration of Icinga.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.icinga.nrpe.quickstart"&gt;&lt;a class="anchor" href="#at.icinga.nrpe.quickstart"&gt;&lt;/a&gt;&lt;a class="link" href="#at.icinga.nrpe.quickstart"&gt;Icinga and NRPE Quickstart&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following sections provides an overview on monitoring your  server using Icinga.
You will add  as a host to Icinga and use a Nagios script/plugin to monitor running services via &lt;code&gt;NRPE&lt;/code&gt; (Nagios Remote Plugin Executor).
This section does not attempt to cover all monitoring solutions Icinga has to offer but should help you get started.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Adding to Icinga for Monitoring&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;On your  server install the required packages:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;zypper install nagios-nrpe susemanager-nagios-plugin insserv nrpe monitoring-plugins-nrpe&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modify the NRPE configuration file located at:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;/etc/nrpe.cfg&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Edit or add the following lines:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;server_port=5666
nrpe_user=nagios
nrpe_group=nagios
allowed_hosts=Icinga.example.com
dont_blame_nrpe=1
command[check_systemd.sh]=/usr/lib/nagios/plugins/check_systemd.sh $ARG1$&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Variable definitions:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;server_port&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The variable &lt;code&gt;server_port&lt;/code&gt; defines the port nrpe will listen on.
The default port is 5666.
This port must be opened in your firewall.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;nrpe_user&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The variables &lt;code&gt;nrpe_user&lt;/code&gt; and &lt;code&gt;nrpe_group&lt;/code&gt; control the user and group IDs that nrpe will run under.
probes need access to the database, therefore nrpe requires access to database credentials stored in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt;.
There are multiple ways to achieve this.
You may add the user &lt;code&gt;nagios&lt;/code&gt; to the group &lt;code&gt;www&lt;/code&gt; (this is already done for other IDs such as tomcat); alternatively you can simply have nrpe run with the effective group ID &lt;code&gt;www&lt;/code&gt; in &lt;code class="path"&gt;/etc/rhn/rhn.conf&lt;/code&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;allowed_hosts&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The variable &lt;code&gt;allowed_hosts&lt;/code&gt; defines which hosts nrpe will accept connections from.
Enter the FQDN or IP address of your Icinga server here.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;dont_blame_nrpe&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The use of variable &lt;code&gt;dont_blame_nrpe&lt;/code&gt; is unavoidable in this example.
&lt;code&gt;nrpe&lt;/code&gt; commands by default will not allow arguments being passed due to security reasons.
However, in this example you should pass the name of the host you want information on to nrpe as an argument.
This action is only possible when setting the variable to 1.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;command[check_systemd.sh]&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;You need to define the command(s) that nrpe can run on .
To add a new nrpe command specify a command call by adding &lt;code&gt;command&lt;/code&gt; followed by square brackets containing the actual nagios/icinga plugin name.
Next define the location of the script to be called on your  server.
Finally the variable &lt;code&gt;$ARG1$&lt;/code&gt; will be replaced by the actual host the Icinga server would like information about.
In the example above, the command is named &lt;code&gt;check_systemd.sh&lt;/code&gt;.
You can specify any name you like but keep in mind the command name is the actual script stored in &lt;code class="path"&gt;/usr/lib/nagios/plugins/&lt;/code&gt; on your  server.
This name must also match your probe definition on the Icinga server.
&lt;em&gt;This will be described in greater detail later in the chapter. The check_systemd.sh script/plugin will also be provided in a later section.&lt;/em&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;One your configuration is complete load the new nrpe configuration as root with:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl start nrpe&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This concludes setup of nrpe.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.add.a.host.to.icinga"&gt;&lt;a class="anchor" href="#at.add.a.host.to.icinga"&gt;&lt;/a&gt;&lt;a class="link" href="#at.add.a.host.to.icinga"&gt;Add a Host to Icinga&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To add a new host to Icinga create a host.cfg file for each host in &lt;code class="path"&gt;/etc/icinga/conf.d/&lt;/code&gt;.
For example &lt;code class="path"&gt;susemanager.cfg&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define host {
  host_name           susemanager
  alias               SUSE Manager
  address             192.168.1.1
  check_period        24x7
  check_interval      1
  retry_interval      1
  max_check_attempts  10
  check_command       check-host-alive
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Place the host IP address you want to add to Icinga on the &lt;code&gt;Address&lt;/code&gt; line.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After adding a new host restart Icinga as root to load the new configuation:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl restart icinga&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.adding.services.to.icinga"&gt;&lt;a class="anchor" href="#at.adding.services.to.icinga"&gt;&lt;/a&gt;&lt;a class="link" href="#at.adding.services.to.icinga"&gt;Adding Services to Icinga&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To add services for monitoring on a specific host define them by adding a service definition to your host.cfg file located in &lt;code class="path"&gt;/etc/icinga/conf.d&lt;/code&gt;.
For example you can monitor if a systems SSH service is running with the following service definition.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define service {
  host_name           susemanager
  use                 generic-service
  service_description SSH
  check_command       check_ssh
  check_interval      60
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After adding any new services restart Icinga as root to load the new configuration:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl restart icinga&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.creating.icinga.hostgroups"&gt;&lt;a class="anchor" href="#at.creating.icinga.hostgroups"&gt;&lt;/a&gt;&lt;a class="link" href="#at.creating.icinga.hostgroups"&gt;Creating Icinga Hostgroups&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can create hostgroups to simplify and visualize hosts logically.
Create a &lt;code class="path"&gt;hostgroups.cfg&lt;/code&gt; file located in &lt;code class="path"&gt;/etc/icinga/conf.d/&lt;/code&gt; and add the following lines:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define hostgroup {
  hostgroup_name  ssh_group
  alias           ssh group
  members         susemanager,mars,jupiter,pluto,examplehost4
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The &lt;code&gt;members&lt;/code&gt; variable should contain the &lt;code&gt;host_name&lt;/code&gt; from within each host.cfg file you created to represent your hosts.
Every time you add an additional host by creating a host.cfg ensure you add the host_name to the members list of included hosts if you want it to be included within a logical hostgroup.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After adding several hosts to a hostgroup restart Icinga as root to load the new configuration:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl restart icinga&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.creating.icinga.servicegroups"&gt;&lt;a class="anchor" href="#at.creating.icinga.servicegroups"&gt;&lt;/a&gt;&lt;a class="link" href="#at.creating.icinga.servicegroups"&gt;Creating Icinga Servicegroups&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can create logical groupings of services as well.
For example if you would like to create a group of essential  services which are running define them within a &lt;code class="path"&gt;servicegroups.cfg&lt;/code&gt; file placed in &lt;code class="path"&gt;/etc/icinga/conf.d/&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;#Servicegroup 1
define servicegroup {
  servicegroup_name     SUSE Manager Essential Services
  alias                 Essential Services
}</pre>
</div>
</div>
<div class="paragraph">
<p><mark>Servicegroup 2
define servicegroup {
  servicegroup_name     Client Patch Status
  alias                 SUSE Manager 3 Client Patch Status
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Within each host&#8217;s &lt;code class="path"&gt;host.cfg&lt;/code&gt; file add a service to a servicegroup with the following variable:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define service {
  use                 generic-service
  service_description SSH
  check_command       check_ssh
  check_interval      60
  servicegroups       SUSE Manager Essential Services
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;All services that include the &lt;code&gt;servicegroups&lt;/code&gt; variable and the name of the servicegroup will be added to the specified servicegroup.
After adding services to a servicegroup restart Icinga as root to load the new configuation:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl restart icinga&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.monitoring.systemd.services"&gt;&lt;a class="anchor" href="#at.monitoring.systemd.services"&gt;&lt;/a&gt;&lt;a class="link" href="#at.monitoring.systemd.services"&gt;Monitoring Systemd Services&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following section provides information on monitoring uptime of critical  services.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Monitoring Running Systemd Services&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;As root create a new plugin file called &lt;code class="path"&gt;check_systemd.sh&lt;/code&gt; in &lt;code class="path"&gt;/usr/lib/nagios/plugins/&lt;/code&gt; on your  server:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;vi /usr/lib/nagios/plugins/ check_systemd.sh&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For this example you will use an opensource community script to monitor Systemd services.
You may also wish to write your own.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark>!/bin/bash
# Copyright &#169; 2016 Mohamed El Morabity &lt;<a href="mailto:melmorabity@fedoraproject.com">melmorabity@fedoraproject.com</a>&gt;
#
# This module is free software: you can redistribute it and/or modify it under
# the terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later
# version.
#
# This software is distributed in the hope that it will be useful, but WITHOUT
# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
# FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <a href="http://www.gnu.org/licenses/" class="bare">http://www.gnu.org/licenses/</a>.</p>
</div>
<div class="paragraph">
<p>PLUGINDIR=$(dirname $0)
. $PLUGINDIR/utils.sh</p>
</div>
<div class="paragraph">
<p>if [ $# -ne 1 ]; then
    echo "Usage: ${0##*/} &lt;service name&gt;" &gt;&amp;2
    exit $STATE_UNKNOWN
fi</p>
</div>
<div class="paragraph">
<p>service=$1</p>
</div>
<div class="paragraph">
<p>status=$(systemctl is-enabled $service 2&gt;/dev/null)
r=$?
if [ -z "$status" ]; then
    echo "ERROR: service $service doesn&#8217;t exist"
    exit $STATE_CRITICAL
fi</p>
</div>
<div class="paragraph">
<p>if [ $r -ne 0 ]; then
    echo "ERROR: service $service is $status"
    exit $STATE_CRITICAL
fi</p>
</div>
<div class="paragraph">
<p>systemctl --quiet is-active $service
if [ $? -ne 0 ]; then
    echo "ERROR: service $service is not running"
    exit $STATE_CRITICAL
fi</p>
</div>
<div class="paragraph">
<p>echo "OK: service $service is running"
exit $STATE_OK&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A current version of this script can be found at: &lt;a href="https://github.com/melmorabity/nagios-plugin-systemd-service/blob/master/check_systemd_service.sh" class="bare"&gt;<a href="https://github.com/melmorabity/nagios-plugin-systemd-service/blob/master/check_systemd_service.sh&lt;/a&gt;&lt;/p&gt" class="bare">https://github.com/melmorabity/nagios-plugin-systemd-service/blob/master/check_systemd_service.sh&lt;/a&gt;&lt;/p&gt</a>;
&lt;/div&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Non-supported 3rd Party Plugin&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The script used in this example is an external script and is not supported by SUSE.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Always check to ensure scripts are not modified or contain malicous code before using them on production machines.&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make the script executable:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;chmod 755 check_systemd.sh&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On your SUSE manager server add the following line to the &lt;code class="path"&gt;nrpe.cfg&lt;/code&gt; located at &lt;code class="path"&gt;/etc/nrpe.cfg&lt;/code&gt; :&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;# SUSE Manager Service Checks
command[check_systemd.sh]=/usr/lib/nagios/plugins/check_systemd.sh $ARG1$&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This will allow the Icinga server to call the plugin via nrpe on .&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Provide proper permissions by adding the script to the sudoers file:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;visudo&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;nagios  ALL=(ALL)       NOPASSWD:/usr/lib/nagios/plugins/check_systemd.sh
Defaults:nagios !requiretty&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can also add permissions to the entire plugin directory instead of allowing permissions for individual scripts:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;nagios  ALL=(ALL)       NOPASSWD:/usr/lib/nagios/plugins/&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On your Icinga server define the following command within &lt;code class="path"&gt;/etc/icinga/objects/commands.cfg&lt;/code&gt; :&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define command {
        command_name   check-systemd-service
        command_line   /usr/lib/nagios/plugins/check_nrpe -H $HOSTADDRESS$ -c check_systemd.sh -a $ARG1$
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now you will add the following critical services to be montitored to your  host file:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;auditlog-keeper.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;jabberd.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;spacewalk-wait-for-jabberd.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tomcat.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;spacewalk-wait-for-tomcat.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;salt-master.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;salt-api.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;spacewalk-wait-for-salt.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;apache2.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;osa-dispatcher.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rhn-search.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cobblerd.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;taskomatic.service&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;spacewalk-wait-for-taskomatic.service&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;On your Icinga server add the following service blocks to your  host file &lt;code class="path"&gt;susemanager.cfg&lt;/code&gt; file located in &lt;code class="path"&gt;/etc/icinga/conf.d/&lt;/code&gt;.
(This configuration file was created in the previous section &lt;em&gt;Adding a Host to Icinga&lt;/em&gt;.)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;# Monitor Audit Log Keeper
define service {
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Audit Log Keeper Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!auditlog-keeper.service</p>
</div>
<div class="paragraph">
<p>}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_jabberd"><a class="anchor" href="#_monitor_jabberd"></a><a class="link" href="#_monitor_jabberd">3. Monitor Jabberd</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service {
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Jabberd Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!jabberd.service</p>
</div>
<div class="paragraph">
<p>}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_spacewalk_wait_for_jabberd"><a class="anchor" href="#_monitor_spacewalk_wait_for_jabberd"></a><a class="link" href="#_monitor_spacewalk_wait_for_jabberd">4. Monitor Spacewalk Wait for Jabberd</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Spacewalk Wait For Jabberd Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!spacewalk-wait-for-jabberd.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_tomcat"><a class="anchor" href="#_monitor_tomcat"></a><a class="link" href="#_monitor_tomcat">5. Monitor Tomcat</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Tomcat Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!tomcat.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_spacewalk_wait_for_tomcat"><a class="anchor" href="#_monitor_spacewalk_wait_for_tomcat"></a><a class="link" href="#_monitor_spacewalk_wait_for_tomcat">6. Monitor Spacewalk Wait for Tomcat</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Spacewalk Wait For Tomcat Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!spacewalk-wait-for-tomcat.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_salt_master"><a class="anchor" href="#_monitor_salt_master"></a><a class="link" href="#_monitor_salt_master">7. Monitor Salt Master</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Salt Master Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!salt-master.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_salt_api"><a class="anchor" href="#_monitor_salt_api"></a><a class="link" href="#_monitor_salt_api">8. Monitor Salt API</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Salt API Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!salt-api.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_spacewalk_wait_for_salt"><a class="anchor" href="#_monitor_spacewalk_wait_for_salt"></a><a class="link" href="#_monitor_spacewalk_wait_for_salt">9. Monitor Spacewalk Wait for Salt</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Spacewalk Wait For Salt Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!spacewalk-wait-for-salt.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_apache2"><a class="anchor" href="#_monitor_apache2"></a><a class="link" href="#_monitor_apache2">10. Monitor apache2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Apache2 Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!apache2.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_osa_dispatcher"><a class="anchor" href="#_monitor_osa_dispatcher"></a><a class="link" href="#_monitor_osa_dispatcher">11. Monitor osa dispatcher</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Osa Dispatcher Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!osa-dispatcher.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_rhn_search"><a class="anchor" href="#_monitor_rhn_search"></a><a class="link" href="#_monitor_rhn_search">12. Monitor rhn search</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    RHN Search Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!rhn-search.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_cobblerd"><a class="anchor" href="#_monitor_cobblerd"></a><a class="link" href="#_monitor_cobblerd">13. Monitor Cobblerd</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Cobblerd Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!cobblerd.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_taskomatic"><a class="anchor" href="#_monitor_taskomatic"></a><a class="link" href="#_monitor_taskomatic">14. Monitor taskomatic</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Taskomatic Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!taskomatic.service
}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_wait_for_taskomatic"><a class="anchor" href="#_monitor_wait_for_taskomatic"></a><a class="link" href="#_monitor_wait_for_taskomatic">15. Monitor wait for taskomatic</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>define service{
       use                    generic-service
       host_name              susemanager
       check_interval         1
       active_checks_enabled  1
       service_description    Spacewalk Wait For Taskomatic Service
       servicegroups          SUSE Manager Essential Services
       check_command          check-systemd-service!spacewalk-wait-for-taskomatic.service
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Each of these service blocks will be passed as the check-systemd-service!$ARG1$ variable to SUSE manager server via nrpe.
You probably noticed the servicegroups parameter was also included.
This adds each service to a servicegroup and has been defined in a &lt;code class="path"&gt;servicesgroups.cfg&lt;/code&gt; file located in &lt;code class="path"&gt;/etc/icinga/conf.d/&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define servicegroup {
       servicegroup_name     SUSE Manager Essential Services
       alias                 Essential Services
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Restart Icinga:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl restart icinga&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.using.the.check.suma.patches.plugin"&gt;&lt;a class="anchor" href="<mark>at.using.the.check.suma.patches.plugin"&gt;&lt;/a&gt;&lt;a class="link" href="#at.using.the.check.suma.patches.plugin"&gt;Using the check_suma_patches Plugin&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can use the &lt;code class="path"&gt;check_suma_patches&lt;/code&gt; plugin to check if any machines connected to  as clients require a patch or an update.
The following procedure will guide you through the setup of the check_suma_patches plugin.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Setup check_suma_patches&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;On your  server open &lt;code class="path"&gt;/etc/nrpe.cfg&lt;/code&gt; and add the following lines:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> SUSE Manager check_patches
command[check_suma_patches]=sudo /usr/lib/nagios/plugins/check_suma_patches $ARG1$&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On your Icinga server open &lt;code class="path"&gt;/etc/icinga/objects/commands.cfg&lt;/code&gt; and define the following command:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define command{
        command_name    check_suma
        command_line    /usr/lib/nagios/plugins/check_nrpe -H 192.168.1.1 -c $ARG1$ -a $HOSTNAME$
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On your Icinga server open any of your  client host configration files located at &lt;code class="path"&gt;/etc/icinga/conf.d/clients.cfg&lt;/code&gt; and add the following service definition:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define service {
        use                             generic-service
        host_name                       client-hostname
        service_description             Available Patches for client-host_name
        servicegroups                   Client Patch Status
        check_command                   check_suma!check_suma_patches
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the above service definition notice that this host is included in the servicegroup labeled &lt;em&gt;Client Patch Status&lt;/em&gt;.
Add the following servicegroup definition to &lt;code class="path"&gt;/etc/icinga/conf.d/servicegroups.cfg&lt;/code&gt; to create a servicegroup:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define servicegroup {
       servicegroup_name     Client Patch Status
       alias                 SUSE Manager 3 Client Patch Status
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;OK:System is up to date&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Warning: At least one patch or package update is available&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Critical:At least one security/critical update is available&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Unspecified:The host cannot be found in the SUSE Manager database or the host name is not unique&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This concludes setup of the &lt;code&gt;check_suma_patches&lt;/code&gt; plugin.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.using.the.check.suma.lastevent.plugin"&gt;&lt;a class="anchor" href="<mark>at.using.the.check.suma.lastevent.plugin"&gt;&lt;/a&gt;&lt;a class="link" href="#at.using.the.check.suma.lastevent.plugin"&gt;Using the check_suma_lastevent Plugin&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can use the &lt;code class="path"&gt;check_suma_lastevent&lt;/code&gt; plugin to display the last action executed on any host.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following procedure will guide you through the setup of the check_suma_patches plugin.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Setup check_suma_lastevent&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;On your  server open &lt;code class="path"&gt;/etc/nrpe.cfg&lt;/code&gt; and add the following lines:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> Check SUSE Manager Hosts last events
command[check_events]=sudo /usr/lib/nagios/plugins/check_suma_lastevent $ARG1$&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On the Icinga server open &lt;code class="path"&gt;/etc/icinga/objects/commands.cfg&lt;/code&gt; and add the following lines:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define command {
        command_name    check_events
        command_line    /usr/lib/nagios/plugins/check_nrpe -H manager.suse.de -c $ARG1$ -a $HOSTNAME$
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On your Icinga server add the following line to a host.cfg service definition:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;define service{
        use                             generic-service
        host_name                       hostname
        service_description             Last Events
        check_command                   check_events!check_suma_lastevent
}&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Status will be reported as follows:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;OK:Last action completed successfully&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Warning: Action is currently in progress&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Critical:Last action failed&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Unspecified:The host cannot be found in the  database or the host name is not unique&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This concludes setup of the &lt;code&gt;check_suma_lastevent&lt;/code&gt; plugin.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.icinga.additional.resources."&gt;&lt;a class="anchor" href="#at.icinga.additional.resources."&gt;&lt;/a&gt;&lt;a class="link" href="#at.icinga.additional.resources."&gt;Additional Resources&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information, see Icinga&#8217;s official documentation located at &lt;a href="http://docs.icinga.org/latest/en" class="bare"&gt;<a href="http://docs.icinga.org/latest/en&lt;/a&gt;.&lt;/p&gt" class="bare">http://docs.icinga.org/latest/en&lt;/a&gt;.&lt;/p&gt</a>;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For some excellent time saving configuration tips and tricks not covered in this guide, see the following section located within the official documentation: &lt;a href="http://docs.icinga.org/latest/en/objecttricks.html" class="bare"&gt;<a href="http://docs.icinga.org/latest/en/objecttricks.html&lt;/a&gt;&lt;/p&gt" class="bare">http://docs.icinga.org/latest/en/objecttricks.html&lt;/a&gt;&lt;/p&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="#at.images.overview"&gt;Image Building Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker"&gt;Container Images&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#at.images.docker.requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker.buildhost"&gt;Creating a Build Host&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker.imagestore"&gt;Creating an Image Store&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker.profile"&gt;Creating an Image Profile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker.sourceexample"&gt;Example Dockerfile and add_packages Script&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker.building"&gt;Building an Image&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker.importing"&gt;Importing an Image&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.docker.troubleshooting"&gt;Troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi"&gt;OS Images&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.enablement"&gt;Enabling OS Image Building&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.buildhost"&gt;Creating a Build Host&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.imagestore"&gt;Image Store&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.profile"&gt;Creating an Image Profile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.sourceexample"&gt;Example of Kiwi sources&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.building"&gt;Building an Image&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.inspection"&gt;Image Inspection and Salt Integration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.troubleshooting"&gt;Troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.kiwi.limitations"&gt;Limitations&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.images.listing"&gt;Listing Image Profiles Available for Building&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.images.overview"&gt;&lt;a class="anchor" href="#at.images.overview"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.overview"&gt;Image Building Overview&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; enables system administrators to build containers, systems, and virtual images.
 helps with creating Image Stores and managing Image Profiles.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; supports two distinct build types:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Dockerfile{mdash}for more information, see &lt;a href="#at.images.docker"&gt;Container Images&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kiwi image system{mdash}for more information, see &lt;a href="#at.images.kiwi"&gt;OS Images&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.images.docker"&gt;&lt;a class="anchor" href="#at.images.docker"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker"&gt;Container Images&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/image-building.png" alt="image building"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.requirements"&gt;&lt;a class="anchor" href="#at.images.docker.requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.requirements"&gt;Requirements&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The containers feature is available for Salt minions running SUSE Linux Enterprise Server 12 or later.
Before you begin, ensure your environment meets these requirements:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;An existing external GitHub or internal GitLab repository containing a Dockerfile and configuration scripts (example scripts are provided in this chapter).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A properly configured image registry.&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Registry Provider Solutions&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you require a private image registry you can use an open source solution such as &lt;code&gt;Portus&lt;/code&gt;.
For additional information on setting up Portus as a registry provider, see the &lt;a href="http://port.us.org/"&gt;Portus Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information on Containers or CaaS Platform, see:&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.suse.com/documentation/sles-12/book_sles_docker/data/book_sles_docker.html"&gt;SUSE Linux Enterprise Server 12 SP3 Docker Guide&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.suse.com/documentation/suse-caasp-2/"&gt;SUSE CaaS Platform 2 Documentation&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.buildhost"&gt;&lt;a class="anchor" href="#at.images.docker.buildhost"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.buildhost"&gt;Creating a Build Host&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To build images with , you will need to create and configure a build host.
Build hosts are Salt minions running SUSE Linux Enterprise 12 or later.
This section guides you though the initial configuration for a build host.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;From the  WebUI perform these steps to configure a build host.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select a minion to be designated as a build host from the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Overview&lt;/b&gt;&lt;/span&gt; page.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;code class="guimenu"&gt;System Details&lt;/code&gt; page for the selected minion assign the containers modules by going to &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Software&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Software Channels&lt;/b&gt;&lt;/span&gt; and enabling &lt;code class="guimenu"&gt;SLE-Module-Containers12-Pool&lt;/code&gt; and &lt;code class="guimenu"&gt;SLE-Module-Containers12-Updates&lt;/code&gt;. Confirm by clicking &lt;b class="button"&gt;Change Subscriptions&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;System Details&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Properties&lt;/b&gt;&lt;/span&gt; page, enable &lt;code class="guimenu"&gt;Add-on System Type&lt;/code&gt; and &lt;code&gt;Container Build Host&lt;/code&gt; and confirm by clicking &lt;b class="button"&gt;Update Properties&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install all required packages by applying &lt;code&gt;Highstate&lt;/code&gt;. From the system details page select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;States&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Highstate&lt;/b&gt;&lt;/span&gt; and click &lt;code class="guimenu"&gt;Apply Highstate&lt;/code&gt;.
Alternatively, apply Highstate from the  Server command line:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;salt '$your_minion' state.highstate&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="at.images.docker.buildchannels"&gt;&lt;a class="anchor" href="#at.images.docker.buildchannels"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.buildchannels"&gt;Define Container Build Channels with an Activation Key&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Create an activation key associated with the channel that your images will use.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Relationship Between Activation Keys and Image Profiles&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To build containers, you will need an activation key that is associated with a channel other than "SUSE Manager Default".&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/systems_create_activation_key.png" alt="systems create activation key"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Activation Keys&lt;/b&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;b class="button"&gt;Create Key&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enter a &lt;code class="guimenu"&gt;Description&lt;/code&gt; and a &lt;code class="guimenu"&gt;Key&lt;/code&gt; name. Use the drop-down menu to select the &lt;code class="guimenu"&gt;Base Channel&lt;/code&gt; to associate with this key.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Confirm with &lt;b class="button"&gt;Create Activation Key&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information, see &lt;a href="#bp.key.managment"&gt;[bp.key.managment]&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.imagestore"&gt;&lt;a class="anchor" href="#at.images.docker.imagestore"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.imagestore"&gt;Creating an Image Store&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Define a location to store all of your images by creating an Image Store.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_stores.png" alt="images image stores"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Stores&lt;/b&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;code class="guimenu"&gt;Create&lt;/code&gt; to create a new store.&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_stores_create.png" alt="images image stores create"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt; currently provides support only for the &lt;code&gt;Registry&lt;/code&gt; store type. Define a name for the image store in the &lt;code class="guimenu"&gt;Label&lt;/code&gt; field.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Provide the path to your image registry by filling in the &lt;code class="guimenu"&gt;URI&lt;/code&gt; field, as a fully qualified domain name (FQDN) for the container registry host (whether internal or external).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;registry.example.com&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The Registry URI can also be used to specify an image store on a used registry.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;registry.example.com:5000/myregistry/myproject&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;b class="button"&gt;Create&lt;/b&gt; to add the new image store.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.profile"&gt;&lt;a class="anchor" href="#at.images.docker.profile"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.profile"&gt;Creating an Image Profile&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Manage Image Profiles from the &lt;code&gt;Image Profile&lt;/code&gt; page.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_profiles.png" alt="images image profiles"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Create an Image Profile&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;To create an image profile select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Image&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Profiles&lt;/b&gt;&lt;/span&gt; and click &lt;b class="button"&gt;Create&lt;/b&gt;.&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_create_profile.png" alt="images image create profile"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Provide a name for the image profile by filling in the &lt;b class="menuref"&gt;Label&lt;/b&gt; field.&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Only lowercase characters are permitted in container labels.
If your container image tag is in a format such as &lt;code&gt;myproject/myimage&lt;/code&gt;, make sure your image store registry URI contains the &lt;code&gt;/myproject&lt;/code&gt; suffix.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use a &lt;code&gt;Dockerfile&lt;/code&gt; as the &lt;code&gt;Image Type&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use the drop-down menu to select your registry from the &lt;code&gt;Target Image Store&lt;/code&gt; field.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enter a Github or Gitlab repository URL (http, https, or token authentication) in the &lt;code class="guimenu"&gt;Path&lt;/code&gt; field using one of the following formats:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;Github Path Options&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Github single user project repository&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://github.com/USER/project.git#branchname:folder&lt;/pre&gt" class="bare">https://github.com/USER/project.git#branchname:folder&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Github organization project repository&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://github.com/ORG/project.git#branchname:folder&lt;/pre&gt" class="bare">https://github.com/ORG/project.git#branchname:folder&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Github token authentication:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If your git repository is private and not publicly accessible, you need to modify the profile&#8217;s git URL to include authentication.
Use this URL format to authenticate with a Github token:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://USER:&lt;AUTHENTICATION_TOKEN&gt;@github.com/USER/project.git#master:/container/&lt;/pre&gt" class="bare">https://USER:&lt;AUTHENTICATION_TOKEN&gt;@github.com/USER/project.git#master:/container/&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;Gitlab Path Options&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Gitlab single user project repository&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://gitlab.example.com/USER/project.git#master:/container/&lt;/pre&gt" class="bare">https://gitlab.example.com/USER/project.git#master:/container/&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Gitlab groups project repository&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://gitlab.example.com/GROUP/project.git#master:/container/&lt;/pre&gt" class="bare">https://gitlab.example.com/GROUP/project.git#master:/container/&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Gitlab token authentication
If your git repository is private and not publicly accessible, you need to modify the profile&#8217;s git URL to include authentication.
Use this URL format to authenticate with a Gitlab token:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://gitlab-ci-token:&lt;AUTHENTICATION_TOKEN&gt;@gitlab.example.com/USER/project.git#master:/container/&lt;/pre&gt" class="bare">https://gitlab-ci-token:&lt;AUTHENTICATION_TOKEN&gt;@gitlab.example.com/USER/project.git#master:/container/&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Specifying a Github or Gitlab Branch&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If a branch is not specified, the &lt;code&gt;master&lt;/code&gt; branch will be used by default.
If a &lt;code&gt;folder&lt;/code&gt; is not specified the image sources (&lt;code&gt;Dockerfile&lt;/code&gt; sources) are expected to be in the root directory of the Github or Gitlab checkout.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select an &lt;code&gt;Activation Key&lt;/code&gt;.  Activation Keys ensure that images using a profile are assigned to the correct channel and packages.&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Relationship Between Activation Keys and Image Profiles&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When you associate an activation key with an image profile you are ensuring any image using the profile will use the correct software channel and any packages in the channel.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click the &lt;b class="button"&gt;Create&lt;/b&gt; button.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.sourceexample"&gt;&lt;a class="anchor" href="#at.images.docker.sourceexample"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.sourceexample"&gt;Example Dockerfile and add_packages Script&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This section contains an example Dockerfile.
You specify a Dockerfile that will be used during image building when creating an image profile.
A Dockerfile and any associated scripts should be stored within an internal or external Github or Gitlab repository:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Required Dockerfile Lines&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The Dockerfile provides access to a specific repository version served by .
This example Dockerfile is used by  to trigger a build job on a build host minion.
The &lt;code class="command"&gt;ARG&lt;/code&gt; parameters ensure that the image that is built is associated with the desired repository version served by .
The &lt;code class="command"&gt;ARG&lt;/code&gt; parameters also allow you to build image versions of SUSE Linux Enterprise Server which may differ from the version of SUSE Linux Enterprise Server used by the build host itself.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For example: The &lt;code class="comand"&gt;ARG repo&lt;/code&gt; parameter and the &lt;code class="command"&gt;echo&lt;/code&gt; command pointing to the repository file, creates and then injects the correct path into the repository file for the desired channel version.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;em&gt;The repository version is determined by the activation key that you assigned to your image profile.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;FROM registry.example.com/sles12sp2
MAINTAINER Tux Administrator "<a href="mailto:tux@example.com">tux@example.com</a>"</p>
</div>
<div class="sect3">
<h4 id="_begin_these_lines_required_for_use_with"><a class="anchor" href="#_begin_these_lines_required_for_use_with"></a><a class="link" href="#_begin_these_lines_required_for_use_with">15.1. Begin: These lines Required for use with </a></h4>
<div class="paragraph">
<p>ARG repo
ARG cert</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_the_correct_certificate"><a class="anchor" href="#_add_the_correct_certificate"></a><a class="link" href="#_add_the_correct_certificate">16. Add the correct certificate</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RUN echo "$cert" &gt; /etc/pki/trust/anchors/RHN-ORG-TRUSTED-SSL-CERT.pem</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_certificate_trust_store"><a class="anchor" href="#_update_certificate_trust_store"></a><a class="link" href="#_update_certificate_trust_store">17. Update certificate trust store</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RUN update-ca-certificates</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_the_repository_path_to_the_image"><a class="anchor" href="#_add_the_repository_path_to_the_image"></a><a class="link" href="#_add_the_repository_path_to_the_image">18. Add the repository path to the image</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RUN echo "$repo" &gt; /etc/zypp/repos.d/susemanager:dockerbuild.repo</p>
</div>
<div class="sect3">
<h4 id="_end_these_lines_required_for_use_with"><a class="anchor" href="#_end_these_lines_required_for_use_with"></a><a class="link" href="#_end_these_lines_required_for_use_with">18.1. End: These lines required for use with </a></h4>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_the_package_script"><a class="anchor" href="#_add_the_package_script"></a><a class="link" href="#_add_the_package_script">19. Add the package script</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>ADD add_packages.sh /root/add_packages.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_the_package_script"><a class="anchor" href="#_run_the_package_script"></a><a class="link" href="#_run_the_package_script">20. Run the package script</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RUN /root/add_packages.sh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_after_building_remove_the_repository_path_from_image"><a class="anchor" href="#_after_building_remove_the_repository_path_from_image"></a><a class="link" href="#_after_building_remove_the_repository_path_from_image">21. After building remove the repository path from image</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RUN rm -f /etc/zypp/repos.d/susemanager:dockerbuild.repo&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This is an example &lt;code class="path"&gt;add_packages.sh&lt;/code&gt; script for use with your Dockerfile:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;#!/bin/bash
set -e</p>
</div>
<div class="paragraph">
<p>zypper --non-interactive --gpg-auto-import-keys ref</p>
</div>
<div class="paragraph">
<p>zypper --non-interactive in python python-xml aaa_base aaa_base-extras net-tools timezone vim less sudo tar&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Packages Required for Inspecting Your Images&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To inspect images and provide the package and product list of a container to the  WebUI you will need to install &lt;span class="package"&gt;python&lt;/span&gt; and &lt;span class="package"&gt;python-xml&lt;/span&gt; within the container.
If these packages remain uninstalled, your images will still build, but the package and product list will be unavailable from the WebUI.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.building"&gt;&lt;a class="anchor" href="<mark>at.images.docker.building"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.building"&gt;Building an Image&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;There are two ways to build an image.
You can select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Build&lt;/b&gt;&lt;/span&gt; from the left navigation bar, or click the build icon in the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Profiles&lt;/b&gt;&lt;/span&gt; list.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_build.png" alt="images image build"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Build an Image&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;For this example select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Build&lt;/b&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add a different tag name if you want a version other than the default &lt;code&gt;latest&lt;/code&gt; (only relevant to containers).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;code class="guimenu"&gt;Build Profile&lt;/code&gt; and &lt;code class="guimenu"&gt;Build Host&lt;/code&gt;.&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Profile Summary&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Notice the &lt;code class="guimenu"&gt;Profile Summary&lt;/code&gt; to the right of the build fields.
When you have selected a build profile, detailed information about the selected profile will be displayed in this area.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To schedule a build click the &lt;b class="button"&gt;Build&lt;/b&gt; button.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.importing"&gt;&lt;a class="anchor" href="#at.images.docker.importing"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.importing"&gt;Importing an Image&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can import and inspect arbitrary images.
Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Images&lt;/b&gt;&lt;/span&gt; from the left navigation bar.
Complete the text boxes of the &lt;code class="guimenu"&gt;Import&lt;/code&gt; dialog.
Once it has processed, the imported image will be listed on the &lt;code class="guimenu"&gt;Images&lt;/code&gt; page.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Import an Image&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;From &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Images&lt;/b&gt;&lt;/span&gt; click &lt;b class="button"&gt;Import&lt;/b&gt; to open the &lt;code class="guimenu"&gt;Import Image&lt;/code&gt; dialog.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the &lt;code class="guimenu"&gt;Import Image&lt;/code&gt; dialog complete these fields:&lt;/p&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;Image store&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The registry from where the image will be pulled for inspection.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Image name&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The name of the image in the registry.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Image version&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The version of the image in the registry.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Build host&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The build host that will pull and inspect the image.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Activation key&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The activation key that provides the path to the software channel that the image will be inspected with.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For confirmation, click &lt;b class="button"&gt;Import&lt;/b&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The entry for the image is created in the database, and an &lt;code&gt;Inspect Image&lt;/code&gt; action on  is scheduled.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once it has been processed, you can find the imported image in the &lt;code&gt;Images&lt;/code&gt; list.
It has a different icon in the &lt;code&gt;Build&lt;/code&gt; column, to indicate that the image is imported (see screenshot).
The status icon for the imported image can also be seen on the &lt;code&gt;Overview&lt;/code&gt; tab for the image.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.docker.troubleshooting"&gt;&lt;a class="anchor" href="#at.images.docker.troubleshooting"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.docker.troubleshooting"&gt;Troubleshooting&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;These are some known problems that you might encounter when working with images:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;HTTPS certificates to access the registry or the git repositories should be deployed to the minion by a custom state file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SSH git access using Docker is currently unsupported.
You may test it, but SUSE will not provide support.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the &lt;span class="package"&gt;python&lt;/span&gt; and &lt;span class="package"&gt;python-xml&lt;/span&gt; packages are not installed in your images during the build process, Salt cannot run within the container and reporting of installed packages or products will fail.
This will result in an &lt;code&gt;unknown&lt;/code&gt; update status.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.images.kiwi"&gt;&lt;a class="anchor" href="#at.images.kiwi"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi"&gt;OS Images&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;OS images are built by the Kiwi image system.
They can be of various types: PXE, QCOW2, LiveCD images, and others.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information about the Kiwi build system, see the &lt;a href="https://doc.opensuse.org/projects/kiwi/doc/"&gt;Kiwi documentation&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.enablement"&gt;&lt;a class="anchor" href="#at.images.kiwi.enablement"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.enablement"&gt;Enabling OS Image Building&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;OS image building is disabled by default. You can enable it in &lt;code&gt;/etc/rhn/rhn.conf&lt;/code&gt; by setting:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;java.kiwi_os_image_building_enabled = true&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Restart the Spacewalk service to pick up the changes:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;spacewalk-service restart&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.requirements"&gt;&lt;a class="anchor" href="#at.images.kiwi.requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.requirements"&gt;Requirements&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The Kiwi image building feature is available for Salt minions running SUSE Linux Enterprise Server&#160;12 or later.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Kiwi image configuration files and configuration scripts must be accessible in one of these locations:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Git repository&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTTP hosted tarball&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Local build host directory&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Example scripts are provided in the following sections.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.buildhost"&gt;&lt;a class="anchor" href="#at.images.kiwi.buildhost"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.buildhost"&gt;Creating a Build Host&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To build all kinds of images with , create and configure a build host.
Build hosts are Salt minions running SUSE Linux Enterprise Server&#160;12 or later.
This procedure will guide you though the initial configuration for a build host.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;From the  WebUI perform these steps to configure a build host:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select a minion that will be designated as a build host from the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Overview&lt;/b&gt;&lt;/span&gt; page.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;System Details&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Properties&lt;/b&gt;&lt;/span&gt; page, enable the &lt;code class="guimenu"&gt;Add-on System Type:&lt;/code&gt; &lt;code class="guimenu"&gt;OS Image Build Host&lt;/code&gt; and confirm with &lt;b class="button"&gt;Update Properties&lt;/b&gt;.&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/os-image-build-host.png" alt="os image build host"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;System Details&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Software&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Software Channels&lt;/b&gt;&lt;/span&gt; page, enable &lt;code&gt;SLE-Manager-Tools12-Pool&lt;/code&gt; and &lt;code&gt;SLE-Manager-Tools12-Updates&lt;/code&gt; (or a later version).
Schedule and click &lt;b class="button"&gt;Confirm&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install Kiwi and all required packages by applying Highstate.
From the system details page select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;States&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Highstate&lt;/b&gt;&lt;/span&gt; and click &lt;b class="button"&gt;Apply Highstate&lt;/b&gt;.
Alternatively, apply Highstate from the  Server command line:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;salt '$your_minion' state.highstate&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;div class="title"&gt; Web Server Public Certificate RPM&lt;/div&gt;
&lt;p&gt;Build host provisioning copies the  certificate RPM to the build host.
This certificate is used for accessing repositories provided by .&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The certificate is packaged in RPM by the &lt;code&gt;mgr-package-rpm-certificate-osimage&lt;/code&gt; package script.
The package script is called automatically during a new  installation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When you upgrade the &lt;code&gt;spacewalk-certs-tools&lt;/code&gt; package, the upgrade scenario will call the package script using the default values.
However if the certificate path was changed or unavailable, you will need to call the package script manually using &lt;code&gt;--ca-cert-full-path &lt;path_to_certificate&gt;&lt;/code&gt; after the upgrade procedure has finished.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Package script call example&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlightjs highlight"&gt;&lt;code class="language-bash hljs" data-lang="bash"&gt;/usr/sbin/mgr-package-rpm-certificate-osimage --ca-cert-full-path /root/ssl-build/RHN-ORG-TRUSTED-SSL-CERT&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The RPM package with the certificate is stored in a salt-accessible directory such as &lt;code&gt;/usr/share/susemanager/salt/images/rhn-org-trusted-ssl-cert-osimage-1.0-1.noarch.rpm&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The RPM package with the certificate is provided in the local build host repository &lt;code&gt;/var/lib/Kiwi/repo&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;The RPM Package with the  Certificate Must Be Specified in the Build Source&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Make sure your build source Kiwi configuration contains &lt;code&gt;rhn-org-trusted-ssl-cert-osimage&lt;/code&gt; as a required package in the &lt;code&gt;bootstrap&lt;/code&gt; section.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;config.xml&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlightjs highlight"&gt;&lt;code class="language-xml hljs" data-lang="xml"&gt;&#8230;&#8203;
  &lt;packages type="bootstrap"&gt;
    &#8230;&#8203;
    &lt;package name="rhn-org-trusted-ssl-cert-osimage" bootinclude="true"/&gt;
  &lt;/packages&gt;
&#8230;&#8203;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="at.images.kiwi.buildchannels"&gt;&lt;a class="anchor" href="#at.images.kiwi.buildchannels"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.buildchannels"&gt;Define Kiwi Build Channels with an Activation Key&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Create an activation key associated with the channel that your images will use.
Activation keys are mandatory for OS Image building.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Relationship Between Activation Keys and Image Profiles&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To build OS Images, you will need an activation key that is associated with a channel other than "SUSE Manager Default".&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/systems_create_activation_key.png" alt="systems create activation key"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;In the WebUI, select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Activation Keys&lt;/b&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;code class="guimenu"&gt;Create Key&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enter a &lt;code class="guimenu"&gt;Description&lt;/code&gt;, a &lt;code class="guimenu"&gt;Key&lt;/code&gt; name, and use the drop-down box to select a &lt;code class="guimenu"&gt;Base Channel&lt;/code&gt; to associate with the key.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Confirm with &lt;b class="button"&gt;Create Activation Key&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information, see &lt;a href="#bp.key.managment"&gt;[bp.key.managment]&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.imagestore"&gt;&lt;a class="anchor" href="#at.images.kiwi.imagestore"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.imagestore"&gt;Image Store&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;OS images can require  a significant amount of storage space.
Therefore, we recommended that the OS image store is located on a partition of its own or on a btrfs subvolume, separate from the root partition.
By default, the image store will be located at &lt;code class="path"&gt;/srv/www/os-images&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Image stores for Kiwi build type&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Image stores for Kiwi build type, used to build system, virtual and other images, are not supported yet.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Images are always stored in &lt;code class="path"&gt;/srv/www/os-images/&lt;organization id&gt;&lt;/code&gt; and are accessible via HTTP/HTTPS &lt;code class="url"&gt;&lt;a href="https://&lt;susemanager_host&gt;/os-images/&lt;organization" class="bare"&gt;<a href="https://&lt;susemanager_host&gt;/os-images/&lt;organization&lt;/a&gt" class="bare">https://&lt;susemanager_host&gt;/os-images/&lt;organization&lt;/a&gt</a>; id&gt;&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.profile"&gt;&lt;a class="anchor" href="#at.images.kiwi.profile"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.profile"&gt;Creating an Image Profile&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Manage Image Profiles using the WebUI.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_profiles.png" alt="images image profiles"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Create an Image Profile&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;To create an image profile select from &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Profiles&lt;/b&gt;&lt;/span&gt; and click &lt;b class="button"&gt;Create&lt;/b&gt;.&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_create_profile_kiwi.png" alt="images image create profile kiwi"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the &lt;code class="guimenu"&gt;Label&lt;/code&gt; field, provide a name for the &lt;code&gt;Image Profile&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;Kiwi&lt;/code&gt; as the &lt;code class="guimenu"&gt;Image Type&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Image store is automatically selected.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enter a &lt;code class="guimenu"&gt;Config URL&lt;/code&gt; to the directory containing the Kiwi configuration files:&lt;/p&gt;
&lt;div class="olist loweralpha"&gt;
&lt;ol class="loweralpha" type="a"&gt;
&lt;li&gt;
&lt;p&gt;Git URI&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTTPS tarball&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Path to build host local directory&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select an &lt;code class="guimenu"&gt;Activation Key&lt;/code&gt;. Activation keys ensure that images using a profile are assigned to the correct channel and packages.&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Relationship Between Activation Keys and Image Profiles&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When you associate an activation key with an image profile you are ensuring any image using the profile will use the correct software channel and any packages in the channel.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Confirm with the &lt;b class="button"&gt;Create&lt;/b&gt; button.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;Source format options&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Git/HTTP(S) URL to the repository&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;URL to the Git repository containing the sources of the image to be built.
Depending on the layout of the repository the URL can be:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://github.com/SUSE/manager-build-profiles&lt;/pre&gt" class="bare">https://github.com/SUSE/manager-build-profiles&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can specify a branch after the &lt;code&gt;</mark>&lt;/code&gt; character in the URL.
In this example, we use the &lt;code&gt;master&lt;/code&gt; branch:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://github.com/SUSE/manager-build-profiles#master&lt;/pre&gt" class="bare">https://github.com/SUSE/manager-build-profiles#master&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can specify a directory that contains the image sources after the &lt;code&gt;:&lt;/code&gt; character.
In this example, we use &lt;code&gt;OSImage/POS_Image-JeOS6&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://github.com/SUSE/manager-build-profiles#master:OSImage/POS_Image-JeOS6&lt;/pre&gt" class="bare">https://github.com/SUSE/manager-build-profiles#master:OSImage/POS_Image-JeOS6&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;HTTP(S) URL to the tarball&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;URL to the tar archive, compressed or uncompressed, hosted on the webserver.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;<a href="https://myimagesourceserver.example.org/MyKiwiImage.tar.gz&lt;/pre&gt" class="bare">https://myimagesourceserver.example.org/MyKiwiImage.tar.gz&lt;/pre&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Path to the directory on the build host&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Enter the path to the directory with the Kiwi build system sources. This directory must be present on the selected build host.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;/var/lib/Kiwi/MyKiwiImage&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.sourceexample"&gt;&lt;a class="anchor" href="#at.images.kiwi.sourceexample"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.sourceexample"&gt;Example of Kiwi sources&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Kiwi sources consist at least of &lt;code&gt;config.xml&lt;/code&gt;.
Usually &lt;code&gt;config.sh&lt;/code&gt; and &lt;code&gt;images.sh&lt;/code&gt; are present as well.
Sources can also contain files to be installed in the final image under the &lt;code&gt;root&lt;/code&gt; subdirectory.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For information about the Kiwi build system, see the &lt;a href="https://doc.opensuse.org/projects/kiwi/doc/"&gt;Kiwi documentation&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;SUSE provides examples of fully functional image sources at the &lt;a href="https://github.com/SUSE/manager-build-profiles"&gt;SUSE/manager-build-profiles&lt;/a&gt; public GitHub repository.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="title"&gt;Example of JeOS config.xml&lt;/div&gt;
&lt;div class="content"&gt;
&lt;pre class="highlightjs highlight"&gt;&lt;code class="language-xml hljs" data-lang="xml"&gt;&lt;?xml version="1.0" encoding="utf-8"?&gt;</p>
</div>
<div class="paragraph">
<p>&lt;image schemaversion="6.1" name="POS_Image_JeOS6"&gt;
    &lt;description type="system"&gt;
        &lt;author&gt;Admin User&lt;/author&gt;
        &lt;contact&gt;<a href="mailto:noemail@example.com">noemail@example.com</a>&lt;/contact&gt;
        &lt;specification&gt;SUSE Linux Enterprise 12 SP3 JeOS&lt;/specification&gt;
    &lt;/description&gt;
    &lt;preferences&gt;
        &lt;version&gt;6.0.0&lt;/version&gt;
        &lt;packagemanager&gt;zypper&lt;/packagemanager&gt;
        &lt;bootsplash-theme&gt;SLE&lt;/bootsplash-theme&gt;
        &lt;bootloader-theme&gt;SLE&lt;/bootloader-theme&gt;</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&amp;lt;locale&amp;gt;en_US&amp;lt;/locale&amp;gt;
&amp;lt;keytable&amp;gt;us.map.gz&amp;lt;/keytable&amp;gt;
&amp;lt;timezone&amp;gt;Europe/Berlin&amp;lt;/timezone&amp;gt;
&amp;lt;hwclock&amp;gt;utc&amp;lt;/hwclock&amp;gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    &amp;lt;rpm-excludedocs&amp;gt;true&amp;lt;/rpm-excludedocs&amp;gt;
    &amp;lt;type boot="saltboot/suse-SLES12" bootloader="grub2" checkprebuilt="true" compressed="false" filesystem="ext3" fsmountoptions="acl" fsnocheck="true" image="pxe" kernelcmdline="quiet"&amp;gt;&amp;lt;/type&amp;gt;
&amp;lt;/preferences&amp;gt;
&amp;lt;!--    CUSTOM REPOSITORY
&amp;lt;repository type="rpm-dir"&amp;gt;
  &amp;lt;source path="this://repo"/&amp;gt;
&amp;lt;/repository&amp;gt;
--&amp;gt;
&amp;lt;packages type="image"&amp;gt;
    &amp;lt;package name="patterns-sles-Minimal"/&amp;gt;
    &amp;lt;package name="aaa_base-extras"/&amp;gt; &amp;lt;!-- wouldn't be SUSE without that ;-) --&amp;gt;
    &amp;lt;package name="kernel-default"/&amp;gt;
    &amp;lt;package name="salt-minion"/&amp;gt;
    ...
&amp;lt;/packages&amp;gt;
&amp;lt;packages type="bootstrap"&amp;gt;
    ...
    &amp;lt;package name="sles-release"/&amp;gt;
    &amp;lt;!-- this certificate package is required to access {productname} repositories
         and is provided by {productname} automatically --&amp;gt;
    &amp;lt;package name="rhn-org-trusted-ssl-cert-osimage" bootinclude="true"/&amp;gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    &amp;lt;/packages&amp;gt;
    &amp;lt;packages type="delete"&amp;gt;
        &amp;lt;package name="mtools"/&amp;gt;
        &amp;lt;package name="initviocons"/&amp;gt;
        ...
    &amp;lt;/packages&amp;gt;
&amp;lt;/image&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.building"&gt;&lt;a class="anchor" href="#at.images.kiwi.building"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.building"&gt;Building an Image&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;There are two ways to build an image using the WebUI.
Either select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Images&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Build&lt;/b&gt;&lt;/span&gt;, or click the build icon in the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Images&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Profiles&lt;/b&gt;&lt;/span&gt; list.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_image_build.png" alt="images image build"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Build an Image&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Images&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Build&lt;/b&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add a different tag name if you want a version other than the default &lt;code&gt;latest&lt;/code&gt; (applies only to containers).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select the &lt;code class="guimenu"&gt;Image Profile&lt;/code&gt; and a &lt;code class="guimenu"&gt;Build Host&lt;/code&gt;.&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Profile Summary&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A &lt;code class="guimenu"&gt;Profile Summary&lt;/code&gt; is displayed to the right of the build fields.
When you have selected a build profile detailed information about the selected profile will show up in this area.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To schedule a build, click the &lt;b class="button"&gt;Build&lt;/b&gt; button.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.inspection"&gt;&lt;a class="anchor" href="#at.images.kiwi.inspection"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.inspection"&gt;Image Inspection and Salt Integration&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;After the image is successfully built, the inspection phase begins.
During the inspection phase {susemgr} collects information about the image:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;List of packages installed in the image&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Checksum of the image&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Image type and other image details&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If the built image type is &lt;code&gt;PXE&lt;/code&gt;, a Salt pillar will also be generated.
Image pillars are stored in the &lt;code&gt;/srv/susemanager/pillar_data/images/&lt;/code&gt; directory and the Salt subsystem can access details about the generated image.
Details include where the pillar is located and provided, image checksums, information needed for network boot, and more.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The generated pillar is available to all connected minions.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.troubleshooting"&gt;&lt;a class="anchor" href="#at.images.kiwi.troubleshooting"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.troubleshooting"&gt;Troubleshooting&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Building an image requires of several dependent steps.
When the build fails, investigation of salt states results can help you to identify the source of the failure.
Usual checks when the build fails:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The build host can access the build sources&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There is enough disk space for the image on both the build host and the  server&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The activation key has the correct channels associated with it&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The build sources used are valid&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The RPM package with the  public certificate is up to date and available at &lt;code&gt;/usr/share/susemanager/salt/images/rhn-org-trusted-ssl-cert-osimage-1.0-1.noarch.rpm&lt;/code&gt;.&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more on how to refresh a public certificate RPM, see &lt;a href="#at.images.kiwi.buildhost"&gt;Creating a Build Host&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.images.kiwi.limitations"&gt;&lt;a class="anchor" href="#at.images.kiwi.limitations"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.kiwi.limitations"&gt;Limitations&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The section contains some known issues when working with images.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;HTTPS certificates used to access the HTTP sources or Git repositories should be deployed to the minion by a custom state file, or configured manually.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Importing Kiwi-based images is not supported.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.images.listing"&gt;&lt;a class="anchor" href="#at.images.listing"&gt;&lt;/a&gt;&lt;a class="link" href="#at.images.listing"&gt;Listing Image Profiles Available for Building&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To list images available for building select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Images&lt;/b&gt;&amp;#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Images&lt;/b&gt;&lt;/span&gt;.
A list of all images will be displayed.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/images_list_images.png" alt="images list images"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Displayed data about images includes an image &lt;code class="guimenu"&gt;Name&lt;/code&gt;, its &lt;code class="guimenu"&gt;Version&lt;/code&gt; and the build &lt;code class="guimenu"&gt;Status&lt;/code&gt;.
You will also see the image update status with a listing of possible patch and package updates that are available for the image.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Clicking the &lt;b class="button"&gt;Details&lt;/b&gt; button on an image will provide a detailed view including an exact list of relevant patches and a list of all packages installed within the image.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The patch and the package list is only available if the inspect state after a build was successful.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="#at.k8s.integration.requires"&gt;Prerequisites&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.registering.kubernetes.as.a.virtual.host.manager"&gt;Register Kubernetes as a Virtual Host Manager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.view.the.list.of.nodes.in.a.cluster"&gt;View the List of Nodes in a Cluster&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.obtain.runtime.data.about.images"&gt;Obtain Runtime Data about Images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.build.an.image.for.deployment.in.kubernetes"&gt;Build an image for deployment in Kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.import.a.previously.deployed.image.in.kubernetes"&gt;Import a Previously Deployed Image in Kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.obtain.additional.runtime.data"&gt;Obtain Additional Runtime Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.rebuild.a.previously.deployed.image.in.kubernetes"&gt;Rebuild a Previously Deployed Image in Kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.role.based.access.control.permissions.and.certificate.data"&gt;Role Based Access Control Permissions and Certificate Data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.k8s.integration.requires"&gt;&lt;a class="anchor" href="#at.k8s.integration.requires"&gt;&lt;/a&gt;&lt;a class="link" href="#at.k8s.integration.requires"&gt;Prerequisites&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The prerequisites listed below should be met before proceeding.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;At least one &lt;em&gt;Kubernetes&lt;/em&gt; or _SUSE CaaS Platform _ cluster available on your network&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt; configured for container management&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Required channels are present, a registered build host available etc.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class="package"&gt;virtual-host-gatherer-Kubernetes&lt;/span&gt; package installed on your  server&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.requirements"&gt;&lt;a class="anchor" href="#at.requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#at.requirements"&gt;Requirements&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Kubernetes version 1.5.0 or higher.
Alternatively use SUSE CaaS Platform &lt;em&gt;(SUSE CaaS Platform includes Kubernetes 1.5.0 by default)&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Docker version 1.12 or higher on the container build host&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To enable all Kubernetes related features within the WebUI, the &lt;span class="package"&gt;virtual-host-gatherer-Kubernetes&lt;/span&gt; package must be installed.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.registering.kubernetes.as.a.virtual.host.manager"&gt;&lt;a class="anchor" href="#at.registering.kubernetes.as.a.virtual.host.manager"&gt;&lt;/a&gt;&lt;a class="link" href="#at.registering.kubernetes.as.a.virtual.host.manager"&gt;Register Kubernetes as a Virtual Host Manager&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;em&gt;Kubernetes&lt;/em&gt; clusters are registered with SUSE Manager as &lt;code&gt;virtual host managers&lt;/code&gt;.
Registration and authorization begins with importing a &lt;code&gt;kubeconfig&lt;/code&gt; file using Kubernetes official command line tool &lt;code&gt;kubectl&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Registering a Kubernetes Cluster with &lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Virtual Host Managers&lt;/b&gt;&lt;/span&gt; from the navigation menu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Expand the &lt;code&gt;Create&lt;/code&gt; dropdown in the upper right corner of the page and select &lt;b class="menuref"&gt;Kubernetes Cluster&lt;/b&gt; .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Input a label for the new Virtual Host Manager.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select the &lt;code&gt;kubeconfig&lt;/code&gt; file which contains the required data for the Kubernetes cluster.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select the correct &lt;em&gt;context&lt;/em&gt; for the cluster, as specified in the kubeconfig file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;code&gt;Create&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.view.the.list.of.nodes.in.a.cluster"&gt;&lt;a class="anchor" href="#at.view.the.list.of.nodes.in.a.cluster"&gt;&lt;/a&gt;&lt;a class="link" href="#at.view.the.list.of.nodes.in.a.cluster"&gt;View the List of Nodes in a Cluster&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Virtual Host Managers&lt;/b&gt;&lt;/span&gt; from the navigation menu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select the desired Kubernetes cluster to view it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Node data is not refreshed during registration.
To refresh node data, click on &lt;code&gt;Schedule refresh data&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Refresh the browser.
If the node data is not available wait a few moments and try again.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.obtain.runtime.data.about.images"&gt;&lt;a class="anchor" href="#at.obtain.runtime.data.about.images"&gt;&lt;/a&gt;&lt;a class="link" href="#at.obtain.runtime.data.about.images"&gt;Obtain Runtime Data about Images&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;See the following steps to find runtime data for images.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Images&lt;/b&gt;&lt;/span&gt; from the navigation menu.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the image list table, take notice of the new runtime columns.
These are labeled: &lt;code&gt;Revision&lt;/code&gt;, &lt;code&gt;Runtime&lt;/code&gt; and &lt;code&gt;Instances&lt;/code&gt;.
Initially these columns will not provide useful data.&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Revision&lt;/code&gt;: An artificial sequence number which increments on every rebuild for manager-built images, or on every reimport for externally built images.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Runtime&lt;/code&gt;: Overall status of the running instances of the image throughout the registered clusters.
The status can be one of the following:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;All instances are consistent with SUSE Manager: All the running instances are running the same build of the image as tracked by SUSE Manager.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Outdated instances found: Some of the instances are running an older build of the image.
A redeploy of the image into the pod may be required.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;No information: The checksum of the instance image does not match the image data contained in SUSE Manager.
A redeploy of the image into the pod may be required.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Instances&lt;/code&gt;: Number of instances running this image across all the clusters registered in SUSE Manager.
A breakdown of numbers can be seen by clicking on the pop-up icon next to the number.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.build.an.image.for.deployment.in.kubernetes"&gt;&lt;a class="anchor" href="#at.build.an.image.for.deployment.in.kubernetes"&gt;&lt;/a&gt;&lt;a class="link" href="#at.build.an.image.for.deployment.in.kubernetes"&gt;Build an image for deployment in Kubernetes&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following steps will help you build an image for deployment in Kubernetes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Under &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Stores&lt;/b&gt;&lt;/span&gt;, create an image store.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Under &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Profiles&lt;/b&gt;&lt;/span&gt;, create an image profile (with a Dockerfile which is suitable to deploy to Kubernetes).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Under &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Build&lt;/b&gt;&lt;/span&gt;, build an image with the new profile and wait for the build to finish.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deploy the image into one of the registered Kubernetes clusters (via &lt;code&gt;kubectl&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Notice the updated data in &lt;code&gt;Runtime&lt;/code&gt; and &lt;code&gt;Instances&lt;/code&gt; columns in the respective image row.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.import.a.previously.deployed.image.in.kubernetes"&gt;&lt;a class="anchor" href="#at.import.a.previously.deployed.image.in.kubernetes"&gt;&lt;/a&gt;&lt;a class="link" href="#at.import.a.previously.deployed.image.in.kubernetes"&gt;Import a Previously Deployed Image in Kubernetes&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following steps will guide you through importing a previously deployed image in Kubernetes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select an image that has already been deployed to any of your registered Kubernetes clusters.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the registry owning the image to SUSE Manager as an image store.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Images&lt;/b&gt;&lt;/span&gt; , click &lt;code&gt;Import&lt;/code&gt; from the top-right corner, fill in the form fields and click &lt;code&gt;Import&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Notice the updated data in &lt;code&gt;Runtime&lt;/code&gt; and &lt;code&gt;Instances&lt;/code&gt; columns in the respective image row.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.obtain.additional.runtime.data"&gt;&lt;a class="anchor" href="#at.obtain.additional.runtime.data"&gt;&lt;/a&gt;&lt;a class="link" href="#at.obtain.additional.runtime.data"&gt;Obtain Additional Runtime Data&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following steps will help you find additional runtime data.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select to &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Images&lt;/b&gt;&lt;/span&gt; , click the &lt;code&gt;Details&lt;/code&gt; button on the right end of a row which has running instances.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Under the &lt;code&gt;Overview&lt;/code&gt; tab, notice the data in &lt;code&gt;Runtime&lt;/code&gt; and &lt;code&gt;Instances&lt;/code&gt; fields under &lt;code&gt;Image Info&lt;/code&gt; section.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Select the &lt;code&gt;Runtime&lt;/code&gt; tab.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Here is a breakdown of the Kubernetes pods running this image in all the registered clusters including the following data:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Pod name&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Namespace which the pod resides in&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The runtime status of the container in the specific pod.
Status icons are explained in the preceeding example.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.rebuild.a.previously.deployed.image.in.kubernetes"&gt;&lt;a class="anchor" href="#at.rebuild.a.previously.deployed.image.in.kubernetes"&gt;&lt;/a&gt;&lt;a class="link" href="#at.rebuild.a.previously.deployed.image.in.kubernetes"&gt;Rebuild a Previously Deployed Image in Kubernetes&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following steps will guide you through rebuilding an image which has been deployed to a Kubernetes cluster.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Go to &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Images&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Images&lt;/b&gt;&lt;/span&gt; , click the Details button on the right end of a row which has running instances.
The image must be manager-built.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click the &lt;code&gt;Rebuild&lt;/code&gt; button located under the &lt;code&gt;Build Status&lt;/code&gt; section and wait for the build to finish.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Notice the change in the &lt;code&gt;Runtime&lt;/code&gt; icon and title, reflecting the fact that now the instances are running a previous build of the image.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.role.based.access.control.permissions.and.certificate.data"&gt;&lt;a class="anchor" href="#at.role.based.access.control.permissions.and.certificate.data"&gt;&lt;/a&gt;&lt;a class="link" href="#at.role.based.access.control.permissions.and.certificate.data"&gt;Role Based Access Control Permissions and Certificate Data&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Currently, only kubeconfig files containing all embedded certificate data may be used with SUSE Manager&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The API calls from  are:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;GET /api/v1/pods&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GET /api/v1/nodes&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;According to this list, the minimum recommended permissions for  should be as follows:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A ClusterRole to list all the nodes:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;resources: ["nodes"]
verbs: ["list"]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A ClusterRole to list pods in all namespaces (role binding must not restrict the namespace):&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;resources: ["pods"]
verbs: ["list"]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Due to a a 403 response from /pods, the entire cluster will be ignored by SUSE Manager.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information on working with RBAC Authorization see: &lt;a href="https://kubernetes.io/docs/admin/authorization/rbac/" class="bare"&gt;<a href="https://kubernetes.io/docs/admin/authorization/rbac/&lt;/a&gt;&lt;/p&gt" class="bare">https://kubernetes.io/docs/admin/authorization/rbac/&lt;/a&gt;&lt;/p&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>at.introduction.cobbler"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.reqs"&gt;Cobbler Requirements&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.reqs.settings"&gt;Configuring Cobbler with /etc/cobbler/settings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.req.dhcp"&gt;Cobbler and DHCP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.reqs.tftp"&gt;TFTP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.reqs.sync.tftp"&gt;Syncing TFTP Contents to  Proxies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.reqs.service"&gt;Syncing and Starting the Cobbler Service&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.adddistro"&gt;Adding a Distribution to Cobbler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.addprofile"&gt;Adding a Profile to Cobbler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.addsystem"&gt;Adding a System to Cobbler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.templates"&gt;Using Cobbler Templates&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.templates.usage"&gt;Using Templates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.templates.snippets"&gt;Kickstart Snippets&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.koan"&gt;Using Koan&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.koan.virt"&gt;Using Koan to Provision Virtual Systems&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.koan.reinstall"&gt;Using Koan to Reinstall Running Systems&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.buildiso"&gt;Building ISOs with Cobbler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.baremetal"&gt;Bare Metal Provisioning&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.baremetal.requirements"&gt;Bare Metal Provisioning System Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.baremetal.enabling"&gt;Enabling Bare Metal Systems Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.baremetal.provisioning"&gt;Provisioning Bare Metal Systems&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.cobbler.baremetal.troubleshooting"&gt;Troubleshooting Bare Metal Systems&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.introduction.cobbler"&gt;&lt;a class="anchor" href="#at.introduction.cobbler"&gt;&lt;/a&gt;&lt;a class="link" href="#at.introduction.cobbler"&gt;Introduction&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; features the Cobbler server, which allows administrators to centralize system installation and provisioning infrastructure.
Cobbler is an installation server that provides various methods of performing unattended system installations.
It can be used on server, workstation, or guest systems, in full or para-virtualized environments.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Cobbler offers several tools for pre-installation guidance, automated installation file management, installation environment management, and more.
This section explains some of the supported features of Cobbler, including:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Installation environment analysis using the &lt;code class="command"&gt;cobbler check&lt;/code&gt; command&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Multi-site installation server configuration using the &lt;code class="command"&gt;cobbler replicate&lt;/code&gt; command&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Virtual machine guest installation automation with the &lt;code class="command"&gt;koan&lt;/code&gt; client-side tool&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Building installation ISOs with PXE-like menus using the &lt;code class="command"&gt;cobbler buildiso&lt;/code&gt; command (for  systems with x86_64 architecture)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more detailed Cobbler documentation, see &lt;a href="http://cobbler.github.io/manuals/" class="bare"&gt;<a href="http://cobbler.github.io/manuals/&lt;/a&gt;.&lt;/p&gt" class="bare">http://cobbler.github.io/manuals/&lt;/a&gt;.&lt;/p&gt</a>;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Supported Cobbler Functions&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;SUSE only support those Cobbler functions that are either listed within our formal documentation or available via the web interface and API.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.reqs"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.reqs"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.reqs"&gt;Cobbler Requirements&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To use Cobbler for system installation with PXE, you will require a TFTP server.  installs a TFTP server by default.
To PXE boot systems, you will require a DHCP server, or have access to a network DHCP server. Edit the &lt;code class="path"&gt;/etc/dhcp.conf&lt;/code&gt; configuration file to change &lt;code class="option"&gt;next-server&lt;/code&gt; to the hostname or IP address of your Cobbler server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Correct Hostname Configuration&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Cobbler uses hostnames as a unique key for each system.
If you are using the &lt;code class="option"&gt;pxe-default-image&lt;/code&gt; to onboard bare metal systems, make sure every system has a unique hostname.
Non-unique hostnames will cause all systems with the same hostname to have the configuration filess overwritten when a provisioning profile is assigned.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.reqs.settings"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.reqs.settings"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.reqs.settings"&gt;Configuring Cobbler with /etc/cobbler/settings&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Cobbler configuration is primarily managed using the &lt;code class="path"&gt;/etc/cobbler/settings&lt;/code&gt; file.
Cobbler will run with the default settings unchanged.
All configurable settings are explained in detail in the &lt;code class="path"&gt;/etc/cobbler/settings&lt;/code&gt; file, including information on each setting, and recommendations.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Supported Languages&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If  complains that language &lt;code&gt;en&lt;/code&gt; was not found within the list of supported languages available at &lt;code class="path"&gt;/usr/share/YaST2/data/languages&lt;/code&gt;, remove the &lt;code class="option"&gt;lang&lt;/code&gt; parameter in the &lt;code class="path"&gt;/etc/cobbler/settings&lt;/code&gt; file, or add a valid parameter such as &lt;code&gt;en_US&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more on this topic, see &lt;a href="https://www.suse.com/support/kb/doc?id=7018334" class="bare"&gt;<a href="https://www.suse.com/support/kb/doc?id=7018334&lt;/a&gt;.&lt;/p&gt" class="bare">https://www.suse.com/support/kb/doc?id=7018334&lt;/a&gt;.&lt;/p&gt</a>;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.req.dhcp"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.req.dhcp"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.req.dhcp"&gt;Cobbler and DHCP&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Cobbler uses DHCP to automate bare metal installations from a PXE boot server.
You must have administrative access to the network&#8217;s DHCP server, or be able to configure DHCP directly on the the Cobbler server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="advanced.topics.cobbler.reqs.dhcp.notmanaged"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.reqs.dhcp.notmanaged"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.reqs.dhcp.notmanaged"&gt;Configuring an Existing DHCP Server&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you have existing DHCP server, you will need to edit the DHCP configuration file so that it points to the Cobbler server and PXE boot image.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;As root on the DHCP server, edit the &lt;code class="path"&gt;/etc/dhcpd.conf&lt;/code&gt; file and append a new class with options for performing PXE boot installation.
For example:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="exampleblock"&gt;
&lt;div class="content"&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;allow booting;
allow bootp; &lt;i class="conum" data-value="1"&gt;&lt;/i&gt;&lt;b&gt;(1)&lt;/b&gt;
class "PXE" &lt;i class="conum" data-value="2"&gt;&lt;/i&gt;&lt;b&gt;(2)&lt;/b&gt;
{match if substring(option vendor-class-identifier, 0, 9) = "PXEClient"; &lt;i class="conum" data-value="3"&gt;&lt;/i&gt;&lt;b&gt;(3)&lt;/b&gt;
next-server 192.168.2.1; &lt;i class="conum" data-value="4"&gt;&lt;/i&gt;&lt;b&gt;(4)&lt;/b&gt;
filename "pxelinux.0";} &lt;i class="conum" data-value="5"&gt;&lt;/i&gt;&lt;b&gt;(5)&lt;/b&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="colist arabic"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;&lt;i class="conum" data-value="1"&gt;&lt;/i&gt;&lt;b&gt;1&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;Enable network booting with the &lt;code class="systemitem"&gt;bootp&lt;/code&gt; protocol.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;i class="conum" data-value="2"&gt;&lt;/i&gt;&lt;b&gt;2&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;Create a class called &lt;code&gt;PXE&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;i class="conum" data-value="3"&gt;&lt;/i&gt;&lt;b&gt;3&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;A system configured to have PXE first in its boot priority identifies itself as &lt;code&gt;PXEClient&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;i class="conum" data-value="4"&gt;&lt;/i&gt;&lt;b&gt;4&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;As a result, the DHCP server directs the system to the Cobbler server at &lt;code&gt;192.168.2.1&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;i class="conum" data-value="5"&gt;&lt;/i&gt;&lt;b&gt;5&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;The DHCP server retrieves the &lt;code class="path"&gt;pxelinux.0&lt;/code&gt;bootloader file.&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="advanced.topics.cobbler.reqs.dhcp.kvm"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.reqs.dhcp.kvm"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.reqs.dhcp.kvm"&gt;Setting up PXE Boot in KVM&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;It is possible to set up PXE booting in KVM, however we do not recommend you use this method for production systems.
This method can replace the &lt;code class="guilabel"&gt;next-server&lt;/code&gt; setting on a DHCP server, as described in &lt;a href="#advanced.topics.cobbler.reqs.dhcp.notmanaged"&gt;Configuring an Existing DHCP Server&lt;/a&gt;.
Edit the network XML description with &lt;code class="command"&gt;virsh&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Produce an XML dump of the current description:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content<span class="menuseq"><b class="menu"></b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">virsh net-dumpxml --inactive network</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">network.xml&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Open the XML dump file at &lt;code class=</b></span>path"&gt;network.xml&lt;/code&gt; with a text editor and add a &lt;code class="systemitem"&gt;bootp&lt;/code&gt; parameter within the &lt;code class="systemitem"&gt;&lt;dhcp&gt;&lt;/code&gt;` element:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;bootp file='/pxelinux.0' server='192.168.100.153'/&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install the updated description:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;virsh net-define network.xml&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Alternatively, use the &lt;code class="command"&gt;net-edit&lt;/code&gt; subcommand, which will also perform some error checking.&lt;/p&gt;
&lt;/div&gt;
&lt;div id="at.cobbler.bootp.kvm" class="exampleblock"&gt;
&lt;div class="title"&gt;Example 1. Minimal Network XML Description for KVM&lt;/div&gt;
&lt;div class="content"&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;network&gt;
  &lt;name&gt;default&lt;/name&gt;
  &lt;uuid&gt;1da84185-31b5-4c8b-9ee2-a7f5ba39a7ee&lt;/uuid&gt;
  &lt;forward mode='nat'&gt;
    &lt;nat&gt;
      &lt;port start='1024' end='65535'/&gt;
    &lt;/nat&gt;
  &lt;/forward&gt;
  &lt;bridge name='virbr0' stp='on' delay='0'/&gt;
  &lt;mac address='52:54:00:29:59:18'/&gt;
  &lt;domain name='default'/&gt;
  &lt;ip address='192.168.100.1' netmask='255.255.255.0'&gt;
    &lt;dhcp&gt;
      &lt;range start='192.168.100.128' end='192.168.100.254'/&gt;
      &lt;bootp file='/pxelinux.0' server='192.168.100.153'/&gt; &lt;i class="conum" data-value="1"&gt;&lt;/i&gt;&lt;b&gt;(1)&lt;/b&gt;
&lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="colist arabic"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;&lt;i class="conum" data-value="1"&gt;&lt;/i&gt;&lt;b&gt;1&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;bootp&lt;/code&gt; statement that directs to the PXE server.&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.reqs.tftp"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.reqs.tftp"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.reqs.tftp"&gt;TFTP&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; uses the &lt;code class="daemon"&gt;atftpd&lt;/code&gt; daemon, but it can also use TFTP.
The &lt;code class="daemon"&gt;atftpd&lt;/code&gt; daemon is the recommended method for PXE serviices, and is installed by default.
Usually, you do not have to change its configuration, but if you have to, use the {yast} Services Manager.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Before TFTP can serve the &lt;code class="path"&gt;pxelinux.0&lt;/code&gt; boot image, you must start the tftp service.
Start {yast} and use &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;System&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Services Manager&lt;/b&gt;&lt;/span&gt; to configure the &lt;code class="daemon"&gt;tftpd&lt;/code&gt; daemon.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.reqs.sync.tftp"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.reqs.sync.tftp"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.reqs.sync.tftp"&gt;Syncing TFTP Contents to  Proxies&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;It is possible to synchronize Cobbler-generated TFTP contents to  proxies to perform PXE booting using proxies.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="_installation"&gt;&lt;a class="anchor" href="#_installation"&gt;&lt;/a&gt;&lt;a class="link" href="#_installation"&gt;Installation&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;On the  Server as the root user, install the &lt;code class="systemitem"&gt;susemanager-tftpsync&lt;/code&gt; package:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;zypper install susemanager-tftpsync&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;On the  Proxy systems as the root user , install the &lt;code class="systemitem"&gt;susemanager-tftpsync-recv&lt;/code&gt; package:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;zypper install susemanager-tftpsync-recv&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="_configuring_proxy"&gt;&lt;a class="anchor" href="#_configuring_proxy"&gt;&lt;/a&gt;&lt;a class="link" href="#_configuring_proxy"&gt;Configuring  Proxy&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Execute &lt;code class="path"&gt;configure-tftpsync.sh&lt;/code&gt; on the  Proxy systems.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This setup script asks for hostnames and IP addresses of the  server and the proxy.
Additionally, it asks for the &lt;code&gt;tftpboot&lt;/code&gt; directory on the proxy.
For more information, see the output of &lt;code class="command"&gt;configure-tftpsync.sh --help&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="_configuring_server"&gt;&lt;a class="anchor" href="#_configuring_server"&gt;&lt;/a&gt;&lt;a class="link" href="#_configuring_server"&gt;Configuring  Server&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;As the root user, execute &lt;code class="path"&gt;configure-tftpsync.sh&lt;/code&gt; on  Server:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;configure-tftpsync.sh proxy1.example.com proxy2.example.com&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Execute &lt;code class="command"&gt;cobbler sync&lt;/code&gt; to initially push the files to the proxy systems.
This will succeed if all listed proxies are properly configured.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Changing the List of Proxy Systems&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;You can call &lt;code class="command"&gt;configure-tftpsync.sh&lt;/code&gt; to change the list of proxy systems.
You must always provide the full list of proxy systems.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Reinstalling a Configured Proxy&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you reinstall an already configured proxy and want to push all the files again you must remove the cache file at &lt;code class="path"&gt;/var/lib/cobbler/pxe_cache.json&lt;/code&gt; before you can call &lt;code class="command"&gt;cobbler sync&lt;/code&gt; again.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="_requirements"&gt;&lt;a class="anchor" href="#_requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#_requirements"&gt;Requirements&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The  Server must be able to access the  Proxy systems directly.
You cannot push using a proxy.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.reqs.service"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.reqs.service"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.reqs.service"&gt;Syncing and Starting the Cobbler Service&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Before starting the Cobbler service, run a check to make sure that all the prerequisites are configured according to your requirements using the &lt;code class="command"&gt;cobbler check&lt;/code&gt; command.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If configuration is correct, start the  server with this command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;/usr/sbin/spacewalk-service start&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Do not start or stop the &lt;code class="command"&gt;cobblerd&lt;/code&gt; service independent of the  service.
Doing so may cause errors and other issues.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Always use &lt;code class="command"&gt;/usr/sbin/spacewalk-service&lt;/code&gt; to start or stop .&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.adddistro"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.adddistro"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.adddistro"&gt;Adding a Distribution to Cobbler&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If all Cobbler prerequisites have been met and Cobbler is running, you can use the Cobbler server as an installation source for a distribution:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Make installation files such as the kernel image and the initrd image available on the Cobbler server.
Then add a distribution to Cobbler, using either the Web interface or the command line tools.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For information about creating and configuring AutoYaST or Kickstart distributions from the  interface, refer to &lt;a href="#ref.webui.systems.autoinst.distribution"&gt;[ref.webui.systems.autoinst.distribution]&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To create a distribution from the command line, use the &lt;code class="command"&gt;cobbler&lt;/code&gt; command as root:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;cobbler distro add --name=<code>string</code>--kernel=<code>path</code>--initrd=<code>path</code>&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--name=&lt;/code&gt;&lt;code class="replaceable"&gt;string&lt;/code&gt; option&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;A label used to differentiate one distribution choice from another (for example, &lt;code&gt;sles12server&lt;/code&gt;).&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--kernel=&lt;/code&gt;&lt;code class="replaceable"&gt;path&lt;/code&gt; option&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Specifies the path to the kernel image file.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--initrd=&lt;/code&gt;&lt;code class="replaceable"&gt;path&lt;/code&gt; option&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;specifies the path to the initial ram disk (initrd) image file.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.addprofile"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.addprofile"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.addprofile"&gt;Adding a Profile to Cobbler&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once you have added a distribution to Cobbler, you can add profiles.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Cobbler profiles associate a distribution with additional options like AutoYaST or Kickstart files.
Profiles are the core unit of provisioning and there must be at least one Cobbler profile for every distribution added.
For example, two profiles might be created for a Web server and a desktop configuration.
While both profiles use the same distribution, the profiles are for different installation types.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For information about creating and configuring Kickstart and AutoYaST profiles in the  interface, refer to &lt;a href="#ref.webui.systems.autoinst.profiles"&gt;[ref.webui.systems.autoinst.profiles]&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Use the &lt;code class="command"&gt;cobbler&lt;/code&gt; command as root to create profiles from the command line:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;cobbler profile add --name=string --distro=string [--kickstart=url] \
  [--virt-file-size=gigabytes] [--virt-ram=megabytes]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--name=&lt;/code&gt;&lt;code class="replaceable"&gt;string&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;A unique label for the profile, such as &lt;code&gt;sles12webserver&lt;/code&gt; or &lt;code&gt;sles12workstation&lt;/code&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--distro=&lt;/code&gt;&lt;code class="replaceable"&gt;string&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The distribution that will be used for this profile.
For adding distributions, see &lt;a href="#advanced.topics.cobbler.adddistro"&gt;Adding a Distribution to Cobbler&lt;/a&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--kickstart=&lt;/code&gt;&lt;code class="replaceable"&gt;url&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The location of the Kickstart file (if available).&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--virt-file-size=&lt;/code&gt;&lt;code class="replaceable"&gt;gigabytes&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The size of the virtual guest file image (in gigabytes).
The default is 5&#160;GB.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--virt-ram=&lt;/code&gt;&lt;code class="replaceable"&gt;megabytes&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The maximum amount of physical RAM a virtual guest can consume (in megabytes).
The default is 512&#160;MB.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.addsystem"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.addsystem"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.addsystem"&gt;Adding a System to Cobbler&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once the distributions and profiles for Cobbler have been created, add systems to Cobbler.
System records map a piece of hardware on a client with the Cobbler profile assigned to run on it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you are provisioning using &lt;code class="command"&gt;koan&lt;/code&gt; and PXE menus alone, it is not required to create system records.
They are useful when system-specific Kickstart templating is required or to establish that a specific system should always get specific content installed.
If a client is intended for a certain role, system records should be created for it.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For information about creating and configuring automated installation from the  interface, refer to &lt;a href="#s4-sm-system-details-kick"&gt;[s4-sm-system-details-kick]&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Run this command as the root user to add a system to the Cobbler configuration:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;cobbler system add --name=string --profile=string \
  --mac-address=AA:BB:CC:DD:EE:FF&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--name=&lt;/code&gt;&lt;code class="replaceable"&gt;string&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;A unique label for the system, such as &lt;code&gt;engineering_server&lt;/code&gt; or &lt;code&gt;frontoffice_workstation&lt;/code&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--profile=&lt;/code&gt;&lt;code class="replaceable"&gt;string&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Specifies the name of one of the profiles added in &lt;a href="#advanced.topics.cobbler.addprofile"&gt;Adding a Profile to Cobbler&lt;/a&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;code class="option"&gt;--mac-address=&lt;/code&gt;&lt;code class="replaceable"&gt;AA:BB:CC:DD:EE:FF&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Allows systems with the specified MAC address to automatically be provisioned to the profile associated with the system record when they are being installed.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more options, such as setting hostname or IP addresses, refer to the Cobbler manpage (&lt;code class="command"&gt;man cobbler&lt;/code&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.templates"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.templates"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.templates"&gt;Using Cobbler Templates&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The  web interface allows you to create variables for use with Kickstart distributions and profiles.
For more information on creating Kickstart profile variables, refer to &lt;a href="#s4-sm-system-kick-details-variables"&gt;[s4-sm-system-kick-details-variables]&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Kickstart variables are part of an infrastructure change in  to support templating in Kickstart files.
Kickstart templates are files that describe how to build Kickstart files, rather than creating specific Kickstarts.
The templates are shared by various profiles and systems that have their own variables and corresponding values.
These variables modify the templates and a template engine parses the template and variable data into a usable Kickstart file.
Cobbler uses an advanced template engine called Cheetah that provides support for templates, variables, and snippets.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Advantages of using templates include:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Robust features that allow administrators to create and manage large amounts of profiles or systems without duplication of effort or manually creating Kickstarts for every unique situation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;While templates can become complex and involve loops, conditionals and other enhanced features and syntax, you can also create simpler Kickstart files without such complexity.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.templates.usage"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.templates.usage"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.templates.usage"&gt;Using Templates&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Kickstart templates can have static values for certain common items such as PXE image file names, subnet addresses, and common paths such as &lt;code class="path"&gt;/etc/sysconfig/network-scripts/&lt;/code&gt;.
However, templates differ from standard Kickstart files in their use of variables.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For example, a standard Kickstart file may have a networking section similar to this:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;network --device=eth0 --bootproto=static --ip=192.168.100.24 \
  --netmask=255.255.255.0 --gateway=192.168.100.1 --nameserver=192.168.100.2&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In a Kickstart template file, the networking section would look like this instead:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;network --device=$net_dev --bootproto=static --ip=$ip_addr \
  --netmask=255.255.255.0 --gateway=$my_gateway --nameserver=$my_nameserver&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;These variables are substituted with the values set in your Kickstart profile variables or in your system detail variables.
If the same variable is defined in both the profile and the system detail, then the system detail variable takes precedence.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The template for the autoinstallation has syntax rules which relies on punctuation symbols.
To avoid clashes, they need to be properly treated.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;In case the autoinstallation scenario contains any shell script using variables like &lt;code&gt;$(example)&lt;/code&gt;, its content should be escaped by using the backslash symbol: &lt;code&gt;\$(example)&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If the variable named &lt;code&gt;example&lt;/code&gt; is defined in the autoinstallation snippet, the templating engine will evaluate &lt;code&gt;$example&lt;/code&gt; with its content.
If there is no such variable, the content will be left unchanged.
Escaping the &lt;kbd&gt;$&lt;/kbd&gt; symbol will prevent the templating engine from evaluating the symbol as an internal variable.
Long scripts or strings can be escaped by wrapping them with the &lt;code&gt;\#raw&lt;/code&gt; and &lt;code&gt;\#end raw&lt;/code&gt; directives.
For example:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;#raw
#!/bin/bash
for i in {0..2}; do
 echo "$i - Hello World!"
done
#end raw&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Also, pay attention to scenarios like this:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;#start some section (this is a comment)
echo "Hello, world"
#end some section (this is a comment)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Any line with a &lt;kbd&gt;</mark>&lt;/kbd&gt; symbol followed by a whitespace is treated as a comment and is therefore not evaluated.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For more information about Kickstart templates, refer to the Cobbler project page at:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;a href="https://fedorahosted.org/cobbler/wiki/KickstartTemplating" class="bare"&gt;<a href="https://fedorahosted.org/cobbler/wiki/KickstartTemplating&lt;/a&gt;&lt;/p&gt" class="bare">https://fedorahosted.org/cobbler/wiki/KickstartTemplating&lt;/a&gt;&lt;/p&gt</a>;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.templates.snippets"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.templates.snippets"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.templates.snippets"&gt;Kickstart Snippets&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you have common configurations across all Kickstart templates and profiles, you can use the Snippets feature of Cobbler to take advantage of code reuse.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Kickstart snippets are sections of Kickstart code that can be called by a &lt;code class="option"&gt;$SNIPPET()&lt;/code&gt; function that will be parsed by Cobbler and substituted with the contents of the snippet.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For example, you might have a common hard drive partition configuration for all servers, such as:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;clearpart --all
part /boot --fstype ext3 --size=150 --asprimary
part / --fstype ext3 --size=40000 --asprimary
part swap --recommended</p>
</div>
<div class="paragraph">
<p>part pv.00 --size=1 --grow</p>
</div>
<div class="paragraph">
<p>volgroup vg00 pv.00
logvol /var --name=var vgname=vg00 --fstype ext3 --size=5000&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Save this snippet of the configuration to a file like &lt;code class="path"&gt;my_partition&lt;/code&gt; and place the file in &lt;code class="path"&gt;/var/lib/cobbler/snippets/&lt;/code&gt;, where Cobbler can access it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Use the snippet by calling the &lt;code class="option"&gt;$SNIPPET()&lt;/code&gt; function in your Kickstart templates.
For example:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;$SNIPPET('my_partition')&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Wherever you invoke that function, the Cheetah parser will substitute the function with the snippet of code contained in the &lt;code class="path"&gt;my_partition&lt;/code&gt; file.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.koan"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.koan"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.koan"&gt;Using Koan&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Whether you are provisioning guests on a virtual machine or reinstalling a new distribution on a running system, Koan works in conjunction with Cobbler to provision systems.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.koan.virt"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.koan.virt"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.koan.virt"&gt;Using Koan to Provision Virtual Systems&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you have created a virtual machine profile as documented in &lt;a href="#advanced.topics.cobbler.addprofile"&gt;Adding a Profile to Cobbler&lt;/a&gt;, you can use &lt;code class="command"&gt;koan&lt;/code&gt; to initiate the installation of a virtual guest on a system.
For example, create a Cobbler profile with the following command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;cobbler add profile --name=virtualfileserver \
  --distro=sles12-x86_64-server --virt-file-size=20 --virt-ram=1000&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This profile is for a fileserver running SUSE Linux Enterprise Server&#160;12 with a 20&#160;GB guest image size and allocated 1&#160;GB of system RAM.
To find the name of the virtual guest system profile, use the &lt;code class="command"&gt;koan&lt;/code&gt; command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;koan --server=hostname --list-profiles&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This command lists all the available profiles created with &lt;code class="command"&gt;cobbler profile add&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Create the image file, and begin installation of the virtual guest system:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;koan --virt --server=cobbler-server.example.com \
  --profile=virtualfileserver --virtname=marketingfileserver&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This command specifies that a virtual guest system be created from the Cobbler server (hostname &lt;code class="server"&gt;cobbler-server.example.com&lt;/code&gt;) using the &lt;code&gt;virtualfileserver&lt;/code&gt; profile.
The &lt;code class="option"&gt;virtname&lt;/code&gt; option specifies a label for the virtual guest, which by default is the system&#8217;s MAC address.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once the installation of the virtual guest is complete, it can be used as any other virtual guest system.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.koan.reinstall"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.koan.reinstall"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.koan.reinstall"&gt;Using Koan to Reinstall Running Systems&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;&lt;code class="command"&gt;koan&lt;/code&gt; can replace a still running system with a new installation from the available Cobbler profiles by executing the following command &lt;em&gt;on the system to be reinstalled&lt;/em&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;koan --replace-self --server=hostname --profile=name&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This command, running on the system to be replaced, will start the provisioning process and replace the system with the profile in &lt;code class="option"&gt;--profile=name&lt;/code&gt; on the Cobbler server specified in &lt;code class="option"&gt;--server=hostname&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.buildiso"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.buildiso"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.buildiso"&gt;Building ISOs with Cobbler&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Some environments might lack PXE support.
The Cobbler &lt;code class="command"&gt;buildiso&lt;/code&gt; command creates a ISO boot image containing a set of distributions and kernels, and a menu similar to PXE network installations.
Define the name and output location of the boot ISO using the &lt;code class="option"&gt;--iso&lt;/code&gt; option.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;ISO Build Directory&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Depending on Cobbler-related systemd settings (see &lt;code class="path"&gt;/usr/lib/systemd/system/cobblerd.service&lt;/code&gt;) writing ISO images to public &lt;code class="path"&gt;tmp&lt;/code&gt; directories will not work.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;cobbler buildiso --iso=/path/to/boot.iso&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The boot ISO includes all profiles and systems by default.
Limit these profiles and systems using the &lt;code class="option"&gt;--profiles&lt;/code&gt; and &lt;code class="option"&gt;--systems&lt;/code&gt; options.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;cobbler buildiso --systems="system1,system2,system3" \
  --profiles="profile1,profile2,profile3"&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Building ISOs with the &lt;code class="command"&gt;cobbler buildiso&lt;/code&gt; command is supported for all architectures except the {zsystems} architecture.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.cobbler.baremetal"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.baremetal"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.baremetal"&gt;Bare Metal Provisioning&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Systems that have not yet been provisioned are called bare metal systems.
You can provision bare metal systems using Cobbler.
Once a bare metal system has been provisioned in this way, it will appear in the &lt;code class="guilabel"&gt;Systems&lt;/code&gt; list, where you can perform regular provisioning with autoinstallation, for a completely unattended installation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.baremetal.requirements"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.baremetal.requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.baremetal.requirements"&gt;Bare Metal Provisioning System Requirements&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To successfully provision a bare metal system, you will require a fully patched  server, version 2.1 or higher.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The system to be provisioned must have x86_64 architecture, with at least 1&#160;GB RAM, and be capable of PXE booting.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The server uses TFTP to provision the bare metal client, so the appropriate port and networks must be configured correctly in order for provisioning to be successful. In particular, ensure that you have a DHCP server, and have set the &lt;code class="option"&gt;next-server&lt;/code&gt; parameter to the  server IP address or hostname.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.baremetal.enabling"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.baremetal.enabling"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.baremetal.enabling"&gt;Enabling Bare Metal Systems Management&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Bare metal systems management can be enabled or disabled in the WebUI by clicking &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Admin&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;SUSE Manager Configuration&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Bare-metal systems&lt;/b&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;New systems are added to the organization of the administrator who enabled the bare metal systems management feature. To change the organization, log in as an Administrator of the required organization, and re-enable the feature.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once the feature has been enabled, any bare metal system connected to the server network will be automatically added to the organization when it is powered on.
The process can take a few minutes, and the system will automatically shut down once it is complete.
After the reboot, the system will appear in the &lt;code class="guilabel"&gt;Systems&lt;/code&gt; list.
Click on the name of the system to see basic information, or go to the &lt;code class="guilabel"&gt;Properties&lt;/code&gt;, &lt;code class="guilabel"&gt;Notes&lt;/code&gt;, and &lt;code class="guilabel"&gt;Hardware&lt;/code&gt; tabs for more details.
You can migrate bare metal systems to other organizations if required, using the &lt;code class="guilabel"&gt;Migrate&lt;/code&gt; tab.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.baremetal.provisioning"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.baremetal.provisioning"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.baremetal.provisioning"&gt;Provisioning Bare Metal Systems&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Provisioning bare metal systems is similar to provisioning other systems, and can be done using the &lt;code class="guilabel"&gt;Provisioning&lt;/code&gt; tab.
However, you will not be able to schedule provisioning, it will happen automatically as soon as the system is configured and powered on.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Bare Metal and System Set Manager&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;System Set Manager can be used with bare metal systems, although not all features will be available, because bare metal systems do not have an operating system installed.
This limitation also applies to mixed sets that contain bare metal systems; all features will be re-enabled if the bare metal systems are removed from the set.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="advanced.topics.cobbler.baremetal.troubleshooting"&gt;&lt;a class="anchor" href="#advanced.topics.cobbler.baremetal.troubleshooting"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.cobbler.baremetal.troubleshooting"&gt;Troubleshooting Bare Metal Systems&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If a bare metal system on the network is not automatically added to the &lt;code class="guilabel"&gt;Systems&lt;/code&gt; list, check these things first:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;You must have the &lt;code class="path"&gt;pxe-default-image&lt;/code&gt; package installed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;File paths and parameters must be configured correctly. Check that the &lt;code class="path"&gt;vmlinuz0&lt;/code&gt; and &lt;code class="path"&gt;initrd0.img&lt;/code&gt; files, which are provided by &lt;code class="path"&gt;pxe-default-image&lt;/code&gt;, are in the locations specified in the &lt;code class="path"&gt;rhn.conf&lt;/code&gt; configuration file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ensure the networking equipment connecting the bare metal system to the  server is working correctly, and that you can reach the  server IP address from the server.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The bare metal system to be provisioned must have PXE booting enabled in the boot sequence, and must not be attempting to boot an operating system.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The DHCP server must be responding to DHCP requests during boot. Check the PXE boot messages to ensure that:&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;the DHCP server is assigning the expected IP address&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;the DHCP server is assigning the the  server IP address as &lt;code class="option"&gt;next-server&lt;/code&gt; for booting.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ensure Cobbler is running, and that the Discovery feature is enabled.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you see a blue Cobbler menu shortly after booting, discovery has started.
If it does not complete successfully, temporarily disable automatic shutdown in order to help diagnose the problem. To disable automatic shutdown:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Select &lt;code class="option"&gt;pxe-default-profile&lt;/code&gt; in the Cobbler menu with the arrow keys, and press the Tab key before the timer expires.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the kernel boot parameter &lt;code class="option"&gt;spacewalk-finally=running&lt;/code&gt; using the integrated editor, and press Enter to continue booting.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enter a shell with the username &lt;code class="option"&gt;root&lt;/code&gt; and password &lt;code class="option"&gt;linux&lt;/code&gt; to continue debugging.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Duplicate profiles&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Due to a technical limitation, it is not possible to reliably distinguish a new bare metal system from a system that has previously been discovered.
Therefore, we recommended that you do not power on bare metal systems multiple times, as this will result in duplicate profiles.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.autoinstall"&gt;Autoinstalling {vmguest} s&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.autoinstall.req_mgr"&gt;Requirements on &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.autoinstall.req_vmhost"&gt;{vmhost} Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.autoinstall.installation"&gt;Autoinstalling {vmguest} s&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.vmguest-manage"&gt;Managing {vmguest} s&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.vmguest-manage.details"&gt;Displaying a {vmguest} 's Profile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.vmguest-manage.status"&gt;Starting, Stopping, Suspending and Resuming a {vmguest}&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_changing_the_cpu_or_ram_allocation_of_a_vmguest"&gt;Changing the CPU or RAM allocation of a {vmguest}&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sec.virtualization.vmguest-manage.delete"&gt;Deleting a {vmguest}&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id="preamble"&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; allows you to autoinstall and manage {xen} and {kvm}{vmguest}s on a registered {vmhost}.
To autoinstall a {vmguest}, an autoinstallable distribution and an autoinstallation profile (AutoYaST or Kickstart) need to exist on .
{vmguest}s registered with  can be managed like &#8220;regular&#8221; machines.
In addition, basic {vmguest}management tasks such as (re)starting and stopping or changing processor and memory allocation can be carried out using .&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following documentation is valid in the context of traditional clients.
Salt minions must be treated differently:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Autoinstallation is still not supported and libvirt hosts are supported as read-only.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Limitation to Xen and KVM Guests&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Autoinstalling and managing {vmguest}s via  is limited to {xen} and {kvm} guests.
 uses &lt;code class="library"&gt;libvirt&lt;/code&gt; for virtual machine management.
Currently, virtual machines from other virtualization solutions such as VMware* or VirtualBox*, are recognized as {vmguest}s, but cannot be managed from within .&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="sec.virtualization.autoinstall"&gt;&lt;a class="anchor" href="#sec.virtualization.autoinstall"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualization.autoinstall"&gt;Autoinstalling {vmguest} s&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;With  you can automatically deploy {xen} and {kvm} {vmguest}s using AutoYaST or Kickstart profiles.
It is also possible to automatically register the {vmguest}s, so they can immediately be managed by .&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="sec.virtualization.autoinstall.req_mgr"&gt;&lt;a class="anchor" href="#sec.virtualization.autoinstall.req_mgr"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualization.autoinstall.req_mgr"&gt;Requirements on &lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Setting up and managing {vmguest}
s with
does not require special configuration options.
However, you need to provide activation keys for the {vmhost}
and the {vmguest}
s, an autoinstallable distribution and an autoinstallation profile.
To automatically register {vmguest}
s with
, a bootstrap script is needed.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="sec.virtualzation.autoinstall.req-mgr.keys"&gt;&lt;a class="anchor" href="#sec.virtualzation.autoinstall.req-mgr.keys"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualzation.autoinstall.req-mgr.keys"&gt;Activation Keys&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Just like any other client, {vmhost}
and {vmguest}
s need to be registered with
using activation keys.
Find details on how to set up activation keys at &lt;a href="#create.act.keys"&gt;[create.act.keys]&lt;/a&gt;.
While there are no special requirements for a {vmguest}
 key, at least the following requirements must be met for the {vmhost}
 activation key.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;{vmhost}Activation Key: Minimum Requirements&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Entitlements: Provisioning, Virtualization Platform.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Packages: &lt;code class="resource"&gt;rhn-virtualization-host&lt;/code&gt; , &lt;code class="resource"&gt;osad&lt;/code&gt; .&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you want to manage the {vmhost}
system from
(e.g.
by executing remote scripts), the package &lt;code class="resource"&gt;rhncfg-actions&lt;/code&gt;
needs to be installed as well.&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="sec.virtualzation.autoinstall.req-mgr.inst-source"&gt;&lt;a class="anchor" href="#sec.virtualzation.autoinstall.req-mgr.inst-source"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualzation.autoinstall.req-mgr.inst-source"&gt;Setting up an Autoinstallable Distribution&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To autoinstall clients from
, you need to provide an &#8220;autoinstallable distribution&#8221;
, also referred to as autoinstallable tree or installation source.
This installation source needs to be made available through the file system of the
 host.
It can for example be a mounted local or remote directory or a &#8220;loop-mounted&#8221;
 ISO image.
It must match the following requirements:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Kernel and initrd location:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;RedHat / Generic RPM&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;images/pxeboot/vmlinuz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;images/pxeboot/initrd.img&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;SUSE&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;boot/&lt;code class="replaceable"&gt;arch&lt;/code&gt;/loader/initrd&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;boot/&lt;code class="replaceable"&gt;arch&lt;/code&gt;/loader/linux&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The &lt;b class="menuref"&gt;Base Channel&lt;/b&gt; needs to match the autoinstallable distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Autoinstallation package sources&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;There is a fundamental difference between RedHat and SUSE
systems regarding the package sources for autoinstallation.
The packages for a RedHat installation are being fetched from the &lt;b class="menuref"&gt;Base Channel&lt;/b&gt;
.
Packages for installing SUSE
 systems are being fetched from the autoinstallable distribution.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;As a consequence, the autoinstallable distribution for a SUSE
system has to be a complete installation source (same as for a regular installation).&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Creating Autoinstallable Distribution&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Make sure an installation source is available from a local directory. The data source can be any kind of network resource, a local directory or an ISO image (which has to be &#8220;loop-mounted&#8221; ). Files and directories must be world readable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Log in to the  WebUI} and navigate to &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Autoinstallation&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Distributions&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Create Distribution&lt;/b&gt;&lt;/span&gt; .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fill out the form &lt;b class="menuref"&gt;Create Autoinstallable Distribution&lt;/b&gt; as follows:&lt;/p&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;&lt;b class="menuref"&gt;Distribution Label&lt;/b&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Choose a unique name for the distribution.
Only letters, numbers, hyphens, periods, and underscores are allowed; the minimum length is 4 characters.
This field is mandatory.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;b class="menuref"&gt;Tree Path&lt;/b&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Absolute local disk path to installation source.
This field is mandatory.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;b class="menuref"&gt;Base Channel&lt;/b&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Channel matching the installation source.
This channel is the package source for non-SUSE
installations.
This field is mandatory.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;b class="menuref"&gt;Installer Generation&lt;/b&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Operating system version matching the installation source.
This field is mandatory.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;b class="menuref"&gt;Kernel Options&lt;/b&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Options passed to the kernel when booting for the installation.
There is no need to specify the &lt;code class="option"&gt;install=&lt;/code&gt; parameter since it will automatically be added.
Moreover, the parameters &lt;code class="option"&gt;self_update=0 pt.options=self_update&lt;/code&gt; are added automatically to prevent AutoYaST from updating itself during the system installation.
This field is optional.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;&lt;b class="menuref"&gt;Post Kernel Options&lt;/b&gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Options passed to the kernel when booting the installed system for the first time.
This field is optional.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Save your settings by clicking &lt;b class="menuref"&gt;Create Autoinstallable Distribution&lt;/b&gt; .&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To edit an existing &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Autoinstallable Distribution&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;]
, go to <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Autoinstallation&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menuitem"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Distributions&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">and click on a &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Label&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
.
Make the desired changes and save your settings by clicking <span class="menuseq"><b class="menu">Update Autoinstallable Distribution</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect3"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h4 id="sec.virtualzation.autoinstall.req-mgr.profile"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#sec.virtualzation.autoinstall.req-mgr.profile"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#sec.virtualzation.autoinstall.req-mgr.profile"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Providing an Autoinstallation Profile&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h4</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Autoinstallation profiles (AutoYaST
or Kickstart
files) contain all the installation and configuration data needed to install a system without user intervention.
They may also contain scripts that will be executed after the installation has completed.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">All profiles can be uploaded to
and be edited afterwards.
Kickstart profiles can also be created from scratch with
.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">A minimalist AutoYaST
profile including a script for registering the client with
is listed in
&lt;a href="advanced_topics_app_ay_example.html#advanced.topics.app.ay.example-simple" class="page"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">AutoYaST Profile Example&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.
For more information, examples and HOWTOs on AutoYaST
 profiles, refer to &lt;em class="ref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SUSE Linux Enterprise AutoYaST&lt;/em</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">(&lt;a href="https://www.suse.com/documentation/sles-12/book_autoyast/data/book_autoyast.html" class="bare"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu"><a href="https://www.suse.com/documentation/sles-12/book_autoyast/data/book_autoyast.html&lt;/a" class="bare">https://www.suse.com/documentation/sles-12/book_autoyast/data/book_autoyast.html&lt;/a</a></b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">). For more information on Kickstart
 profiles, refer to your RedHat documentation.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect3"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h4 id="_suse_linux_enterprise_15_systems"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#_suse_linux_enterprise_15_systems"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#_suse_linux_enterprise_15_systems"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SUSE Linux Enterprise 15 Systems&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h4</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">You need the installation media to setup the distribution.  Starting with version 15, there is only one installation media.  You will use the same one for SLES, SLED, and all the other SUSE Linux Enterprise 15 based products.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">In the AutoYaST profile specify which product is to be installed.
For installing SUSE Linux Enterprise Server use the following snippet in &lt;code class="path"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">autoyast.xml&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="listingblock"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;products config:type="list"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;listentry</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLES&lt;/listentry</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/products</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/pre</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Then then specify all the required modules as &lt;code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">add-on&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">in &lt;code class="path"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">autoyast.xml&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">. This is a minimal &lt;code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Product-SLES15-Pool&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">selection that will result in a working
installation and can be managed by :&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="ulist"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Manager-Tools15-Pool&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Manager-Tools15-Updates&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Module-Basesystem15-Pool&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Module-Basesystem15-Updates&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Product-SLES15-Updates&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">It is also recommended to add the following modules:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="ulist"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Module-Server-Applications15-Pool&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">SLE-Module-Server-Applications15-Updates&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect4"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h5 id="sec.virtualzation.autoinstall.req-mgr.profile.upload"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#sec.virtualzation.autoinstall.req-mgr.profile.upload"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#sec.virtualzation.autoinstall.req-mgr.profile.upload"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Uploading an Autoinstallation Profile&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h5</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Log in to the  Web interface and open &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="submenu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Autoinstallation&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="submenu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Profiles&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menuitem"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Upload New Kickstart/AutoYaST File&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose a unique name for the profile. Only letters, numbers, hyphens, periods, and underscores are allowed; the minimum length is 6 characters. This field is mandatory.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose an &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Autoinstallable Tree&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span> from the drop-down menu. If no <span class="menuseq"><b class="menu">Autoinstallable Tree</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">is available, you need to add an Autoinstallable Distribution. Refer to &lt;a href="#sec.virtualzation.autoinstall.req-mgr.inst-source"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Setting up an Autoinstallable Distribution&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">for instructions.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose a &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization Type&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span> from the drop-down menu. {kvm} and {xen} (para-virtualized and fully-virtualized) are available. Do not choose <span class="menuseq"><b class="menu">Xen Virtualized Host</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">here.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Scroll down to the &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">File to Upload&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="submenu"</b></span> dialog&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;click <span class="menuseq"><b class="menu">Browse</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">to select it, then click &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Upload File&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">The uploaded file will be displayed in the &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">File Contents&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">section, where you can edit it.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Click &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Create&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">to store the profile.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ol</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">To edit an existing profile, go to &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="submenu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Autoinstallation&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menuitem"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Profiles&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">and click on a &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Label&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
.
Make the desired changes and save your settings by clicking <span class="menuseq"><b class="menu">Create</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="admonitionblock note"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="icon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;i class="fa icon-note" title=":information_source:"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Editing existing Kickstartprofiles&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">If you are changing the &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization Type&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="submenu"</b></span>
 of an existing Kickstart
 profile&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;it may also modify the bootloader and partition options&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;potentially overwriting any user customizations.
Be sure to review the <span class="menuseq"><b class="menu">Partitioning</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">tab to verify these settings when changing the &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization Type&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect4"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h5 id="sec.virtualzation.autoinstall.req-mgr.profile.generate"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#sec.virtualzation.autoinstall.req-mgr.profile.generate"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#sec.virtualzation.autoinstall.req-mgr.profile.generate"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Creating a Kickstart Profile&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h5</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="admonitionblock note"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="icon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;i class="fa icon-note" title=":information_source:"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Currently it is only possible to create autoinstallation profiles for RHEL systems.
If installing a SUSE Linux Enterprise Server
system, you need to upload an existing AutoYaST
profile as described in &lt;a href="#sec.virtualzation.autoinstall.req-mgr.profile.upload"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Uploading an Autoinstallation Profile&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div id="pro.at.virtualzation.autoinstall.ks.profile.generate" class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Log in to the  Web interface and go to &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="submenu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Autoinstallation&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="submenu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Profiles&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menuitem"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Create New Kickstart File&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose a unique name for the profile. The minimum length is 6 characters. This field is mandatory.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose a &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Base Channel&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span> . This channel is the package source for non-SUSE installations and must match the <span class="menuseq"><b class="menu">Autoinstallable Tree</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">. This field is mandatory.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose an &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Autoinstallable Tree&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span> from the drop-down menu. If no <span class="menuseq"><b class="menu">Autoinstallable Tree</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">is available, you need to add an Autoinstallable Distribution. Refer to &lt;a href="#sec.virtualzation.autoinstall.req-mgr.inst-source"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Setting up an Autoinstallable Distribution&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">for instructions.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose a &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization Type&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span> from the drop-down menu. {kvm} and {xen} (para-virtualized and fully-virtualized) are available. Do not choose <span class="menuseq"><b class="menu">Xen Virtualized Host</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">here.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Click the &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Next&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">button.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Select the location of the distribution files for the installation of your {vmguest} s. There should already be a &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Default Download Location&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span> filled out and selected for you on this screen. Click the <span class="menuseq"><b class="menu">Next</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">button.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Choose a {rootuser} password for the {vmguest} s. Click the &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Finish&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">button to generate the profile.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">This completes Kickstart profile creation.
After generating a profile, you are taken to the newly-created Kickstart profile.
You may browse through the various tabs of the profile and modify the settings as you see fit, but this is not necessary as the default settings should work well for the majority of cases.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ol</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect4"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h5 id="sec.virtualzation.autoinstall.req-mgr.profile.scripts"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#sec.virtualzation.autoinstall.req-mgr.profile.scripts"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#sec.virtualzation.autoinstall.req-mgr.profile.scripts"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Adding a Registration Script to the Autoinstallation Profile&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h5</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">A {vmguest}
that is autoinstalled does not get automatically registered.
Adding a section to the autoinstallation profile that invokes a bootstrap script for registration will fix this.
The following procedure describes adding a corresponding section to an AutoYaST
profile.
Refer to your RedHat Enterprise Linux documentation for instructions on adding scripts to a Kickstart
file.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="olist arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ol class="arabic"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">First, provide a bootstrap script on the  :&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="ulist"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Create a bootstrap script for {vmguest} s on the  as described in &lt;a href="#generate.bootstrap.script"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">[generate.bootstrap.script</b></span>&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Log in as {rootuser} to the konsole of  and go to &lt;code class="path"&gt;/srv/www/htdocs/pub/bootstrap&lt;/code&gt; . Copy &lt;code class="path"&gt;bootstrap.sh&lt;/code&gt; (the bootstrap script created in the previous step) to e.g. &lt;code class="path"&gt;bootstrap_vm_guests.sh&lt;/code&gt; in the same directory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit the newly created file according to your needs. The minimal requirement is to include the activation key for the {vmguest} s (see &lt;a href="#sec.virtualzation.autoinstall.req-mgr.keys"&gt;Activation Keys&lt;/a&gt; for details). We strongly recommend to also include one or more GPG keys (for example, your organization key and package signing keys).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Log in to the  Web interface and go to &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Autoinstallation&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Profiles&lt;/b&gt;&lt;/span&gt; . Click on the profile that is to be used for autoinstalling the {vmguest} s to open it for editing.&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Scroll down to the &lt;b class="menuref"&gt;File Contents&lt;/b&gt;
section where you can edit the AutoYaST
XML file.
Add the following snippet at the end of the XML file right before the closing &lt;code&gt;&lt;/profile&gt;&lt;/code&gt; tag and replace the given IP address with the address of the
server.
See &lt;a href="#advanced.topics.app.ay.example-simple"&gt;[advanced.topics.app.ay.example-simple]&lt;/a&gt;for an example script.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;scripts&gt;
  &lt;init-scripts config:type="list"&gt;
    &lt;script&gt;
      &lt;interpreter&gt;shell &lt;/interpreter&gt;
      &lt;location&gt;
        http://<code>192.168.1.1</code>/pub/bootstrap/bootstrap_vm_guests.sh
      &lt;/location&gt;
    &lt;/script&gt;
  &lt;/init-scripts&gt;
&lt;/scripts&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Only one &lt;code&gt;&lt;scripts&gt;&lt;/code&gt; section allowed&lt;/div&gt;
If your AutoYaST
profile already contains a &lt;code&gt;&lt;scripts&gt;&lt;/code&gt; section, do not add a second one, but rather place the &lt;code&gt;&lt;script&gt;&lt;/code&gt; part above within the existing &lt;code&gt;&lt;scripts&gt;&lt;/code&gt; section!
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;b class="menuref"&gt;Update&lt;/b&gt; to save the changes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="sec.virtualization.autoinstall.req_vmhost"&gt;&lt;a class="anchor" href="#sec.virtualization.autoinstall.req_vmhost"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualization.autoinstall.req_vmhost"&gt;{vmhost} Setup&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A {vmhost}
system serving as a target for autoinstalling {vmguest}
s from
must be capable of running guest operating systems.
This requires either {kvm}
or {xen}
being properly set up.
For installation instructions for SUSE Linux Enterprise Server
systems refer to the &lt;em class="ref"&gt;SLES Virtualization Guide&lt;/em&gt;
 available from &lt;a href="https://www.suse.com/documentation/sles-12/book_virt/data/book_virt.html" class="bare"&gt;<a href="https://www.suse.com/documentation/sles-12/book_virt/data/book_virt.html&lt;/a&gt" class="bare">https://www.suse.com/documentation/sles-12/book_virt/data/book_virt.html&lt;/a&gt</a>;.
For instructions on setting up a RedHat {vmhost}
 refer to your RedHat Enterprise Linux documentation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Since
uses &lt;code class="library"&gt;libvirt&lt;/code&gt;
 for {vmguest}
 installation and management, the &lt;code class="daemon"&gt;libvirtd&lt;/code&gt;
 needs to run on the {vmhost}
.
The default &lt;code class="library"&gt;libvirt&lt;/code&gt;
 configuration is sufficient to install and manage {vmguest}
s from
.
However, in case you want to access the VNC console of a {vmguest}
 as a non-{rootuser}
 user, you need to configure &lt;code class="library"&gt;libvirt&lt;/code&gt;
 appropriately.
Configuration instructions for &lt;code class="library"&gt;libvirt&lt;/code&gt;
 on SUSE Linux Enterprise Server
 are available in the &lt;em class="ref"&gt;SLES Virtualization
    Guide&lt;/em&gt;
 available from &lt;a href="https://www.suse.com/documentation/sles-12/book_virt/data/book_virt.html" class="bare"&gt;<a href="https://www.suse.com/documentation/sles-12/book_virt/data/book_virt.html&lt;/a&gt" class="bare">https://www.suse.com/documentation/sles-12/book_virt/data/book_virt.html&lt;/a&gt</a>; available from &lt;a href="http://www.suse.com/documentation/sles11/" class="bare"&gt;<a href="http://www.suse.com/documentation/sles11/&lt;/a&gt" class="bare">http://www.suse.com/documentation/sles11/&lt;/a&gt</a>;.
For instructions for a RedHat {vmhost}
 refer to your RedHat Enterprise Linux documentation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Apart from being able to serve as a host for {kvm}
or {xen}
guests, which are managed by &lt;code class="library"&gt;libvirt&lt;/code&gt;
, a {vmhost}
 must be registered with
.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Make sure either {kvm} or {xen} is properly set up.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure the &lt;code class="daemon"&gt;libvirtd&lt;/code&gt; is running.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Register the {vmhost} with  :&lt;/p&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Create a bootstrap script on the  as described in &lt;a href="#generate.bootstrap.script"&gt;[generate.bootstrap.script]&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Download the bootstrap script from &lt;code&gt;susemanager.example.com/pub/bootstrap/bootstrap.sh&lt;/code&gt; to the {vmhost} .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit the bootstrap script according to your needs. The minimal requirement is to include the activation key for the {vmhost} (see &lt;a href="#sec.virtualzation.autoinstall.req-mgr.keys"&gt;Activation Keys&lt;/a&gt; for details). We strongly recommend to also include one or more GPG keys (for example, your organization key and package signing keys).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Execute the bootstrap script to register the {vmhost} .&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="sec.virtualization.autoinstall.req_vmhost.salt"&gt;&lt;a class="anchor" href="#sec.virtualization.autoinstall.req_vmhost.salt"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualization.autoinstall.req_vmhost.salt"&gt;{vmhost} setup on Salt clients&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If the {vmhost} is registered as a Salt minion, a final configuration step is needed in order to gather all the guest VMs defined on the {vmhost}:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;System Details&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Properties&lt;/b&gt;&lt;/span&gt; page, enable the &lt;code class="guimenu"&gt;Add-on System Type&lt;/code&gt; &lt;code&gt;Virtualization Host&lt;/code&gt; and confirm with &lt;b class="button"&gt;Update Properties&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Schedule a Hardware Refresh. On the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;System Details&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Hardware&lt;/b&gt;&lt;/span&gt; page click &lt;b class="button"&gt;Schedule Hardware Refresh&lt;/b&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect3"&gt;
&lt;h4 id="sec.virtualization.autoinstall.req_vmhost.traditional"&gt;&lt;a class="anchor" href="#sec.virtualization.autoinstall.req_vmhost.traditional"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualization.autoinstall.req_vmhost.traditional"&gt;{vmhost} setup on Traditional clients&lt;/a&gt;&lt;/h4&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once the registration process is finished and all packages have been installed, enable the &lt;code class="daemon"&gt;osad&lt;/code&gt;
(Open Source Architecture Daemon). On a SUSE Linux Enterprise Server
system this can be achieved by running the following commands as user {rootuser}
:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl stop rhnsd
systemctl disable rhnsd&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;systemctl enable osad
systemctl start osad&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;&lt;code class="daemon"&gt;osad&lt;/code&gt;Together with &lt;code class="daemon"&gt;rhnsd&lt;/code&gt;&lt;/div&gt;
The &lt;code class="daemon"&gt;rhnsd&lt;/code&gt;
 daemon checks for scheduled actions every four hours, so it can take up to four hours before a scheduled action is carried out.
If many clients are registered with
, this long interval ensures a certain level of load balancing since not all clients act on a scheduled action at the same time.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;However, when managing {vmguest}
s, you usually want actions like rebooting a {vmguest}
to be carried out immediately. Adding &lt;code class="daemon"&gt;osad&lt;/code&gt;
 ensures that.
The &lt;code class="daemon"&gt;osad&lt;/code&gt;
 daemon receives commands over the jabber protocol from
 and commands are instantly executed.
Alternatively you may schedule actions to be carried out at a fixed time in the future (whereas with &lt;code class="daemon"&gt;rhnsd&lt;/code&gt;
 you can only schedule for a time in the future plus up to four hours).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="sec.virtualization.autoinstall.installation"&gt;&lt;a class="anchor" href="#sec.virtualization.autoinstall.installation"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualization.autoinstall.installation"&gt;Autoinstalling {vmguest} s&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Once all requirements on the
and the {vmhost}
are met, you can start to autoinstall {vmguest}
s on the host.
Note that {vmguest}
s will not be automatically registered with
, therefore we strongly recommend to modify the autoinstallation profile as described in &lt;a href="#sec.virtualzation.autoinstall.req-mgr.profile.scripts"&gt;Adding a Registration Script to the Autoinstallation Profile&lt;/a&gt;. {vmguest}
s need to be registered to manage them with
.
Proceed as follows to autoinstall a {vmguest}
;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;No parallel Autoinstallations on {vmhost}&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;It is not possible to install more than one {vmguest}
at a time on a single {vmhost}
.
When scheduling more than one autoinstallation with
make sure to choose a timing, that starts the next installation after the previous one has finished.
If a guest installation starts while another one is still running, the running installation will be cancelled.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Log in to the  Web interface and click the &lt;b class="menuref"&gt;Systems&lt;/b&gt; tab.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click the {vmhost} 's name to open its &lt;b class="menuref"&gt;System Status&lt;/b&gt; page.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open the form for creating a new {vmguest} by clicking &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Virtualization&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Provisioning&lt;/b&gt;&lt;/span&gt; . Fill out the form by choosing an autoinstallation profile and by specifying a name for the {vmguest} (must not already exist on {vmhost} ). Choose a proxy if applicable and enter a schedule. To change the {vmguest} 's hardware profile and configuration options, click &lt;b class="menuref"&gt;Advanced Options&lt;/b&gt; .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finish the configuration by clicking &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Schedule Autoinstallation and Finish&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;] . The <span class="menuseq"><b class="menu">Session Status</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">page opens for you to monitor the autoinstallation process.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ol</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="admonitionblock note"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="icon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;i class="fa icon-note" title=":information_source:"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Checking the Installation Log&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">To view the installation log, click &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Events&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menuitem"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">History&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">on the &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Session Status&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
 page.
On the <span class="menuseq"><b class="menu">System History Event</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">page you can click a &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Summary&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">entry to view a detailed log.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">In case an installation has failed, you can &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Reschedule&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">it from this page once you have corrected the problem.
You do not have to configure the installation again.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">If the event log does not contain enough information to locate a problem, log in to the {vmhost}
console and read the log file &lt;code class="path"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">/var/log/up2date&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.
If you are using the &lt;code class="daemon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">rhnsd&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">, you may alternatively immediately trigger any scheduled actions by calling &lt;code class="command"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">rhn_ckeck&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">on the {vmhost}
.
Increase the command&#8217;s verbosity by using the options &lt;code class="option"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">-v&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">, &lt;code class="option"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">-vv&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">, or &lt;code class="option"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">-vvv&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">, respectively.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect1"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h2 id="sec.virtualization.vmguest-manage"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#sec.virtualization.vmguest-manage"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#sec.virtualization.vmguest-manage"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Managing {vmguest} s&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h2</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sectionbody"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Basic {vmguest}
management actions such as restarting or shutting down a virtual machine as well as changing the CPU and memory allocation can be carried out in the
Web interface if the following requirements are met:&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="ulist"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">{vmhost} must be a {kvm} or {xen} host.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;code class="daemon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">libvirtd&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">must be running on {vmhost} .&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">{vmhost} must be registered with .&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/li</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/ul</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">In addition, if you want to see the profile of the {vmguest}, install packages, etc., you must also register it with .&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">All actions can be triggered in the  WebUI from the &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
 page of the {vmhost}
.
Navigate to this page by clicking the <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">tab.
On the resulting page, click the {vmhost}
's name and then on &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.
This page lists all {vmguest}
s for this host, known to
.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect2"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h3 id="sec.virtualization.vmguest-manage.details"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#sec.virtualization.vmguest-manage.details"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#sec.virtualization.vmguest-manage.details"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Displaying a {vmguest} 's Profile&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h3</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Click the name of a {vmguest}
on the {vmhost}
's &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">page to open its profile page with detailed information about this guest.
For details, refer to &lt;a href="#ref.webui.systems.systems"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">[ref.webui.systems.systems</b></span>&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A profile page for a virtual system does not differ from a regular system&#8217;s profile page.
You can perform the same actions (e.g.
installing software or changing its configuration).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="sec.virtualization.vmguest-manage.status"&gt;&lt;a class="anchor" href="#sec.virtualization.vmguest-manage.status"&gt;&lt;/a&gt;&lt;a class="link" href="#sec.virtualization.vmguest-manage.status"&gt;Starting, Stopping, Suspending and Resuming a {vmguest}&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To start, stop, restart, suspend, or resume a {vmguest}
, navigate to the {vmhost}
's &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Virtualization&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;]
 page.
Check one or more <span class="menuseq"><b class="menu">Guests</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">listed in the table and scroll down to the bottom of the page.
Choose an action from the drop-down list and click &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Apply Action&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
. <span class="menuseq"><b class="menu">Confirm</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">the action on the next page.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="admonitionblock note"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="icon"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;i class="fa icon-note" title=":information_source:"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;td class="content"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="title"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Automatically restarting a {vmguest}&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Automatically restarting a {vmguest}
when the {vmhost}
reboots is not enabled by default on {vmguest}
s and cannot be configured from
.
Refer to your {kvm}
or {xen}
documentation.
Alternatively, you may use &lt;code class="library"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">libvirt&lt;/code</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">to enable automatic reboots.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/td</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/tr</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/table</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect2"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h3 id="_changing_the_cpu_or_ram_allocation_of_a_vmguest"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#_changing_the_cpu_or_ram_allocation_of_a_vmguest"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#_changing_the_cpu_or_ram_allocation_of_a_vmguest"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Changing the CPU or RAM allocation of a {vmguest}&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h3</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">To change the CPU or RAM allocation of a {vmguest}
navigate to the {vmhost}
's &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Virtualization&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
 page.
Check one or more <span class="menuseq"><b class="menu">Guests</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">from the table and scroll down to the bottom of the page.
Choose an action from the &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Set&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
 drop-down list and provide a new value.
Confirm with <span class="menuseq"><b class="menu">Apply Changes</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/span</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">followed by &lt;b class="menuref"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Confirm&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">The memory allocation can be changed on the fly, provided the memory ballooning driver is installed on the {vmguest}
.
If this is not the case, or if you want to change the CPU allocation, you need to shutdown the guest first.
Refer to &lt;a href="#sec.virtualization.vmguest-manage.status"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Starting, Stopping, Suspending and Resuming a {vmguest}&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">for details.&lt;/p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/div</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="sect2"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;h3 id="sec.virtualization.vmguest-manage.delete"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="anchor" href="#sec.virtualization.vmguest-manage.delete"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;a class="link" href="#sec.virtualization.vmguest-manage.delete"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Deleting a {vmguest}&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/h3</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;div class="paragraph"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;p</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">To delete a {vmguest}
you must first shut it down as described in &lt;a href="#sec.virtualization.vmguest-manage.status"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Starting, Stopping, Suspending and Resuming a {vmguest}&lt;/a</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">.
Wait at least two minutes to allow the shutdown to finish and then choose &lt;span class="menuseq"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;b class="menu"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Delete Systems&lt;/b</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&#160;&lt;i class="fa fa-angle-right caret"</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">&lt;/i</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">&lt;b class="menuitem"</b></span>
 followed by menu:Apply Action[&lt;/b&gt;&lt;/span&gt;
 and &lt;b class="menuref"&gt;Confirm&lt;/b&gt;
.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="#_introduction"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_permissions_and_roles_overview"&gt;Permissions and Roles Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_adding_new_users_and_assigning_roles"&gt;Adding New Users and Assigning Roles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_inventorying_vcenter_vsphere_esxi_hosts"&gt;Inventorying vCenter/vSphere ESXi Hosts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_introduction"&gt;&lt;a class="anchor" href="#_introduction"&gt;&lt;/a&gt;&lt;a class="link" href="#_introduction"&gt;Introduction&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Foreign virtual hosts (such as vCenter and vSphere ESXi) can be inventoried using the &lt;code class="guimenu"&gt;Virtual Host Manager&lt;/code&gt;.
From the vSphere Client you can define roles and permissions for vCenter and vSphere ESXi users allowing vSphere objects and resources to be imported and inventoried by .
Objects and resources are then displayed as foreign hosts on the  &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Virtual Systems&lt;/b&gt;&lt;/span&gt; page.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following sections will guide you through:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Requirements&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Overview of permissions and roles&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Adding vCenter and vSphere ESXi hosts to &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_requirements"&gt;&lt;a class="anchor" href="#_requirements"&gt;&lt;/a&gt;&lt;a class="link" href="#_requirements"&gt;Requirements&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This table displays the default API communication port and required access rights for inventorying objects and resources:&lt;/p&gt;
&lt;/div&gt;
&lt;table class="tableblock frame-all grid-all spread"&gt;
&lt;colgroup&gt;
&lt;col style="width: 50%;"&gt;
&lt;col style="width: 50%;"&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class="tableblock halign-left valign-top"&gt;Ports / Permissions&lt;/th&gt;
&lt;th class="tableblock halign-left valign-top"&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;443&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;Default port that  uses to access the ESXi API for obtaining infrastructure data&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;read-only&lt;/p&gt;&lt;/td&gt;
&lt;td class="tableblock halign-left valign-top"&gt;&lt;p class="tableblock"&gt;All vCenter/ESXi objects and resources that should be inventoried by the Virtual Host Manager should be at least assigned the &lt;em&gt;read-only&lt;/em&gt; role.
Mark objects and resources with &lt;em&gt;no-access&lt;/em&gt; to exclude them from the inventory.&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_permissions_and_roles_overview"&gt;&lt;a class="anchor" href="#_permissions_and_roles_overview"&gt;&lt;/a&gt;&lt;a class="link" href="#_permissions_and_roles_overview"&gt;Permissions and Roles Overview&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This section will guide you through assigning user permissions and roles in vCenter/ESXi.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;A user is someone who has been authorized to access an ESXi host.
The Virtual Host Manager (located on the SUSE Manager server) will inventory ESXi data defined by assigned roles and permissions on a user account.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For example: The user &lt;em&gt;John&lt;/em&gt; has been assigned the &lt;em&gt;read-only&lt;/em&gt; access role to all servers and datacenters in his company with one exception.
John&#8217;s account has been assigned the &lt;em&gt;no-access&lt;/em&gt; role on the company&#8217;s &lt;em&gt;Financial Database server&lt;/em&gt;.
You decide to use John&#8217;s user account and add the ESXi host to SUSE Manager.
During the inventory the &lt;em&gt;Financial Database server&lt;/em&gt; will be excluded.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Keep user access roles in mind when planning to add ESXi hosts to SUSE manager.
Note that SUSE Manager will not inventory any objects or resources assigned with the &lt;em&gt;no-access&lt;/em&gt; role on any user account.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock tip"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-tip" title=":bulb:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;User Roles/Permissions&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When planning to add new ESXi hosts to SUSE Manager, consider if the roles and permissions assigned users require need to be inventoried by SUSE Manager.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_adding_new_users_and_assigning_roles"&gt;&lt;a class="anchor" href="#_adding_new_users_and_assigning_roles"&gt;&lt;/a&gt;&lt;a class="link" href="#_adding_new_users_and_assigning_roles"&gt;Adding New Users and Assigning Roles&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;See the official vSphere documentation on adding new users and assigning roles.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://pubs.vmware.com/vsphere-50/index.jsp#com.vmware.vsphere.security.doc_50/GUID-D7AEC653-EBC8-4573-B990-D8E58742F8ED.html"&gt;Authentication and User Management&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_inventorying_vcenter_vsphere_esxi_hosts"&gt;&lt;a class="anchor" href="#_inventorying_vcenter_vsphere_esxi_hosts"&gt;&lt;/a&gt;&lt;a class="link" href="#_inventorying_vcenter_vsphere_esxi_hosts"&gt;Inventorying vCenter/vSphere ESXi Hosts&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This procedure guides you through inventorying a VSphere ESXi host with .&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;From the  WebUI select &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Main Menu&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Virtual Host Managers&lt;/b&gt;&lt;/span&gt; from the left navigation bar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the upper right corner of the &lt;em&gt;Virtual Host Managers&lt;/em&gt; page select &lt;b class="button"&gt;Create&lt;/b&gt; VMWare-based.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;em&gt;Add a VMware-based Virtual Host Manager&lt;/em&gt; page complete these fields with your ESXi host data:&lt;/p&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;Label&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Custom name for your Virtual Host Manager&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Hostname&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Fully-qualified domain name (FQDN) or host IP address&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Port&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Default ESXi API port&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Username&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Assign a username&lt;/p&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Remember that only objects and resources which match a user&#8217;s defined role will be inventoried.
Set the user&#8217;s role on objects and resources you want inventoried to &lt;em&gt;read-only&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Password&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;ESXi users password&lt;/p&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/systems_virtual_host_managers_vmware.png" alt="systems virtual host managers vmware"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click the &lt;b class="button"&gt;Create&lt;/b&gt; button.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Virtual Host Managers&lt;/b&gt;&lt;/span&gt; page select the new Virtual Host manager.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Virtual Host Managers&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Properties&lt;/b&gt;&lt;/span&gt; page click the &lt;b class="button"&gt;Refresh&lt;/b&gt; button.&lt;/p&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;If you do not refresh the data from a new Virtual Host Manager, host data will not be inventoried and therefore will not be displayed under &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Virtual Systems&lt;/b&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;View inventoried ESXi host objects and resources by selecting &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Virtual Systems&lt;/b&gt;&lt;/span&gt; .&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="suse.mgr.command.line.tools"><a class="anchor" href="#suse.mgr.command.line.tools"></a><a class="link" href="#suse.mgr.command.line.tools">22. SUSE Manager Command Line Tools</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_installing_command_line_tool_packages"><a class="anchor" href="#_installing_command_line_tool_packages"></a><a class="link" href="#_installing_command_line_tool_packages">22.1. Installing Command Line Tool Packages</a></h3>
<div class="paragraph">
<p>In addition to the SUSE Manager Web interface, SUSE Manager offers two command line tools for managing (Traditional) system configuration files :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Configuration Client (<strong>mgrcfg-client</strong>)</p>
</li>
<li>
<p>The Configuration Manager (<strong>mgrcfg-manager</strong>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use the <strong>mgrcfg-actions</strong> tool to <em>enable</em> and <em>disable</em> configuration management on client systems.</p>
</div>
<div class="paragraph">
<p>To work with these tools install them from the SUSE Manager Tools child channel as root.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>zypper in rhncfg-manager</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>zypper in rhncfg-actions</pre>
</div>
</div>
<div class="paragraph">
<p>Install the following package on client systems:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>zypper in rhncfg-client</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title=":bulb:"></i>
</td>
<td class="content">
<div class="title">Configuration File Backups</div>
<div class="paragraph">
<p>When a configuration file is deployed via SUSE Manager, a backup of the previous file including its full path is stored in the <code class="path">/var/lib/rhncfg/backups/</code>.
The backup retains its filename but has a <em>.rhn-cfg-backup</em> extension appended.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="mgr.actions.control"><a class="anchor" href="#mgr.actions.control"></a><a class="link" href="#mgr.actions.control">22.2. Actions Control  (mgr-actions-control)</a></h3>
<div class="paragraph">
<p>The Actions Control (<strong>mgr-actions-control</strong>) application is used to enable and disable configuration management on a system.
Client systems cannot be managed in this fashion by default.
This tool allows SUSE Manager administrators to enable or disable specific modes of allowable actions such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deploying a configuration file on the system</p>
</li>
<li>
<p>Uploading a file from the system</p>
</li>
<li>
<p>Using the diff command to find out what is currently managed on a system with what is available</p>
</li>
<li>
<p>Running remote commands</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These various modes are enabled/disabled by placing/removing files and directories in the <code class="path">/etc/sysconfig/rhn/allowed-actions/</code> directory.
Due to the default permissions of the <code class="path">/etc/sysconfig/rhn/</code> directory, Actions Control has to be run by someone with root access.</p>
</div>
<div class="sect3">
<h4 id="_general_command_line_options"><a class="anchor" href="#_general_command_line_options"></a><a class="link" href="#_general_command_line_options">22.2.1. General command line options</a></h4>
<div class="paragraph">
<p>There is a manpage available, as for most command line tools.
First, decide which scheduled actions should be enabled for use by system administrators.
The following options enable the various scheduled action modes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">--enable-deploy</dt>
<dd>
<p>Allow mgrcfg-client to deploy files.</p>
</dd>
<dt class="hdlist1">--enable-diff</dt>
<dd>
<p>Allow mgrcfg-client to diff files.</p>
</dd>
<dt class="hdlist1">--enable-upload</dt>
<dd>
<p>Allow mgrcfg-client to upload files.</p>
</dd>
<dt class="hdlist1">--enable-mtime-upload</dt>
<dd>
<p>Allow mgrcfg-client to upload mtime (file modification time).</p>
</dd>
<dt class="hdlist1">--enable-all</dt>
<dd>
<p>Allow mgrcfg-client to do everything.</p>
</dd>
<dt class="hdlist1">--enable-run</dt>
<dd>
<p>Enable running scripts.</p>
</dd>
<dt class="hdlist1">--disable-deploy</dt>
<dd>
<p>Disable deployment.</p>
</dd>
<dt class="hdlist1">--disable-diff</dt>
<dd>
<p>Prohibit diff use.</p>
</dd>
<dt class="hdlist1">--disable-upload</dt>
<dd>
<p>No file uploads allowed.</p>
</dd>
<dt class="hdlist1">--disable-mtime-upload</dt>
<dd>
<p>Disable mtime upload.</p>
</dd>
<dt class="hdlist1">--disable-all</dt>
<dd>
<p>Disable all options.</p>
</dd>
<dt class="hdlist1">--disable-run</dt>
<dd>
<p>No scripts allowed to run.</p>
</dd>
<dt class="hdlist1">--report</dt>
<dd>
<p>Report whether modes are enabled or disabled.</p>
</dd>
<dt class="hdlist1">-f, --force</dt>
<dd>
<p>Force the operation without asking first.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Once a mode is set, your system is ready for configuration management through SUSE Manager.
A common option is <code class="command">mgr-actions-control --enable-all</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mgrcfg.client.tool"><a class="anchor" href="#mgrcfg.client.tool"></a><a class="link" href="#mgrcfg.client.tool">22.3. Configuration Client  (mgrcfg-client)</a></h3>
<div class="paragraph">
<p>The Configuration Client (mgrcfg-client) is installed on and run from an individual client system to gain knowledge about how SUSE Manager deploys configuration files to the client.</p>
</div>
<div class="paragraph">
<p>The Configuration Client offers these primary modes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>list</p>
</li>
<li>
<p>get</p>
</li>
<li>
<p>channels</p>
</li>
<li>
<p>diff</p>
</li>
<li>
<p>verify</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_listing_configuration_files"><a class="anchor" href="#_listing_configuration_files"></a><a class="link" href="#_listing_configuration_files">22.3.1. Listing Configuration Files</a></h4>
<div class="paragraph">
<p>To list the configuration files for the machine and the labels of the config channels containing them, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-client list</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following list ("DoFoS" is a shortcut for "D or F or S", which means "Directory", "File", or "Something else"(?)):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DoFoS   Config Channel      File
F      config-channel-17   /etc/example-config.txt
F      config-channel-17   /var/spool/aalib.rpm
F      config-channel-14   /etc/rhn/rhn.conf</pre>
</div>
</div>
<div class="paragraph">
<p>These configuration files apply to your system.
However, there may be duplicate files present in other channels.
For example, issue the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager list config-channel-14</pre>
</div>
</div>
<div class="paragraph">
<p>and observe the following output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Files in config channel 'config-channel-14'
/etc/example-config.txt /etc/rhn/rhn.conf</pre>
</div>
</div>
<div class="paragraph">
<p>You may wonder why the second version of <code class="path">/etc/example-config.txt</code> in <strong>config-channel-14</strong> does not apply to the client system.
The rank of the <code class="path">/etc/example-config.txt</code> file in <strong>config-channel-17</strong> was higher than that of the same file in <strong>config-channel-14</strong>.
As a result, the version of the configuration file in config-channel-14 is not deployed for this system, therefore mgrcfg-client command does not list the file.</p>
</div>
</div>
<div class="sect3">
<h4 id="getting.a.config.file"><a class="anchor" href="#getting.a.config.file"></a><a class="link" href="#getting.a.config.file">22.3.2. Downloading a Config File</a></h4>
<div class="paragraph">
<p>To download the most relevant configuration file for the machine, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-client get /etc/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>You should see output resembling:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Deploying /etc/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>View the contents of the file with less or another pager.
Note that the file is selected as the most relevant based on the rank of the config channel containing it.
This is accomplished within the Configuration tab of the System Details page.</p>
</div>
<div class="paragraph">
<p>Refer to Section "System Details" (Chapter 4, Systems, User Guide) for instructions.</p>
</div>
</div>
<div class="sect3">
<h4 id="viewing.config.channels"><a class="anchor" href="#viewing.config.channels"></a><a class="link" href="#viewing.config.channels">22.3.3. Viewing Config Channels</a></h4>
<div class="paragraph">
<p>To view the labels and names of the config channels that apply to the system, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-client channels</pre>
</div>
</div>
<div class="paragraph">
<p>You should see output resembling:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Config channels:
Label                   Name
-----                   ----
config-channel-17       config chan 2
config-channel-14       config chan 1</pre>
</div>
</div>
<div class="paragraph">
<p>The list of options available for <code class="command">mgrcfg-client get</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">--topdir=TOPDIR</dt>
<dd>
<p>Make all file operations relative to this string.</p>
</dd>
<dt class="hdlist1">--exclude=EXCLUDE</dt>
<dd>
<p>Exclude a file from being deployed with get.
May be used multiple times.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="diff.between.config.files"><a class="anchor" href="#diff.between.config.files"></a><a class="link" href="#diff.between.config.files">22.3.4. Differentiating between Config Files</a></h4>
<div class="paragraph">
<p>To view the differences between the config files deployed on the system and those stored by SUSE Manager, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-client diff</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>rhncfg-client diff
--- /etc/test
+++ /etc/test 2013-08-28 00:14:49.405152824 +1000
@@ -1 +1,2 @@
This is the first line
+This is the second line added</pre>
</div>
</div>
<div class="paragraph">
<p>In addition, you can include the <code class="option">--topdir</code> option to compare config files with those located in an arbitrary (and unused) location on the client system, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># mgrcfg-client diff --topdir /home/test/blah/
/usr/bin/diff: /home/test/blah/etc/example-config.txt: No such file or directory
/usr/bin/diff: /home/test/blah/var/spool/aalib.rpm: No such file or directory</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="verify.config.files"><a class="anchor" href="#verify.config.files"></a><a class="link" href="#verify.config.files">22.3.5. Verifying Config Files</a></h4>
<div class="paragraph">
<p>To quickly determine if client configuration files are different from those associated with it via SUSE Manager, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-client verify</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>modified /etc/example-config.txt /var/spool/aalib.rpm</pre>
</div>
</div>
<div class="paragraph">
<p>The file <code class="filename">example-config.txt</code> is locally modified, while <code class="package">aalib.rpm</code> is not.</p>
</div>
<div class="paragraph">
<p>The list of the options available for mgrcfg-client verify:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-v, --verbose</dt>
<dd>
<p>Increase the amount of output detail.
Display differences in the mode, owner, and group permissions for the specified config file.</p>
</dd>
<dt class="hdlist1">-o, --only</dt>
<dd>
<p>Only show differing files.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="the.configuration.manager"><a class="anchor" href="#the.configuration.manager"></a><a class="link" href="#the.configuration.manager">22.4. Configuration Manager (mgrcfg-manager)</a></h3>
<div class="paragraph">
<p>The Configuration Manager (<strong>mgrcfg-manager</strong>) is designed to maintain SUSE Manager&#8217;s central repository of config files and channels, not those located on client systems.
This tool offers a command line alternative to the configuration management features in the SUSE Manager Web interface.
Additionally, some or all of the related maintenance tasks can be scripted.</p>
</div>
<div class="paragraph">
<p>To use the command line interface, configuration administrators require a SUSE Manager account (username and password) with the appropriate permission set.
The username may be specified in <code class="path">/etc/sysconfig/rhn/rhncfg-manager.conf</code> or in the <code class="option">[rhncfg-manager]</code> section of <code class="path">~/.rhncfgrc</code>.</p>
</div>
<div class="paragraph">
<p>When the Configuration Manager is run as <strong>root</strong>, it attempts to pull in needed configuration values from the Red Hat Update Agent.
When run as a user other than root, you may have to change the <code class="path">~/.rhncfgrc</code> configuration file.
The session file is cached in <code class="path">~/.rhncfg-manager-session</code> to avoid having to log in for every command.</p>
</div>
<div class="paragraph">
<p>The default timeout for the Configuration Manager is 30 minutes.
To adjust this, add the <code class="option">server.session_lifetime</code> option and a new value to the <code class="path">/etc/rhn/rhn.conf</code> file on the server running the manager.
For example set the time out to <strong>120 minutes</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>server.session_lifetime = 120</pre>
</div>
</div>
<div class="paragraph">
<p>The Configuration Manager offers the following primary <strong>modes</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>add</p>
</li>
<li>
<p>create-channel</p>
</li>
<li>
<p>diff</p>
</li>
<li>
<p>diff-revisions</p>
</li>
<li>
<p>download-channel</p>
</li>
<li>
<p>get</p>
</li>
<li>
<p>list</p>
</li>
<li>
<p>list-channels</p>
</li>
<li>
<p>remove</p>
</li>
<li>
<p>remove-channel</p>
</li>
<li>
<p>revisions</p>
</li>
<li>
<p>update</p>
</li>
<li>
<p>upload-channel</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each mode offers its own set of options, which can be displayed by issuing the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager mode --help</pre>
</div>
</div>
<div class="paragraph">
<p>Replace mode with the name of the mode whose options you want to see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager diff-revisions --help</pre>
</div>
</div>
<div class="sect3">
<h4 id="creating.a.config.channel"><a class="anchor" href="#creating.a.config.channel"></a><a class="link" href="#creating.a.config.channel">22.4.1. Creating a Config Channel</a></h4>
<div class="paragraph">
<p>To create a config channel for your organization, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager create-channel channel-label</pre>
</div>
</div>
<div class="paragraph">
<p>If prompted for your SUSE Manager username and password, provide them.
Once you have created a config channel, use the remaining modes listed above to populate and maintain that channel.</p>
</div>
</div>
<div class="sect3">
<h4 id="adding.files.to.a.config.channel"><a class="anchor" href="#adding.files.to.a.config.channel"></a><a class="link" href="#adding.files.to.a.config.channel">22.4.2. Adding Files to a Config Channel</a></h4>
<div class="paragraph">
<p>To add a file to a config channel, specify the channel label and the local file to be uploaded:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager add --channel=channel-label /path/to/file</pre>
</div>
</div>
<div class="paragraph">
<p>In addition to the required channel label and the path to the file, you can use the available options for modifying the file during its addition.
For instance, you can alter the path and file name by including the <code class="option">--dest-file</code> option in the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager add --channel=channel-label \
  --dest-file=/new/path/to/file.txt/path/to/file</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Pushing to channel example-channel
Local file &gt;/path/to/file -&gt; remote file /new/path/to/file.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The list of options available for mgrcfg-manager add:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-c CHANNEL --channel=CHANNEL</dt>
<dd>
<p>Upload files in this config channel.</p>
</dd>
<dt class="hdlist1">-d DEST_FILE --dest-file=DEST_FILE</dt>
<dd>
<p>Upload the file as this path.</p>
</dd>
<dt class="hdlist1">--delim-start=DELIM_START</dt>
<dd>
<p>Start delimiter for variable interpolation.</p>
</dd>
<dt class="hdlist1">--delim-end=DELIM_END</dt>
<dd>
<p>End delimiter for variable interpolation.</p>
</dd>
<dt class="hdlist1">-i, --ignore-missing</dt>
<dd>
<p>Ignore missing local files.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title=":bulb:"></i>
</td>
<td class="content">
<div class="title">Max File size</div>
<div class="paragraph">
<p>By default, the maximum file size for configuration files is 128KB.
If you need to change that value, find or create the following line in the <code class="path">/etc/rhn/rhn.conf</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>web.maximum_config_file_size=128</pre>
</div>
</div>
<div class="paragraph">
<p>Change the value from 128 to whatever limit you need in kilobytes.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="diff.between.latest.config.files"><a class="anchor" href="#diff.between.latest.config.files"></a><a class="link" href="#diff.between.latest.config.files">22.4.3. Differentiating between Latest Config Files</a></h4>
<div class="paragraph">
<p>To view the differences between the config files on disk and the latest revisions in a channel, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager diff --channel=channel-label --dest-file=/path/to/file.txt \
/local/path/to/file</pre>
</div>
</div>
<div class="paragraph">
<p>You should see output resembling:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>--- /tmp/dest_path/example-config.txt config_channel: example-channel revision: 1
+++ /home/test/blah/hello_world.txt 2003-12-14 19:08:59.000000000 -0500
@@ -1 +1 @@
-foo
+hello, world</pre>
</div>
</div>
<div class="paragraph">
<p>The list of options available for <code class="command">mgrcfg-manager diff</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-c CHANNEL, --channel=CHANNEL</dt>
<dd>
<p>Get file(s) from this config channel.</p>
</dd>
<dt class="hdlist1">-r REVISION, --revision=REVISION</dt>
<dd>
<p>Use this revision.</p>
</dd>
<dt class="hdlist1">-d DEST_FILE, --dest-file=DEST_FILE</dt>
<dd>
<p>Upload the file at this path.</p>
</dd>
<dt class="hdlist1">-t TOPDIR, --topdir=TOPDIR</dt>
<dd>
<p>Make all files relative to this string.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="diff.between.various.versions"><a class="anchor" href="#diff.between.various.versions"></a><a class="link" href="#diff.between.various.versions">22.4.4. Differentiating between Various Versions</a></h4>
<div class="paragraph">
<p>To compare different versions of a file across channels and revisions, use the <strong>-r</strong> flag to indicate which revision of the file should be compared and the <strong>-n</strong> flag to identify the two channels to be checked.
Specify only one file name here since you are comparing the file against another version of itself.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager diff-revisions -n=channel-label1 -r=1 \
  -n=channel-label2 -r=1 \
  /path/to/file.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>--- /tmp/dest_path/example-config.txt 2004-01-13 14:36:41 \
config channel: example-channel2 revision: 1
--- /tmp/dest_path/example-config.txt 2004-01-13 14:42:42 \
config channel: example-channel3 revision: 1
@@ -1 +1,20 @@
-foo
+blah
+-----BEGIN PGP SIGNATURE-----
+Version: GnuPG v1.0.6 (GNU/Linux)
+Comment: For info see http://www.gnupg.org
+
+iD8DBQA9ZY6vse4XmfJPGwgRAsHcAJ9ud9dabUcdscdcqB8AZP7e0Fua0NmKsdhQCeOWHX
+VsDTfen2NWdwwPaTM+S+Cow=
+=Ltp2
+-----END PGP SIGNATURE-----</pre>
</div>
</div>
<div class="paragraph">
<p>The list of options available for <code class="command">mgrcfg-manager diff-revisions</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-c CHANNEL, --channel=CHANNEL</dt>
<dd>
<p>Use this config channel.</p>
</dd>
<dt class="hdlist1">-r REVISION, --revision=REVISION</dt>
<dd>
<p>Use this revision.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="downloading.all.files.in.a.channel"><a class="anchor" href="#downloading.all.files.in.a.channel"></a><a class="link" href="#downloading.all.files.in.a.channel">22.4.5. Downloading All Files in a Channel</a></h4>
<div class="paragraph">
<p>To download all the files in a channel to disk, create a directory and issue the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager download-channel channel-label --topdir .</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Copying /tmp/dest_path/example-config.txt -&gt; \
blah2/tmp/dest_path/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The list of options available for mgrcfg-manager download-channel:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-t TOPDIR, --topdir=TOPDIR</dt>
<dd>
<p>Directory to which all the file paths are relative. This option must be set.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="getting.the.contents.of.a.file"><a class="anchor" href="#getting.the.contents.of.a.file"></a><a class="link" href="#getting.the.contents.of.a.file">22.4.6. Getting the Contents of a File</a></h4>
<div class="paragraph">
<p>To direct the contents of a particular file to stdout, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager get --channel=channel-label \
/tmp/dest_path/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>You should see the contents of the file as the output.</p>
</div>
</div>
<div class="sect3">
<h4 id="listing.all.files.in.a.channel"><a class="anchor" href="#listing.all.files.in.a.channel"></a><a class="link" href="#listing.all.files.in.a.channel">22.4.7. Listing All Files in a Channel</a></h4>
<div class="paragraph">
<p>To list all the files in a channel, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager list channel-label</pre>
</div>
</div>
<div class="paragraph">
<p>You should see output resembling:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Files in config channel `example-channel3':
/tmp/dest_path/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The list of the options available for mgrcfg-manager get:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-c CHANNEL, --channel=CHANNEL</dt>
<dd>
<p>Get file(s) from this config channel.</p>
</dd>
<dt class="hdlist1">-t TOPDIR, --topdir=TOPDIR</dt>
<dd>
<p>Directory to which all files are relative.</p>
</dd>
<dt class="hdlist1">-r REVISION, --revision=REVISION</dt>
<dd>
<p>Get this file revision.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="listing.all.config.channels"><a class="anchor" href="#listing.all.config.channels"></a><a class="link" href="#listing.all.config.channels">22.4.8. Listing All Config Channels</a></h4>
<div class="paragraph">
<p>To list all of your organization&#8217;s configuration channels, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager list-channels</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Available config channels:
example-channel example-channel2 example-channel3 config-channel-14 config-channel-17</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This does not list <strong>local_override</strong> or <strong>server_import</strong> channels.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="removing.a.file.from.a.channel"><a class="anchor" href="#removing.a.file.from.a.channel"></a><a class="link" href="#removing.a.file.from.a.channel">22.4.9. Removing a File from a Channel</a></h4>
<div class="paragraph">
<p>To remove a file from a channel, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager remove --channel=channel-label /tmp/dest_path/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>If prompted for your SUSE Manager username and password, provide them.</p>
</div>
<div class="paragraph">
<p>The list of the options available for mgrcfg-manager remove:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-c CHANNEL, --channel=CHANNEL</dt>
<dd>
<p>Remove files from this config channel.</p>
</dd>
<dt class="hdlist1">-t TOPDIR, --topdir=TOPDIR</dt>
<dd>
<p>Directory to which all files are relative.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="deleting.a.config.channel"><a class="anchor" href="#deleting.a.config.channel"></a><a class="link" href="#deleting.a.config.channel">22.4.10. Deleting a Config Channel</a></h4>
<div class="paragraph">
<p>To remove a config channel in your organization, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager remove-channel channel-label</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Removing config channel example-channel
Config channel example-channel removed</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="determine.the.number.of.file.revisions"><a class="anchor" href="#determine.the.number.of.file.revisions"></a><a class="link" href="#determine.the.number.of.file.revisions">22.4.11. Determining the Number of File Revisions</a></h4>
<div class="paragraph">
<p>To find out how many revisions (from <strong>1 to N</strong> where N is an integer greater than 0) of a file/path are in a channel, issue the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager revisions channel-label /tmp/dest_path/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Analyzing files in config channel example-channel \
/tmp/dest_path/example-config.txt: 1</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="update.a.file.in.a.channel"><a class="anchor" href="#update.a.file.in.a.channel"></a><a class="link" href="#update.a.file.in.a.channel">22.4.12. Updating a File in a Channel</a></h4>
<div class="paragraph">
<p>To create a new revision of a file in a channel (or to add the first revision to that channel if none existed before for the given path), issue the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager update --channel=channel-label \
--dest-file=/path/to/file.txt /local/path/to/file</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Pushing to channel example-channel:
Local file example-channel /tmp/local/example-config.txt -&gt; \
remote file /tmp/dest_path/example-config.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The list of the options available for mgrcfg-manager update:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-c CHANNEL, --channel=CHANNEL</dt>
<dd>
<p>Upload files in this config channel.</p>
</dd>
<dt class="hdlist1">-d DEST_FILE, --dest-file=DEST_FILE</dt>
<dd>
<p>Upload the file to this path.</p>
</dd>
<dt class="hdlist1">-t TOPDIR, --topdir=TOPDIR</dt>
<dd>
<p>Directory to which all files are relative.</p>
</dd>
<dt class="hdlist1">--delim-start=DELIM_START</dt>
<dd>
<p>Start delimiter for variable interpolation.</p>
</dd>
<dt class="hdlist1">--delim-end=DELIM_END</dt>
<dd>
<p>End delimiter for variable interpolation.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="uploading.multiple.files.at.once"><a class="anchor" href="#uploading.multiple.files.at.once"></a><a class="link" href="#uploading.multiple.files.at.once">22.4.13. Uploading Multiple Files at Once</a></h4>
<div class="paragraph">
<p>To upload multiple files to a config channel from a local disk at once, issue the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgrcfg-manager upload-channel --topdir=topdir channel-label</pre>
</div>
</div>
<div class="paragraph">
<p>The output resembles the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Using config channel example-channel4
Uploading /tmp/ola_world.txt from blah4/tmp/ola_world.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The list of the options available for mgrcfg-manager upload-channel:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-t TOPDIR, --topdir=TOPDIR</dt>
<dd>
<p>Directory all the file paths are relative to.</p>
</dd>
<dt class="hdlist1">-c CHANNEL, --channel=CHANNEL</dt>
<dd>
<p>List of channels the config info will be uploaded into channels delimited by ','. Example: --channel=foo,bar,baz.</p>
</dd>
<dt class="hdlist1">-h, --help</dt>
<dd>
<p>Show help message and exit.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="syncing.suse.mgr.repositories.scc"><a class="anchor" href="#syncing.suse.mgr.repositories.scc"></a><a class="link" href="#syncing.suse.mgr.repositories.scc">22.5. Syncing SUSE Manager Repositories from SCC (mgr-sync)</a></h3>
<div class="paragraph">
<p><code class="command">mgr-sync</code> should be used if SUSE Manager is connected to SUSE Customer Center (SCC).
With <code class="command">mgr-sync</code> you may add or synchronize products and channels.
The <code class="command">mgr-sync</code> command also enables and refreshes SCC data.</p>
</div>
<div class="paragraph">
<p>This tool requires that SCC is enabled by running <code class="command">mgr-sync enable-scc</code> first (Enabled by default in  2.1 and greater).</p>
</div>
<div class="paragraph">
<p>By default, log rotation of <code class="path">spacewalk-repo-sync</code> is disabled.
This logfile is run by a cron job, and managed by a configuration file.
You can enable log rotation by editing the configuration file at <code class="path">etc/sysconfig/rhn/reposync</code> and setting the <code class="command">MAX_DAYS</code> parameter.
This will permit the deletion of files that are older than the specified period of time.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title=":heavy_exclamation_mark:"></i>
</td>
<td class="content">
<div class="title">Admin credentials</div>
<div class="paragraph">
<p><code class="command">mgr-sync</code> now requires the username/password of a <strong>SUSE Manager administrator</strong>.
Most functions are available as part of the public API.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>mgr-sync provides a command structure with sub-commands similar to git or osc.
For a complete list of command line option, see the mgr-sync manpage (man mgr-sync).
Basic actions are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mgr-sync enable-scc

mgr-sync list channel(s)|product(s)|credentials
mgr-sync add  channel(s)|product(s)|credentials
mgr-sync delete  credentials

mgr-sync refresh [--refresh-channels] [--from-mirror MIRROR]</pre>
</div>
</div>
<div class="paragraph">
<p>See the following examples.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">List channels</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync list channels</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Add a channel</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync add channel LABEL</pre>
</div>
</div>
</dd>
<dt class="hdlist1">List products</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync list products</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Add a product</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync add product</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Refresh the data</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync refresh</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Refresh data and schedule a reposync for all installed vendor channels</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync refresh --refresh-channels</pre>
</div>
</div>
</dd>
<dt class="hdlist1">List SCC credentials</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync list credentials</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Add new SCC credentials</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync add credentials</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title=":bulb:"></i>
</td>
<td class="content">
<div class="title">Credentials</div>
<div class="paragraph">
<p>There can be one primary credential only.
This is username/password used first when retrieving the list of available channels and packages.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Add SCC primary credentials</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync add credentials --primary</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Delete SCC credentials</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>mgr-sync delete credentials</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="configure.suse.manager.database.smdba"><a class="anchor" href="#configure.suse.manager.database.smdba"></a><a class="link" href="#configure.suse.manager.database.smdba">22.6. Configuring SUSE Manager&#8217;s Database (smdba)</a></h3>
<div class="paragraph">
<p>SUSE Manager provides the smdba command for managing the installed database.
It is the successor of <code class="package">db-control</code>, which is now <strong>unsupported</strong>.</p>
</div>
<div class="paragraph">
<p>The smdba command works on local databases only, not remote.
This utility allows you to do several administrative tasks like backing up and restoring the database.
It also allows you to create, verify, restore backups, obtaining database status, and restart the database if necessary.
The smdba command supports <strong>PostgreSQL</strong>.</p>
</div>
<div class="paragraph">
<p>Find basic information about <strong>smdba</strong> in the <strong>smdba manpage</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="title">Restart Spacewalk Services When Connection is Lost</div>
<div class="paragraph">
<p>If you have stopped or restarted the database, Spacewalk services can lose their connections. In such a case, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>spacewalk-service restart</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="smdba.control.options"><a class="anchor" href="#smdba.control.options"></a><a class="link" href="#smdba.control.options">22.6.1. Control Options</a></h4>
<div class="paragraph">
<p>Depending on the database installed, smdba provides several subcommands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>backup-hot      Enable continuous archiving backup
backup-restore  Restore the SUSE Manager Database from backup.
backup-status   Show backup status.
db-start        Start the SUSE Manager Database.
db-status       Show database status.
db-stop         Stop the SUSE Manager Database.
space-overview  Show database space report.
space-reclaim   Free disk space from unused object in tables and indexes.
space-tables    Show space report for each table.
system-check    Common backend healthcheck.</pre>
</div>
</div>
<div class="paragraph">
<p>For a list of available commands on your particular appliance, call smdba help.
To display the help message for a specific subcommand, call <code class="command">smdba COMMAND help</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="starting.and.stopping.the.database"><a class="anchor" href="#starting.and.stopping.the.database"></a><a class="link" href="#starting.and.stopping.the.database">22.6.2. Starting and Stopping the Database</a></h4>
<div class="paragraph">
<p>There are three commands to start, stop, or get the status of the database.
Use the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># smdba db-status
Checking database core...       online
# smdba db-stop
Stopping the SUSE Manager database...
Stopping listener:     done
Stopping core:         done
# smdba db-status
Checking database core...       offline
# smdba db-start
Starting listener:     done
Starting core...       done</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="at.clitools.createbootstraprepo"><a class="anchor" href="#at.clitools.createbootstraprepo"></a><a class="link" href="#at.clitools.createbootstraprepo">22.7. Creating a Bootstrap Repository (mgr-create-bootstrap-repo)</a></h3>
<div class="paragraph">
<p>The <code class="code">mgr-create-bootstrap-repo</code> command is used on the  Server to create a new bootstrap repository.</p>
</div>
<div class="paragraph">
<p>Use the <code class="code">-l</code> option to list all available repositories:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># mgr-create-bootstrap-repo -l</pre>
</div>
</div>
<div class="paragraph">
<p>You can then invoke the command with the appropriate repository name to create the bootstrap repository you require, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># mgr-create-bootstrap-repo SLE-version-x86_64</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[[at.clitools.createbootstraprepo.customchannels]]
=== Creating a Bootstrap Repository with Custom Channels</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Custom channels are channels that have been created to manage any custom packages that an organization might require.
To create a new bootstrap repository from a custom channel, use the [code]``mgr-create-bootstrap-repo`` command with the [code]``with-custom-channels`` option:</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre># mgr-create-bootstrap-repo --with-custom-channels</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=":information_source:"></i>
</td>
<td class="content">
<div class="title">Flushing a Bootstrap Repository to Remove Custom Channels</div>
<div class="paragraph">
<p>If you create a bootstrap repository that contains custom channels, and later attempt to rebuild with the <code class="code">mgr-create-bootstrap-repo</code> command, the custom channel information will remain in the bootstrap repository.
If you want to remove custom channel information from your bootstrap repository, you will need to use the <code class="code">flush</code> option when you rebuild:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># mgr-create-bootstrap-repo --flush</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="<mark>at.spacecmd.introduction"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.configuration.overview"&gt;Configuring spacecmd&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="</mark><em>setup_spacecmd_credentials"&gt;Setup Spacecmd Credentials&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_spacecmd_quiet_mode"&gt;spacecmd Quiet Mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_spacecmd_help"&gt;spacecmd Help&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#_troubleshooting"&gt;Troubleshooting&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#_creating_a_distribution_with_spacecmd_sets_localhost_instead_of_fqdn"&gt;Creating a Distribution With spacecmd Sets Localhost Instead of FQDN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#_spacecmd_not_accepting_commands_or_options"&gt;Spacecmd not Accepting Commands or Options&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.command.reference"&gt;spacecmd Functions&lt;/a&gt;
&lt;ul class="sectlevel2"&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.activationkey"&gt;activationkey</em>&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.api"&gt;api&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.clear"&gt;clear&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.clearcaches"&gt;clear_caches&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.configchannel"&gt;configchannel_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.cryptokey"&gt;cryptokey_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.custominfo"&gt;custominfo_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.distribution"&gt;distribution_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.errata"&gt;errata_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.kickstart.filepreservation"&gt;filepreservation_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.get"&gt;get_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.group"&gt;group_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.help"&gt;help&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.history"&gt;history&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.kickstart"&gt;kickstart_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.list.proxies"&gt;list_proxies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.login"&gt;login&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.logout"&gt;logout&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.org"&gt;org_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.package"&gt;package_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.repo"&gt;repo_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.report"&gt;report_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.scap"&gt;scap_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.schedule"&gt;schedule_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.snippet"&gt;snippet_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.softwarechannel"&gt;softwarechannel_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.ssm"&gt;ssm_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.system"&gt;system_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.toggle"&gt;toggle_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.user"&gt;user_&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.whoami"&gt;whoami&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.whoamitalkingto"&gt;whoamitalkingto&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#at.spacecmd.misc.help.topics"&gt;Miscellaneous Help Topics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.spacecmd.introduction"&gt;&lt;a class="anchor" href="#at.spacecmd.introduction"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.introduction"&gt;Introduction&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following section will help you become more familiar with the &lt;code class="command"&gt;spacecmd&lt;/code&gt; command-line interface.
This interface is available for SUSE Manager, Satellite and Spacewalk servers.
spacecmd is written in Python and uses the XML-RPC API provided by the server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="ulist"&gt;
&lt;div class="title"&gt;What can spacecmd do for me?&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Manage almost all aspects of SUSE Manager from the command line with spacecmd&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tab completion is available for all commands&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Single commands can be passed to spacecmd without entering the interactive shell (excellent for shell scripts)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;May also be accessed and used as an interactive shell&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Advanced search methods are available for finding specific systems, thus removing the need to create system groups (nevertheless groups are still recommended)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete functionality through the Spacewalk API. Almost all commands that can be executed from the WebUI can be performed via the spacecmd command-line&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.spacecmd.configuration.overview"&gt;&lt;a class="anchor" href="#at.spacecmd.configuration.overview"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.configuration.overview"&gt;Configuring spacecmd&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following section provides configuration tips for spacecmd.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_setup_spacecmd_credentials"&gt;&lt;a class="anchor" href="#_setup_spacecmd_credentials"&gt;&lt;/a&gt;&lt;a class="link" href="#_setup_spacecmd_credentials"&gt;Setup Spacecmd Credentials&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Normally spacecmd prompts you for a username and password each time you attempt to login to the interactive shell.
Alternatively you can configure spacecmd with a credentials file to avoid this requirement.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="olist arabic"&gt;
&lt;div class="title"&gt;Procedure: Creating a spacecmd Credentials File&lt;/div&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;
&lt;p&gt;Create a hidden spacecmd directory in your home directory and set permissions:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;mkdir ~/.spacecmd
chmod 700 ~/.spacecmd&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a &lt;code&gt;config&lt;/code&gt; file in &lt;code class="path"&gt;~/.spacecmd/&lt;/code&gt; and provide proper permissions:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;touch ~/.spacecmd/config
chmod 600 ~/.spacecmd/config&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit the &lt;code&gt;config&lt;/code&gt; file and add the following configuration lines. (You can use either localhost or the FQDN of your SUSE Manager server):&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;[spacecmd]</p>
</div>
<div class="paragraph">
<p>server=FQDN-here</p>
</div>
<div class="paragraph">
<p>username=username-here
password=password-here&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check connectivity by entering &lt;code class="command"&gt;spacecmd&lt;/code&gt; as root:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;# spacecmd&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_spacecmd_quiet_mode"&gt;&lt;a class="anchor" href="#_spacecmd_quiet_mode"&gt;&lt;/a&gt;&lt;a class="link" href="#_spacecmd_quiet_mode"&gt;spacecmd Quiet Mode&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;By default spacecmd prints server status messages during connection attempts.
These messages can cause a lot of clutter when parsing system lists.
The following alias will force spacecmd to use quiet mode thus preventing this behavior.
Add the following line to your &lt;code&gt;~/.bashrc&lt;/code&gt; file:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;alias spacecmd='spacecmd -q'&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_spacecmd_help"&gt;&lt;a class="anchor" href="#_spacecmd_help"&gt;&lt;/a&gt;&lt;a class="link" href="#_spacecmd_help"&gt;spacecmd Help&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;spacecmd help can be access by typing spacecmd &lt;code class="command"&gt;-h --help&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Usage: spacecmd [options] [command]</p>
</div>
<div class="paragraph">
<p>Options:
  -u USERNAME, --username=USERNAME
                        use this username to connect to the server
  -p PASSWORD, --password=PASSWORD
                        use this password to connect to the server
  -s SERVER, --server=SERVER
                        connect to this server [default: local hostname]
  --nossl               use HTTP instead of HTTPS
  --nohistory           do not store command history
  -y, --yes             answer yes for all questions
  -q, --quiet           print only error messages
  -d, --debug           print debug messages (can be passed multiple times)
  -h, --help            show this help message and exit&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;As root you can access available functions without entering the spacecmd shell:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;# spacecmd&#8201;&#8212;&#8201;help</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Documented commands (type help &amp;lt;topic&amp;gt;):</pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>activationkey_addchildchannels         org_trustdetails
activationkey_addconfigchannels        package_details
activationkey_addentitlements          package_listdependencies
activationkey_addgroups                package_listerrata
activationkey_addpackages              package_listinstalledsystems
activationkey_clone                    package_listorphans
activationkey_create                   package_remove
activationkey_delete                   package_removeorphans
activationkey_details                  package_search
activationkey_diff                     repo_addfilters
activationkey_disable                  repo_clearfilters
activationkey_disableconfigdeployment  repo_create</p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="_troubleshooting"&gt;&lt;a class="anchor" href="#_troubleshooting"&gt;&lt;/a&gt;&lt;a class="link" href="#_troubleshooting"&gt;Troubleshooting&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This section provides troubleshooting solutions when working with spacecmd&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="_creating_a_distribution_with_spacecmd_sets_localhost_instead_of_fqdn"&gt;&lt;a class="anchor" href="#_creating_a_distribution_with_spacecmd_sets_localhost_instead_of_fqdn"&gt;&lt;/a&gt;&lt;a class="link" href="#_creating_a_distribution_with_spacecmd_sets_localhost_instead_of_fqdn"&gt;Creating a Distribution With spacecmd Sets Localhost Instead of FQDN&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The support article associated with this issue may be located at:https://www.suse.com/support/kb/doc/?id=7018627&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;Situation&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;When creating a distribution with spacecmd it will  automatically set localhost as the server name instead of the FQDN of SUSE Manager.
This will result in the following kernel option being written:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;install=http://localhost/ks/dist/&lt;distributionname&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Resolution&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the FQDN in &lt;code class="path"&gt;$HOME/.spacecmd/config&lt;/code&gt;
like the following:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;test:~/.spacecmd # cat config</p>
</div>
<div class="paragraph">
<p>server=test.mytest.env
username=admin
password=password
nossl=0&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;Cause&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;This problem may be experienced if &lt;code class="path"&gt;$HOME/.spacecmd/config&lt;/code&gt;
has been created and the server name option was set to localhost.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="<em>spacecmd_not_accepting_commands_or_options"&gt;&lt;a class="anchor" href="#_spacecmd_not_accepting_commands_or_options"&gt;&lt;/a&gt;&lt;a class="link" href="#_spacecmd_not_accepting_commands_or_options"&gt;Spacecmd not Accepting Commands or Options&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When running &lt;code class="command"&gt;spacecmd&lt;/code&gt; non-interactively, you must escape arguments passed to the command.
Always put &lt;code&gt;--&lt;/code&gt; before arguments, to avoid them being treated as global arguments.
Additionally, make sure you escape any quotes that you pass to the functions so that they are not interpreted.
An example of a well-formed &lt;code class="command"&gt;spacecmd&lt;/code&gt; command:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;spacecmd -s server1&#8201;&#8212;&#8201;softwarechannel_create -n \'My Channel\' -l channel1 -a x86_64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="at.spacecmd.command.reference"&gt;&lt;a class="anchor" href="#at.spacecmd.command.reference"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.command.reference"&gt;spacecmd Functions&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following sections provide descriptions for all documented spacecmd commands.
Each command is grouped by the function prefix.
Keep in mind that all commands may also be called using scripts and passed to spacecmd as stand-alone commands.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.activationkey"&gt;&lt;a class="anchor" href="#at.spacecmd.activationkey"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.activationkey"&gt;activationkey</em>&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd commands are available for use with activation keys.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;activationkey_addchildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add child channels to an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_addchildchannels KEY &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_addconfigchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add configuration channels to an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_addconfigchannels KEY &lt;CHANNEL &#8230;&#8203;&gt; [options]</p>
</div>
<div class="paragraph">
<p>options:
  -t add channels to the top of the list
  -b add channels to the bottom of the list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_addentitlements&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add available entitlements to an activation key.&lt;/p&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;WebUI Name Change&lt;/div&gt;
In the WebUI entitlements are known as System Types.
Nevertheless the spacecmd backend still utilizes the entitlements term.
Therefore any scripts you may be using can remain unchanged.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_addentitlements KEY &lt;ENTITLEMENT &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_addgroups&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add existing groups to an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_addgroups KEY &lt;GROUP &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_addpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add packages to an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_addpackages KEY &lt;PACKAGE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_clone&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Clone an existing activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage examples:
                 activationkey_clone foo_key -c bar_key
                 activationkey_clone foo_key1 foo_key2 -c prefix
                 activationkey_clone foo_key -x "s/foo/bar"
                 activationkey_clone foo_key1 foo_key2 -x "s/foo/bar"</p>
</div>
<div class="paragraph">
<p>options:
  -c CLONE_NAME  : Name of the resulting key, treated as a prefix for multiple
                   keys
  -x "s/foo/bar" : Optional regex replacement, replaces foo with bar in the
                   clone description, base-channel label, child-channel
                   labels, config-channel names&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a new activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -d DESCRIPTION
  -b BASE_CHANNEL
  -u set key as universal default
  -e [enterprise_entitled,virtualization_host]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete an existing activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_delete KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show details of an existing activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_details KEY &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_diff&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Check the difference between two activation keys.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_diff SOURCE_ACTIVATIONKEY TARGET_ACTIVATIONKEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_disable&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Disable an existing activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_disable KEY [KEY &#8230;&#8203;]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_disableconfigdeployment&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Disable configuration channel deployment for an existing activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_disableconfigdeployment KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_enable&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Enable an existing activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_enable KEY [KEY &#8230;&#8203;]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_enableconfigdeployment&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Enable configuration channel deployment for an existing activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_enableconfigdeployment KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_export&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Export activation key(s) to a JSON formatted file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_export [options] [&lt;KEY&gt; &#8230;&#8203;]</p>
</div>
<div class="paragraph">
<p>options:
    -f outfile.json : specify an output filename, defaults to &lt;KEY&gt;.json
                      if exporting a single key, akeys.json for multiple keys,
                      or akey_all.json if no KEY specified (export ALL)</p>
</div>
<div class="paragraph">
<p>Note : KEY list is optional, default is to export ALL keys&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_import&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Import activation key(s) from JSON file(s)&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_import &lt;JSONFILE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all existing activation keys.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_listbasechannel&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the base channel associated with an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_listbasechannel KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_listchildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List child channels associated with an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_listchildchannels KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_listconfigchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List configuration channels associated with an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_listconfigchannels KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_listentitlements&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List entitlements associated with an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_listentitlements KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_listgroups&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List groups associated with an activation key&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_listgroups KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_listpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List packages associated with an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_listpackages KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_listsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List systems registered with an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_listsystems KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_removechildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove child channels from an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_removechildchannels KEY &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_removeconfigchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove configuration channels from an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_removeconfigchannels KEY &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_removeentitlements&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove entitlements from an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_removeentitlements KEY &lt;ENTITLEMENT &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_removegroups&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove groups from an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_removegroups KEY &lt;GROUP &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_removepackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove packages from an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_removepackages KEY &lt;PACKAGE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_setbasechannel&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the base channel for an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_setbasechannel KEY CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_setconfigchannelorder&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the ranked order of configuration channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_setconfigchannelorder KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_setcontactmethod&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the contact method to use for systems registered with a specific key.
(Use the XML-RPC API to access the latest contact methods.) The following contact methods are available for use with traditional spacecmd: ['default', 'ssh-push', 'ssh-push-tunnel']&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_setcontactmethod KEY CONTACT_METHOD&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_setdescription&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a description for an activation key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_setdescription KEY DESCRIPTION&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_setuniversaldefault&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set a specific key as the universal default.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_setuniversaldefault KEY&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonitionblock warning"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-warning" title=":warning:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Universal Default Key&lt;/div&gt;
Using a universal default key is not a Best Practice recommendation.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;activationkey_setusagelimit&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the usage limit of an activation key, can be a number or "unlimited".&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: activationkey_setbasechannel KEY &lt;usage limit&gt;
usage: activationkey_setbasechannel KEY unlimited&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="admonitionblock tip"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-tip" title=":bulb:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Usage Limits&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Usage limits are only applicable to traditionally managed systems.
Currently usage limits do not apply to Salt or foreign managed systems.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.api"&gt;&lt;a class="anchor" href="#at.spacecmd.api"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.api"&gt;api&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following API command and its options are available for calling the XML-RPC API directly.
Calling the API directly allows you to use the latest features in SUSE Manager from the command-line using spacecmd as a wrapper for stand-alone commands or used from within scripts.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Use the api Command for Access to Latest Features&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;spacecmd is the traditional tool for spacewalk.
It functions out of the box with SUSE Manager but you should know that latest features (for example, Salt) are often excluded from traditional spacecmd command-line tool.
To gain access to the latest feature additions call &lt;code class="command"&gt;api api.getApiCallList&lt;/code&gt; from within spacecmd to list all currently available API commands formatted in json.
You can then call these commands directly.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;api&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Call XML-RPC API with arguments directly.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: api [options] API_STRING</p>
</div>
<div class="paragraph">
<p>options:
  -A, --args  Arguments for the API other than session id in comma separated
              strings or JSON expression
  -F, --format   Output format
  -o, --output   Output file</p>
</div>
<div class="paragraph">
<p>examples:
  api api.getApiCallList
  api --args "sysgroup_A" systemgroup.listSystems
  api -A "rhel-i386-server-5,2011-04-01,2011-05-01" -F "%(name)s" \
      channel.software.listAllPackages&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.clear"&gt;&lt;a class="anchor" href="#at.spacecmd.clear"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.clear"&gt;clear&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Clears the terminal screen&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.clearcaches"&gt;&lt;a class="anchor" href="#at.spacecmd.clearcaches"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.clearcaches"&gt;clear_caches&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Clear the internal caches kept for systems and packages&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: clear_caches&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.configchannel"&gt;&lt;a class="anchor" href="#at.spacecmd.configchannel"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.configchannel"&gt;configchannel_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd commands are available for use with configuration channels.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;configchannel_addfile&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Creates a configuration file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_addfile [CHANNEL] [options]</p>
</div>
<div class="paragraph">
<p>options:
  -c CHANNEL
  -p PATH
  -r REVISION
  -o OWNER [default: root]
  -g GROUP [default: root]
  -m MODE [defualt: 0644]
  -x SELINUX_CONTEXT
  -d path is a directory
  -s path is a symlink
  -b path is a binary (or other file which needs base64 encoding)
  -t SYMLINK_TARGET
  -f local path to file contents</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  Note re binary/base64: Some text files, notably those containing trailing
  newlines, those containing ASCII escape characters (or other charaters not
  allowed in XML) need to be sent as binary (-b).  Some effort is made to auto-
  detect files which require this, but you may need to explicitly specify.&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_backup&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Backup a configuration channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_backup CHANNEL [OUTDIR]</pre>
</div>
</div>
<div class="paragraph">
<p>OUTDIR defaults to $HOME/spacecmd-backup/configchannel/YYYY-MM-DD/CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_clone&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Clone configuration channel(s).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage examples:
                 configchannel_clone foo_label -c bar_label
                 configchannel_clone foo_label1 foo_label2 -c prefix
                 configchannel_clone foo_label -x "s/foo/bar"
                 configchannel_clone foo_label1 foo_label2 -x "s/foo/bar"</p>
</div>
<div class="paragraph">
<p>options:
  -c CLONE_LABEL : name/label of the resulting cc (note does not update
                   description, see -x option), treated as a prefix if
                   multiple keys are passed
  -x "s/foo/bar" : Optional regex replacement, replaces foo with bar in the
                   clone name, label and description
  Note : If no -c or -x option is specified, interactive is assumed&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a configuration channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -l LABEL
  -d DESCRIPTION&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a configuration channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_delete CHANNEL &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a configuration channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_details CHANNEL &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_diff&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Find differences between configuration channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_diff SOURCE_CHANNEL TARGET_CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_export&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Export configuration channel(s) to a json formatted file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_export &lt;CHANNEL&gt;&#8230;&#8203; [options]
options:
    -f outfile.json : specify an output filename, defaults to &lt;CHANNEL&gt;.json
                      if exporting a single channel, ccs.json for multiple
                      channels, or cc_all.json if no CHANNEL specified
                      e.g (export ALL)</p>
</div>
<div class="paragraph">
<p>Note : CHANNEL list is optional, default is to export ALL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_filedetails&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a file in a configuration channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_filedetails CHANNEL FILE [REVISION]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_forcedeploy&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Forces a redeployment of files within a channel on all subscribed systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_forcedeploy CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_import&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Import configuration channel(s) from a json file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_import &lt;JSONFILES&#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all configuration channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_listfiles&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all files in a configuration channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_listfiles CHANNEL &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_listsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all systems subscribed to a configuration channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_listsystems CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_removefiles&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove configuration files.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_removefile CHANNEL &lt;FILE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_sync&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Sync configuration files between two configuration channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_sync SOURCE_CHANNEL TARGET_CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_updatefile&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Update a configuration file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_updatefile CHANNEL FILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;configchannel_verifyfile&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Verify a configuration file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: configchannel_verifyfile CHANNEL FILE &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; may be substituted with any of the following targets:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.cryptokey"&gt;&lt;a class="anchor" href="#at.spacecmd.cryptokey"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.cryptokey"&gt;cryptokey_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd commands are available for use with cryptographic keys.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;cryptokey_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a cryptographic key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: cryptokey_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -t GPG or SSL
  -d DESCRIPTION
  -f KEY_FILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;cryptokey_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a cryptographic key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: cryptokey_delete NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;cryptokey_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the contents of a cryptographic key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: cryptokey_details KEY &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;cryptokey_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all cryptographic keys (SSL, GPG).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: cryptokey_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.custominfo"&gt;&lt;a class="anchor" href="#at.spacecmd.custominfo"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.custominfo"&gt;custominfo_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd commands are available for working with custom keys.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;custominfo_createkey&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a custom key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: custominfo_createkey [NAME] [DESCRIPTION]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;custominfo_deletekey&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a custom key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: custominfo_deletekey KEY &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;custominfo_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a custom key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: custominfo_details KEY &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;custominfo_listkeys&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all custom keys.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: custominfo_listkeys&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;custominfo_updatekey&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Update a custom key.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: custominfo_updatekey [NAME] [DESCRIPTION]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.distribution"&gt;&lt;a class="anchor" href="#at.spacecmd.distribution"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.distribution"&gt;distribution_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd commands are available for working with kickstart distributions.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;distribution_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a Kickstart tree.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: distribution_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -p path to tree
  -b base channel to associate with
  -t install type [fedora|rhel_4/5/6|suse|generic_rpm]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;distribution_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a Kickstart tree.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: distribution_delete LABEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;distribution_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a Kickstart tree.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: distribution_details LABEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;distribution_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the available autoinstall trees.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: distribution_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;distribution_rename&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Rename a Kickstart tree.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: distribution_rename OLDNAME NEWNAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;distribution_update&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Update the path of a Kickstart tree.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: distribution_update NAME [options]</p>
</div>
<div class="paragraph">
<p>options:
  -p path to tree
  -b base channel to associate with
  -t install type [fedora|rhel_4/5/6|suse|generic_rpm]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.errata"&gt;&lt;a class="anchor" href="#at.spacecmd.errata"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.errata"&gt;errata_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd commands are available for use with errata data.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;errata_apply&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Apply an patch to all affected systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_apply ERRATA|search:XXX &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete an patch.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_delete ERRATA|search:XXX &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of an patch.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_details ERRATA|search:XXX &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_findbycve&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List errata addressing a CVE.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_findbycve CVE-YYYY-NNNN &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all patches.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_listaffectedsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List of systems affected by an patch.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_listaffectedsystems ERRATA|search:XXX &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_listcves&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List of CVEs addressed by an patch.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_listcves ERRATA|search:XXX &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_publish&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Publish an patch to a channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_publish ERRATA|search:XXX &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_search&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List patches that meet user provided criteria&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_search CVE|RHSA|RHBA|RHEA|CLA &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Example:
&gt; errata_search CVE-2009:1674
&gt; errata_search RHSA-2009:1674&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;errata_summary&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Print a summary of all errata.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: errata_summary&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.kickstart.filepreservation"&gt;&lt;a class="anchor" href="#at.spacecmd.kickstart.filepreservation"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.kickstart.filepreservation"&gt;filepreservation_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd commands are available for working with kickstart file preservation lists.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;filepreservation_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a file preservation list.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: filepreservation_create [NAME] [FILE &#8230;&#8203;]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;filepreservation_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a file preservation list.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;filepreservation_delete NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;filepreservation_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a file preservation list.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: filepreservation_details NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;filepreservation_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all file preservations.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: filepreservation_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.get"&gt;&lt;a class="anchor" href="#at.spacecmd.get"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.get"&gt;get_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;get_apiversion&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Display the API version of the server.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: get_apiversion&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;get_certificateexpiration&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Print the expiration date of the server&#8217;s entitlement certificate.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: get_certificateexpiration&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;get_serverversion&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Display SUSE Manager server version.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: get_serverversion&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;get_session&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the current session string.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: get_session&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.group"&gt;&lt;a class="anchor" href="#at.spacecmd.group"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.group"&gt;group_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;group_addsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add systems to a group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_addsystems GROUP &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_backup&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Backup a system group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_backup NAME [OUTDIR]</p>
</div>
<div class="paragraph">
<p>OUTDIR defaults to $HOME/spacecmd-backup/group/YYYY-MM-DD/NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a system group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_create [NAME] [DESCRIPTION]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a system group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_delete NAME &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a system group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_details GROUP &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List available system groups.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_listsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the members of a group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_listsystems GROUP&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_removesystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove systems from a group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_removesystems GROUP &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;group_restore&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Restore a system group.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: group_backup INPUTDIR [NAME] &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.help"&gt;&lt;a class="anchor" href="#at.spacecmd.help"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.help"&gt;help&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;List all available spacecmd commands with the help function.
Check for additional help on a specific function by calling for example:&lt;code class="command"&gt;user_create
                    --help&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Documented commands (type help &lt;topic&gt;):</p>
</div>
</div>
</div>
<div class="paragraph">
<p>activationkey_addchildchannels         org_trustdetails
activationkey_addconfigchannels        package_details
activationkey_addentitlements          package_listdependencies
activationkey_addgroups                package_listerrata
activationkey_addpackages              package_listinstalledsystems
activationkey_clone                    package_listorphans
activationkey_create                   package_remove
activationkey_delete                   package_removeorphans
activationkey_details                  package_search
activationkey_diff                     repo_addfilters
activationkey_disable                  repo_clearfilters
activationkey_disableconfigdeployment  repo_create
activationkey_enable                   repo_delete
activationkey_enableconfigdeployment   repo_details
activationkey_export                   repo_list
activationkey_import                   repo_listfilters
activationkey_list                     repo_removefilters
activationkey_listbasechannel          repo_rename
activationkey_listchildchannels        repo_setfilters
activationkey_listconfigchannels       repo_updatessl
activationkey_listentitlements         repo_updateurl
activationkey_listgroups               report_duplicates
activationkey_listpackages             report_errata
activationkey_listsystems              report_inactivesystems
activationkey_removechildchannels      report_ipaddresses
activationkey_removeconfigchannels     report_kernels
activationkey_removeentitlements       report_outofdatesystems
activationkey_removegroups             report_ungroupedsystems
activationkey_removepackages           scap_getxccdfscandetails
activationkey_setbasechannel           scap_getxccdfscanruleresults
activationkey_setconfigchannelorder    scap_listxccdfscans
activationkey_setcontactmethod         scap_schedulexccdfscan
activationkey_setdescription           schedule_cancel
activationkey_setuniversaldefault      schedule_details
activationkey_setusagelimit            schedule_getoutput
api                                    schedule_list
clear                                  schedule_listarchived
clear_caches                           schedule_listcompleted
configchannel_addfile                  schedule_listfailed
configchannel_backup                   schedule_listpending
configchannel_clone                    schedule_reschedule
configchannel_create                   snippet_create
configchannel_delete                   snippet_delete
configchannel_details                  snippet_details
configchannel_diff                     snippet_list
configchannel_export                   snippet_update
configchannel_filedetails              softwarechannel_adderrata
configchannel_forcedeploy              softwarechannel_adderratabydate
configchannel_import                   softwarechannel_addpackages
configchannel_list                     softwarechannel_addrepo
configchannel_listfiles                softwarechannel_clone
configchannel_listsystems              softwarechannel_clonetree
configchannel_removefiles              softwarechannel_create
configchannel_sync                     softwarechannel_delete
configchannel_updatefile               softwarechannel_details
configchannel_verifyfile               softwarechannel_diff
cryptokey_create                       softwarechannel_errata_diff
cryptokey_delete                       softwarechannel_errata_sync
cryptokey_details                      softwarechannel_getorgaccess
cryptokey_list                         softwarechannel_list
custominfo_createkey                   softwarechannel_listallpackages
custominfo_deletekey                   softwarechannel_listbasechannels
custominfo_details                     softwarechannel_listchildchannels
custominfo_listkeys                    softwarechannel_listerrata
custominfo_updatekey                   softwarechannel_listerratabydate
distribution_create                    softwarechannel_listlatestpackages
distribution_delete                    softwarechannel_listpackages
distribution_details                   softwarechannel_listrepos
distribution_list                      softwarechannel_listsyncschedule
distribution_rename                    softwarechannel_listsystems
distribution_update                    softwarechannel_mirrorpackages
errata_apply                           softwarechannel_regenerateneededcache
errata_delete                          softwarechannel_regenerateyumcache
errata_details                         softwarechannel_removeerrata
errata_findbycve                       softwarechannel_removepackages
errata_list                            softwarechannel_removerepo
errata_listaffectedsystems             softwarechannel_removesyncschedule
errata_listcves                        softwarechannel_setorgaccess
errata_publish                         softwarechannel_setsyncschedule
errata_search                          softwarechannel_sync
errata_summary                         softwarechannel_syncrepos
filepreservation_create                ssm_add
filepreservation_delete                ssm_clear
filepreservation_details               ssm_intersect
filepreservation_list                  ssm_list
get_apiversion                         ssm_remove
get_certificateexpiration              system_addchildchannels
get_serverversion                      system_addconfigchannels
get_session                            system_addconfigfile
group_addsystems                       system_addcustomvalue
group_backup                           system_addentitlements
group_create                           system_addnote
group_delete                           system_applyerrata
group_details                          system_comparepackageprofile
group_list                             system_comparepackages
group_listsystems                      system_comparewithchannel
group_removesystems                    system_createpackageprofile
group_restore                          system_delete
help                                   system_deletecrashes
history                                system_deletenotes
kickstart_addactivationkeys            system_deletepackageprofile
kickstart_addchildchannels             system_deployconfigfiles
kickstart_addcryptokeys                system_details
kickstart_addfilepreservations         system_getcrashfiles
kickstart_addoption                    system_installpackage
kickstart_addpackages                  system_list
kickstart_addscript                    system_listbasechannel
kickstart_addvariable                  system_listchildchannels
kickstart_clone                        system_listconfigchannels
kickstart_create                       system_listconfigfiles
kickstart_delete                       system_listcrashedsystems
kickstart_details                      system_listcrashesbysystem
kickstart_diff                         system_listcustomvalues
kickstart_disableconfigmanagement      system_listentitlements
kickstart_disableremotecommands        system_listerrata
kickstart_enableconfigmanagement       system_listevents
kickstart_enablelogging                system_listhardware
kickstart_enableremotecommands         system_listinstalledpackages
kickstart_export                       system_listnotes
kickstart_getcontents                  system_listpackageprofiles
kickstart_getsoftwaredetails           system_listupgrades
kickstart_getupdatetype                system_lock
kickstart_import                       system_reboot
kickstart_import_raw                   system_removechildchannels
kickstart_importjson                   system_removeconfigchannels
kickstart_list                         system_removecustomvalues
kickstart_listactivationkeys           system_removeentitlement
kickstart_listchildchannels            system_removepackage
kickstart_listcryptokeys               system_rename
kickstart_listcustomoptions            system_runscript
kickstart_listoptions                  system_schedulehardwarerefresh
kickstart_listpackages                 system_schedulepackagerefresh
kickstart_listscripts                  system_search
kickstart_listvariables                system_setbasechannel
kickstart_removeactivationkeys         system_setconfigchannelorder
kickstart_removechildchannels          system_setcontactmethod
kickstart_removecryptokeys             system_show_packageversion
kickstart_removefilepreservations      system_syncpackages
kickstart_removeoptions                system_unlock
kickstart_removepackages               system_updatecustomvalue
kickstart_removescript                 system_upgradepackage
kickstart_removevariables              toggle_confirmations
kickstart_rename                       user_adddefaultgroup
kickstart_setcustomoptions             user_addgroup
kickstart_setdistribution              user_addrole
kickstart_setlocale                    user_create
kickstart_setpartitions                user_delete
kickstart_setselinux                   user_details
kickstartsetupdatetype                user_disable
kickstart_updatevariable               user_enable
list_proxies                           user_list
login                                  user_listavailableroles
logout                                 user_removedefaultgroup
org_addtrust                           user_removegroup
org_create                             user_removerole
org_delete                             user_setemail
org_details                            user_setfirstname
org_list                               user_setlastname
org_listtrusts                         user_setpassword
org_listusers                          user_setprefix
org_removetrust                        whoami
org_rename                             whoamitalkingto</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_miscellaneous_help_topics"><a class="anchor" href="#_miscellaneous_help_topics"></a><a class="link" href="#_miscellaneous_help_topics">23. Miscellaneous help topics:</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>time  systems  ssm&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.history"&gt;&lt;a class="anchor" href="#at.spacecmd.history"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.history"&gt;history&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;List recent commands using the &lt;code class="command"&gt;history&lt;/code&gt; command.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;spacecmd {SSM:0}&gt; history
   1  help
   2  api
   3  exit
   4  help
   5  time --help
   6  quit
   7  clear
spacecmd {SSM:0}&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.kickstart"&gt;&lt;a class="anchor" href="#at.spacecmd.kickstart"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.kickstart"&gt;kickstart_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for use with kickstart.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;kickstart_addactivationkeys&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add activation keys to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addactivationkeys PROFILE &lt;KEY &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_addchildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a child channels to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addchildchannels PROFILE &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_addcryptokeys&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add cryptography keys to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addcryptokeys PROFILE &lt;KEY &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_addfilepreservations&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add file preservations to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addfilepreservations PROFILE &lt;FILELIST &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_addoption&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set an option for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addoption PROFILE KEY [VALUE]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_addpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add packages to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addpackages PROFILE &lt;PACKAGE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_addscript&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a script to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addscript PROFILE [options]</p>
</div>
<div class="paragraph">
<p>options:
  -p PROFILE
  -e EXECUTION_TIME ['pre', 'post']
  -i INTERPRETER
  -f FILE
  -c execute in a chroot environment
  -t ENABLING_TEMPLATING&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_addvariable&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a variable to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_addvariable PROFILE KEY VALUE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_clone&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Clone a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_clone [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -c CLONE_NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -d DISTRIBUTION
  -p ROOT_PASSWORD
  -v VIRT_TYPE ['none', 'para_host', 'qemu', 'xenfv', 'xenpv']&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete kickstart profile(s).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_delete PROFILE
usage: kickstart_delete PROFILE1 PROFILE2
usage: kickstart_delete "PROF*"&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_details PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_diff&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List differences between two kickstart files.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_diff SOURCE_CHANNEL TARGET_CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_disableconfigmanagement&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Disable configuration management on a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_disableconfigmanagement PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_disableremotecommands&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Disable remote commands on a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_disableremotecommands PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_enableconfigmanagement&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Enable configuration management on a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_enableconfigmanagement PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_enablelogging&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Enable logging for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_enablelogging PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_enableremotecommands&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Enable remote commands on a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_enableremotecommands PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_export&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Export kickstart profile(s) to json formatted file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_export &lt;KSPROFILE&gt;&#8230;&#8203; [options]
options:
    -f outfile.json : specify an output filename, defaults to &lt;KSPROFILE&gt;.json
                      if exporting a single kickstart, profiles.json for multiple
                      kickstarts, or ks_all.json if no KSPROFILE specified
                      e.g (export ALL)</p>
</div>
<div class="paragraph">
<p>Note : KSPROFILE list is optional, default is to export ALL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_getcontents&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the contents of a Kickstart profile as they would be presented to a client.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_getcontents LABEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_getsoftwaredetails&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Gets kickstart profile software details.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_getsoftwaredetails KS_LABEL
usage: kickstart_getsoftwaredetails KS_LABEL KS_LABEL2 &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_getupdatetype&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Get the update type for a kickstart profile(s).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_getupdatetype PROFILE
usage: kickstart_getupdatetype PROFILE1 PROFILE2
usage: kickstart_getupdatetype "PROF*"&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_import&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Import a Kickstart profile from a file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_import [options]</p>
</div>
<div class="paragraph">
<p>options:
  -f FILE
  -n NAME
  -d DISTRIBUTION
  -v VIRT_TYPE ['none', 'para_host', 'qemu', 'xenfv', 'xenpv']&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_import_raw&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Import a raw Kickstart or autoyast profile from a file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_import_raw [options]</p>
</div>
<div class="paragraph">
<p>options:
  -f FILE
  -n NAME
  -d DISTRIBUTION
  -v VIRT_TYPE ['none', 'para_host', 'qemu', 'xenfv', 'xenpv']&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_importjson&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Import kickstart profile(s) from json file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_import &lt;JSONFILES&#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the available Kickstart profiles.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listactivationkeys&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the activation keys associated with a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listactivationkeys PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listchildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the child channels of a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listchildchannels PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listcryptokeys&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the crypto keys associated with a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listcryptokeys PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listcustomoptions&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the custom options of a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listcustomoptions PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listoptions&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the options of a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listoptions PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the packages for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listpackages PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listscripts&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the scripts for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listscripts PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_listvariables&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the variables of a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_listvariables PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removeactivationkeys&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove activation keys from a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removeactivationkeys PROFILE &lt;KEY &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removechildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove child channels from a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removechildchannels PROFILE &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removecryptokeys&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove crypto keys from a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removecryptokeys PROFILE &lt;KEY &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removefilepreservations&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove file preservations from a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removefilepreservations PROFILE &lt;FILE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removeoptions&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove options from a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removeoptions PROFILE &lt;OPTION &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removepackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove packages from a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removepackages PROFILE &lt;PACKAGE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removescript&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a script to a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removescript PROFILE [ID]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_removevariables&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove variables from a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_removevariables PROFILE &lt;KEY &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_rename&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Rename a Kickstart profile&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_rename OLDNAME NEWNAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_setcustomoptions&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set custom options for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_setcustomoptions PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_setdistribution&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the distribution for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_setdistribution PROFILE DISTRIBUTION&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_setlocale&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the locale for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_setlocale PROFILE LOCALE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_setpartitions&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the partitioning scheme for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_setpartitions PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_setselinux&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the SELinux mode for a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_setselinux PROFILE MODE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstartsetupdatetype&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the update type for a kickstart profile(s).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstartsetupdatetype [options] KS_LABEL</p>
</div>
<div class="paragraph">
<p>options:
    -u UPDATE_TYPE ['red_hat', 'all', 'none']&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;kickstart_updatevariable&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Update a variable in a Kickstart profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: kickstart_updatevariable PROFILE KEY VALUE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.list.proxies"&gt;&lt;a class="anchor" href="<mark>at.spacecmd.list.proxies"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.list.proxies"&gt;list_proxies&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd function is available for listing proxies.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;list_proxies&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the proxies within the user&#8217;s organization.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: list_proxies&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.login"&gt;&lt;a class="anchor" href="#at.spacecmd.login"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.login"&gt;login&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Connect as a specific user to the SUSE manager server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> spacecmd&#8201;&#8212;&#8201;login &lt;USERNAME&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.logout"&gt;&lt;a class="anchor" href="<mark>at.spacecmd.logout"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.logout"&gt;logout&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Logout from server as the current user.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;</mark> spacecmd&#8201;&#8212;&#8201;logout&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.org"&gt;&lt;a class="anchor" href="#at.spacecmd.org"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.org"&gt;org_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for use with organizations.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;org_addtrust&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a trust between two organizations&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_addtrust YOUR_ORG ORG_TO_TRUST&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create an organization.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n ORG_NAME
  -u USERNAME
  -P PREFIX (Dr., Mr., Miss, Mrs., Ms.)
  -f FIRST_NAME
  -l LAST_NAME
  -e EMAIL
  -p PASSWORD
  --pam enable PAM authentication&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete an organization.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_delete NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of an organization.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_details NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all organizations.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_listtrusts&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List an organization&#8217;s trusts.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;org_listtrusts NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_listusers&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List an organization&#8217;s users.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;org_listusers NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_removetrust&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a trust between two organizations.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_removetrust YOUR_ORG TRUSTED_ORG&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_rename&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Rename an organization.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_rename OLDNAME NEWNAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;org_trustdetails&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of an organizational trust.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: org_trustdetails TRUSTED_ORG&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.package"&gt;&lt;a class="anchor" href="#at.spacecmd.package"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.package"&gt;package_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for working with packages.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;package_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a software package.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_details PACKAGE &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;package_listdependencies&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the dependencies for a package.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_listdependencies PACKAGE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;package_listerrata&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the errata that provide this package.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_listerrata PACKAGE &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;package_listinstalledsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the systems with a package installed.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_listinstalledsystems PACKAGE &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;package_listorphans&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List packages that are not in a channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_listorphans&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;package_remove&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a package from SUSE Manager/Satellite&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_remove PACKAGE &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;package_removeorphans&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove packages that are not in a channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_removeorphans&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;package_search&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Find packages that meet the given criteria.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: package_search NAME|QUERY</p>
</div>
<div class="paragraph">
<p>Example: package_search kernel</p>
</div>
<div class="paragraph">
<p>Advanced Search:
Available Fields: name, epoch, version, release, arch, description, summary
Example: name:kernel AND version:2.6.18 AND -description:devel&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.repo"&gt;&lt;a class="anchor" href="#at.spacecmd.repo"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.repo"&gt;repo_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for working with repositories.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;repo_addfilters&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add filters for a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_addfilters repo &lt;filter &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_clearfilters&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Clears the filters for a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_clearfilters repo&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_create &lt;options&gt;</p>
</div>
<div class="paragraph">
<p>options:
  -n, --name   name of repository
  -u, --url    url of repository</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  --ca         SSL CA certificate (not required)
  --cert       SSL Client certificate (not required)
  --key        SSL Client key (not required)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_delete &amp;lt;repo ...&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_details &amp;lt;repo ...&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all available user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_listfilters&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the filters for a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_listfilters repo&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_removefilters&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove filters from a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_removefilters repo &amp;lt;filter ...&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_rename&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Rename a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_rename OLDNAME NEWNAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_setfilters&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the filters for a user repo.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_setfilters repo &amp;lt;filter ...&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_updatessl&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Change the SSL certificates of a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_updatessl &amp;lt;options&amp;gt;
options:
  --ca         SSL CA certificate (not required)
  --cert       SSL Client certificate (not required)
  --key        SSL Client key (not required)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;repo_updateurl&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Change the URL of a user repository.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: repo_updateurl &amp;lt;repo&amp;gt; &amp;lt;url&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.report"&gt;&lt;a class="anchor" href="#at.spacecmd.report"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.report"&gt;report_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for working with reports.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;report_duplicates&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List duplicate system profiles.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: report_duplicates&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;report_errata&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all errata and how many systems they affect.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: report_errata [ERRATA|search:XXX ...]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;report_inactivesystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all inactive systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: report_inactivesystems [DAYS]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;report_ipaddresses&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the hostname and IP of each system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: report_network [&amp;lt;SYSTEMS&amp;gt;]</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;report_kernels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the running kernel of each system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: report_kernels [&lt;SYSTEMS&gt;]</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;report_outofdatesystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all out-of-date systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: report_outofdatesystems&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;report_ungroupedsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all ungrouped systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: report_ungroupedsystems&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.scap"&gt;&lt;a class="anchor" href="#at.spacecmd.scap"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.scap"&gt;scap_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for working with OpenSCAP.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;scap_getxccdfscandetails&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Get details of given OpenSCAP XCCDF scan.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: scap_getxccdfscandetails &lt;XID&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;scap_getxccdfscanruleresults&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Return a full list of RuleResults for given OpenSCAP XCCDF scan.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: scap_getxccdfscanruleresults &lt;XID&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;scap_listxccdfscans&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Return a list of finished OpenSCAP scans for given systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: scap_listxccdfscans &lt;SYSTEMS&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;scap_schedulexccdfscan&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Schedule Scap XCCDF scan.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: scap_schedulexccdfscan PATH_TO_XCCDF_FILE XCCDF_OPTIONS SYSTEMS</p>
</div>
<div class="paragraph">
<p>Example:
&gt; scap_schedulexccdfscan '/usr/share/openscap/scap-security-xccdf.xml' 'profile Web-Default' \
system-scap.example.com&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.schedule"&gt;&lt;a class="anchor" href="#at.spacecmd.schedule"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.schedule"&gt;schedule_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for working with scheduling.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;schedule_cancel&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Cancel a scheduled action.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_cancel ID|* &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a scheduled action.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_details ID&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_getoutput&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the output from an action.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_getoutput ID&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all actions.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_list [BEGINDATE] [ENDDATE]</p>
</div>
<div class="paragraph">
<p>Dates can be any of the following:
Explicit Dates:
Dates can be expressed as explicit date strings in the YYYYMMDD[HHMM]
format.  The year, month and day are required, while the hours and
minutes are not; the hours and minutes will default to 0000 if no
values are provided.</p>
</div>
<div class="paragraph">
<p>Deltas:
Dates can be expressed as delta values.  For example, '2h' would
mean 2 hours in the future.  You can also use negative values to
express times in the past (e.g., -7d would be one week ago).</p>
</div>
<div class="paragraph">
<p>Units:
s -&gt; seconds
m -&gt; minutes
h -&gt; hours
d -&gt; days&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_listarchived&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List archived actions.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_listarchived [BEGINDATE] [ENDDATE]</p>
</div>
<div class="paragraph">
<p>Dates can be any of the following:
Explicit Dates:
Dates can be expressed as explicit date strings in the YYYYMMDD[HHMM]
format.  The year, month and day are required, while the hours and
minutes are not; the hours and minutes will default to 0000 if no
values are provided.</p>
</div>
<div class="paragraph">
<p>Deltas:
Dates can be expressed as delta values.  For example, '2h' would
mean 2 hours in the future.  You can also use negative values to
express times in the past (e.g., -7d would be one week ago).</p>
</div>
<div class="paragraph">
<p>Units:
s -&gt; seconds
m -&gt; minutes
h -&gt; hours
d -&gt; days&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_listcompleted&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List completed actions.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Dates can be any of the following:
Explicit Dates:
Dates can be expressed as explicit date strings in the YYYYMMDD[HHMM]
format.  The year, month and day are required, while the hours and
minutes are not; the hours and minutes will default to 0000 if no
values are provided.</p>
</div>
<div class="paragraph">
<p>Deltas:
Dates can be expressed as delta values.  For example, '2h' would
mean 2 hours in the future.  You can also use negative values to
express times in the past (e.g., -7d would be one week ago).</p>
</div>
<div class="paragraph">
<p>Units:
s -&gt; seconds
m -&gt; minutes
h -&gt; hours
d -&gt; days&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_listfailed&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List failed actions.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_listfailed [BEGINDATE] [ENDDATE]</p>
</div>
<div class="paragraph">
<p>Dates can be any of the following:
Explicit Dates:
Dates can be expressed as explicit date strings in the YYYYMMDD[HHMM]
format.  The year, month and day are required, while the hours and
minutes are not; the hours and minutes will default to 0000 if no
values are provided.</p>
</div>
<div class="paragraph">
<p>Deltas:
Dates can be expressed as delta values.  For example, '2h' would
mean 2 hours in the future.  You can also use negative values to
express times in the past (e.g., -7d would be one week ago).</p>
</div>
<div class="paragraph">
<p>Units:
s -&gt; seconds
m -&gt; minutes
h -&gt; hours
d -&gt; days&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_listpending&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List pending actions.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_listpending [BEGINDATE] [ENDDATE]</p>
</div>
<div class="paragraph">
<p>Dates can be any of the following:
Explicit Dates:
Dates can be expressed as explicit date strings in the YYYYMMDD[HHMM]
format.  The year, month and day are required, while the hours and
minutes are not; the hours and minutes will default to 0000 if no
values are provided.</p>
</div>
<div class="paragraph">
<p>Deltas:
Dates can be expressed as delta values.  For example, '2h' would
mean 2 hours in the future.  You can also use negative values to
express times in the past (e.g., -7d would be one week ago).</p>
</div>
<div class="paragraph">
<p>Units:
s -&gt; seconds
m -&gt; minutes
h -&gt; hours
d -&gt; days&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;schedule_reschedule&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Reschedule failed actions.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: schedule_reschedule ID|* &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.snippet"&gt;&lt;a class="anchor" href="#at.spacecmd.snippet"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.snippet"&gt;snippet_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for working with Kickstart snippets.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;snippet_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a Kickstart snippet&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: snippet_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -f FILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;snippet_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a Kickstart snippet.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: snippet_removefile NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;snippet_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the contents of a snippet.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: snippet_details SNIPPET &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;snippet_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the available Kickstart snippets.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: snippet_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;snippet_update&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Update a Kickstart snippet.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: snippet_update NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.softwarechannel"&gt;&lt;a class="anchor" href="#at.spacecmd.softwarechannel"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.softwarechannel"&gt;softwarechannel_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for working with software channels.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_adderrata&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add patches from one channel into another channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_adderrata SOURCE DEST &lt;ERRATA|search:XXX &#8230;&#8203;&gt;
Options:
    -q/--quick : Don&#8217;t display list of packages (slightly faster)
    -s/--skip :  Skip errata which appear to exist already in DEST&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_adderratabydate&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add errata from one channel into another channel based on a date range.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_adderratabydate [options] SOURCE DEST BEGINDATE ENDDATE
Date format : YYYYMMDD
Options:
        -p/--publish : Publish errata to the channel (don&#8217;t clone)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_addpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add packages to a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_addpackages CHANNEL &lt;PACKAGE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_addrepo&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a repo to a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_addrepo CHANNEL REPO&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_clone&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Clone a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_clone [options]</p>
</div>
<div class="paragraph">
<p>options:
  -s SOURCE_CHANNEL
  -n NAME
  -l LABEL
  -p PARENT_CHANNEL
  --gpg-copy/-g (copy SOURCE_CHANNEL GPG details)
  --gpg-url GPG_URL
  --gpg-id GPG_ID
  --gpg-fingerprint GPG_FINGERPRINT
  -o do not clone any patches
  --regex/-x "s/foo/bar" : Optional regex replacement,
        replaces foo with bar in the clone name and label&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_clonetree&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Clone a software channel and its child channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_clonetree [options]A
             e.g    softwarechannel_clonetree foobasechannel -p "my_"
                    softwarechannel_clonetree foobasechannel -x "s/foo/bar"
                    softwarechannel_clonetree foobasechannel -x "s/^/my_"</p>
</div>
<div class="paragraph">
<p>options:
  -s/--source-channel SOURCE_CHANNEL
  -p/--prefix PREFIX (is prepended to the label and name of all channels)
  --gpg-copy/-g (copy GPG details for correspondoing source channel))
  --gpg-url GPG_URL (applied to all channels)
  --gpg-id GPG_ID (applied to all channels)
  --gpg-fingerprint GPG_FINGERPRINT (applied to all channels)
  -o do not clone any errata
  --regex/-x "s/foo/bar" : Optional regex replacement,
        replaces foo with bar in the clone name, label and description&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -l LABEL
  -p PARENT_CHANNEL
  -a ARCHITECTURE ['ia32', 'ia64', 'x86_64', 'ppc',
                  'i386-sun-solaris', 'sparc-sun-solaris']
  -c CHECKSUM ['sha1', 'sha256', 'sha384', 'sha512']
  -u GPG_URL
  -i GPG_ID
  -f GPG_FINGERPRINT&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_delete &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_details &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_diff&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Check the difference between software channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_diff SOURCE_CHANNEL TARGET_CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_errata_diff&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Check the difference between software channel files.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_errata_diff SOURCE_CHANNEL TARGET_CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_errata_sync&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Sync errata of two software channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_errata_sync SOURCE_CHANNEL TARGET_CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_getorgaccess&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Get the org-access for the software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage : softwarechannel_getorgaccess : get org access for all channels
usage : softwarechannel_getorgaccess &lt;channel_label(s)&gt; : get org access for specific channel(s)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all available software channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_list [options]'
options:
  -v verbose (display label and summary)
  -t tree view (pretty-print child-channels)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listallpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all packages in a channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listallpackages CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listbasechannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all base software channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listbasechannels [options]
options:
  -v verbose (display label and summary)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listchildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List child software channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage:
softwarechannel_listchildchannels [options]
softwarechannel_listchildchannels : List all child channels
softwarechannel_listchildchannels CHANNEL : List children for a specific base channel
options:
 -v verbose (display label and summary)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listerrata&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the errata associated with a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listerrata &lt;CHANNEL &#8230;&#8203;&gt; [from=yyyymmdd [to=yyyymmdd]]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listerratabydate&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List errata from channelbased on a date range.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listerratabydate CHANNEL BEGINDATE ENDDATE
Date format : YYYYMMDD&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listlatestpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the newest version of all packages in a channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listlatestpackages CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the most recent packages available from a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listpackages CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listrepos&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the repos for a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listrepos CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listsyncschedule&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List sync schedules for all software channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listsyncschedule : List all channels&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_listsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all systems subscribed to a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_listsystems CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_mirrorpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Download packages of a given channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_mirrorpackages CHANNEL
Options:
    -l/--latest : Only mirror latest package version&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_regenerateneededcache&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Regenerate the needed errata and package cache for all systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_regenerateneededcache&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_regenerateyumcache&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Regenerate the YUM cache for a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_regenerateyumcache &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_removeerrata&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove patches from a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_removeerrata CHANNEL &lt;ERRATA:search:XXX &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_removepackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove packages from a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_removepackages CHANNEL &lt;PACKAGE &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_removerepo&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a repo from a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_removerepo CHANNEL REPO&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_removesyncschedule&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Removes the repo sync schedule for a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_setsyncschedule &lt;CHANNEL&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_setorgaccess&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the org-access for the software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage : softwarechannel_setorgaccess &lt;channel_label&gt; [options]
-d,--disable : disable org access (private, no org sharing)
-e,--enable : enable org access (public access to all trusted orgs)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_setsyncschedule&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Sets the repo sync schedule for a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_setsyncschedule &lt;CHANNEL&gt; &lt;SCHEDULE&gt;</p>
</div>
<div class="paragraph">
<p>The schedule is specified in Quartz CronTrigger format without enclosing quotes.
For example, to set a schedule of every day at 1am, &lt;SCHEDULE&gt; would be 0 0 1 * * ?&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_sync&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Sync the packages of two software channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_sync SOURCE_CHANNEL TARGET_CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;softwarechannel_syncrepos&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Sync users repos for a software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: softwarechannel_syncrepos &lt;CHANNEL &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.ssm"&gt;&lt;a class="anchor" href="#at.spacecmd.ssm"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.ssm"&gt;ssm_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for use with System Set Manager.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;ssm_add&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add systems to the SSM.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: ssm_add &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>see 'help ssm' for more details</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;ssm_clear&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove all systems from the SSM.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: ssm_clear&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;ssm_intersect&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Replace the current SSM with the intersection of the current list of systems and the list of systems passed as arguments.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: ssm_intersect &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>see 'help ssm' for more details</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;ssm_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the systems currently in the SSM.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: ssm_list</p>
</div>
<div class="paragraph">
<p>see 'help ssm' for more details&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;ssm_remove&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove systems from the SSM.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: ssm_remove &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>see 'help ssm' for more details</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.system"&gt;&lt;a class="anchor" href="#at.spacecmd.system"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.system"&gt;system_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd functions are available for use with systems.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;system_addchildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add child channels to a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_addchildchannels &lt;SYSTEMS&gt; &lt;CHANNEL &#8230;&#8203;&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_addconfigchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add config channels to a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_addconfigchannels &lt;SYSTEMS&gt; &lt;CHANNEL &#8230;&#8203;&gt; [options]</p>
</div>
<div class="paragraph">
<p>options:
  -t add channels to the top of the list
  -b add channels to the bottom of the list</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_addconfigfile&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a configuration file.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Note this is only for system sandbox or locally-managed files
Centrally managed files should be created via configchannel_addfile
usage: system_addconfigfile [SYSTEM] [options]</p>
</div>
<div class="paragraph">
<p>options:
  -S/--sandbox : list only system-sandbox files
  -L/--local   : list only locally managed files
  -p PATH
  -r REVISION
  -o OWNER [default: root]
  -g GROUP [default: root]
  -m MODE [defualt: 0644]
  -x SELINUX_CONTEXT
  -d path is a directory
  -s path is a symlink
  -b path is a binary (or other file which needs base64 encoding)
  -t SYMLINK_TARGET
  -f local path to file contents</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  Note re binary/base64: Some text files, notably those containing trailing
  newlines, those containing ASCII escape characters (or other charaters not
  allowed in XML) need to be sent as binary (-b).  Some effort is made to auto-
  detect files which require this, but you may need to explicitly specify.&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_addcustomvalue&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set a custom value for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_addcustomvalue KEY VALUE &amp;lt;SYSTEMS&amp;gt;</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_addentitlements&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add entitlements to a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_addentitlements &lt;SYSTEMS&gt; ENTITLEMENT</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_addnote&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set a note for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_addnote &lt;SYSTEM&gt; [options]</p>
</div>
<div class="paragraph">
<p>options:
  -s SUBJECT
  -b BODY</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_applyerrata&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Apply errata to a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_applyerrata &lt;SYSTEMS&gt; [ERRATA|search:XXX &#8230;&#8203;]</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_comparepackageprofile&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Compare a system against a package profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_comparepackageprofile &lt;SYSTEMS&gt; PROFILE</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_comparepackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Compare the packages between two systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_comparepackages SOME_SYSTEM ANOTHER_SYSTEM&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_comparewithchannel&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Compare the installed packages on a system with those in the channels it is registered to, or optionally some other channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_comparewithchannel &lt;SYSTEMS&gt; [options]
options:
         -c/--channel : Specific channel to compare against,
                        default is those subscribed to, including
                        child channels</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_createpackageprofile&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create a package profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_createpackageprofile SYSTEM [options]</p>
</div>
<div class="paragraph">
<p>options:
  -n NAME
  -d DESCRIPTION&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a system profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_delete &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_deletecrashes&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete crashes reported by spacewalk-abrt.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: Delete all crashes for all systems    : system_deletecrashes [--verbose]
usage: Delete all crashes for a single system: system_deletecrashes -i sys_id [--verbose]
usage: Delete a single crash record          : system_deletecrashes -c crash_id [--verbose]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_deletenotes&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete notes from a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_deletenotes &lt;SYSTEM&gt; &lt;ID|*&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_deletepackageprofile&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete a package profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_deletepackageprofile PROFILE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_deployconfigfiles&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Deploy all configuration files for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_deployconfigfiles &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of a system profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_details &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_getcrashfiles&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Download all files for a crash record.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_getcrashfiles -c crash_id [--verbose]
usage: system_getcrashfiles -c crash_id [--dest_folder=/tmp/crash_files] [--verbose]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_installpackage&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Install a package on a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_installpackage &lt;SYSTEMS&gt; &lt;PACKAGE &#8230;&#8203;&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all system profiles.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listbasechannel&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the base channel for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listbasechannel &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listchildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the child channels for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listchildchannels &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listconfigchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the config channels of a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listconfigchannels &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listconfigfiles&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the managed config files of a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listconfigfiles &lt;SYSTEMS&gt;'
options:
  -s/--sandbox : list only system-sandbox files
  -l/--local   : list only locally managed files
  -c/--central : list only centrally managed files
  -q/--quiet   : quiet mode (omits the header)</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listcrashedsystems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all systems that have experienced a crash and reported by spacewalk-abrt.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listcrashedsystems&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listcrashesbysystem&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all reported crashes for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listcrashesbysystem -i sys_id&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listcustomvalues&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the custom values for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listcustomvalues &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listentitlements&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the entitlements for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listentitlements &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listerrata&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List available errata for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listerrata &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listevents&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the event history for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listevents &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listhardware&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the hardware details of a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listhardware &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listinstalledpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the installed packages on a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listinstalledpackages &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listnotes&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the available notes for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listnotes &lt;SYSTEM&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listpackageprofiles&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all package profiles.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listpackageprofiles&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_listupgrades&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List the available upgrades for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_listupgrades &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_lock&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Lock a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_lock &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_reboot&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Reboot a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_reboot &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_removechildchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove child channels from a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_removechildchannels &lt;SYSTEMS&gt; &lt;CHANNEL &#8230;&#8203;&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_removeconfigchannels&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove config channels from a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_removeconfigchannels &lt;SYSTEMS&gt; &lt;CHANNEL &#8230;&#8203;&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_removecustomvalues&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a custom value for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_removecustomvalues &lt;SYSTEMS&gt; &lt;KEY &#8230;&#8203;&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_removeentitlement&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove an entitlement from a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_removeentitlement &lt;SYSTEMS&gt; ENTITLEMENT</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_removepackage&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a package from a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_removepackage &lt;SYSTEMS&gt; &lt;PACKAGE &#8230;&#8203;&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_rename&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Rename a system profile.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_rename OLDNAME NEWNAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_runscript&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Schedule a script to run on the list of systems provided.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_runscript &lt;SYSTEMS&gt; [options]</p>
</div>
<div class="paragraph">
<p>options:
  -u USER
  -g GROUP
  -t TIMEOUT
  -s START_TIME
  -l LABEL
  -f FILE</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL</p>
</div>
<div class="paragraph">
<p>Dates can be any of the following:
Explicit Dates:
Dates can be expressed as explicit date strings in the YYYYMMDD[HHMM]
format.  The year, month and day are required, while the hours and
minutes are not; the hours and minutes will default to 0000 if no
values are provided.</p>
</div>
<div class="paragraph">
<p>Deltas:
Dates can be expressed as delta values.  For example, '2h' would
mean 2 hours in the future.  You can also use negative values to
express times in the past (e.g., -7d would be one week ago).</p>
</div>
<div class="paragraph">
<p>Units:
s -&gt; seconds
m -&gt; minutes
h -&gt; hours
d -&gt; days&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_schedulehardwarerefresh&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Schedule a hardware refresh for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_schedulehardwarerefresh &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_schedulepackagerefresh&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Schedule a software package refresh for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_schedulepackagerefresh &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_search&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List systems that match the given criteria.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_search QUERY</p>
</div>
<div class="paragraph">
<p>Available Fields:
id
name
ip
hostname
device
vendor
driver
uuid</p>
</div>
<div class="paragraph">
<p>Examples:
&gt; system_search device:vmware
&gt; system_search ip:192.168.82&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_setbasechannel&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set a system&#8217;s base software channel.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_setbasechannel &lt;SYSTEMS&gt; CHANNEL</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_setconfigchannelorder&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the ranked order of configuration channels.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_setconfigchannelorder &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_setcontactmethod&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set the contact method for given system(s).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Available contact methods: ['default', 'ssh-push', 'ssh-push-tunnel']
usage: system_setcontactmethod &lt;SYSTEMS&gt; &lt;CONTACT_METHOD&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_show_packageversion&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Shows version of installed package on given system(s).&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_show_packageversion &lt;SYSTEM&gt; &lt;PACKAGE&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_syncpackages&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Sync packages between two systems.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_syncpackages SOURCE TARGET&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_unlock&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Unlock a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_unlock &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_updatecustomvalue&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Update a custom value for a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_updatecustomvalue KEY VALUE &lt;SYSTEMS&gt;</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;system_upgradepackage&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Upgrade a package on a system.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: system_upgradepackage &lt;SYSTEMS&gt; &lt;PACKAGE &#8230;&#8203;&gt;|*</p>
</div>
<div class="paragraph">
<p>&lt;SYSTEMS&gt; can be any of the following:
name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.toggle"&gt;&lt;a class="anchor" href="#at.spacecmd.toggle"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.toggle"&gt;toggle_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;toggle_confirmations&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Toggle confirmation messages on/off.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: toggle_confirmations&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.user"&gt;&lt;a class="anchor" href="#at.spacecmd.user"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.user"&gt;user_&lt;/a&gt;&lt;/h3&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;user_adddefaultgroup&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a default group to an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_adddefaultgroup USER &lt;GROUP &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_addgroup&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a group to an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_addgroup USER &lt;GROUP &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_addrole&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Add a role to an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_addrole USER ROLE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_create&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Create an user.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_create [options]</p>
</div>
<div class="paragraph">
<p>options:
  -u USERNAME
  -f FIRST_NAME
  -l LAST_NAME
  -e EMAIL
  -p PASSWORD
  --pam enable PAM authentication&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_delete&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Delete an user.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_delete NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_details&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Show the details of an user.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_details USER &#8230;&#8203;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_disable&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Disable an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_disable NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_enable&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Enable an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_enable NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_list&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all users.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_list&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_listavailableroles&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;List all available roles for users.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_listavailableroles&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_removedefaultgroup&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a default group from an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_removedefaultgroup USER &lt;GROUP &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_removegroup&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a group to an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_removegroup USER &lt;GROUP &#8230;&#8203;&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_removerole&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Remove a role from an user account.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_removerole USER ROLE&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_setemail&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set an user accounts email field.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_setemail USER EMAIL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_setfirstname&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set an user accounts first name field.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_setfirstname USER FIRST_NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_setlastname&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set an user accounts last name field.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_setlastname USER LAST_NAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_setpassword&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set an user accounts name prefix field.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_setpassword USER PASSWORD&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;user_setprefix&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Set an user accounts name prefix field.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;usage: user_setprefix USER PREFIX&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.whoami"&gt;&lt;a class="anchor" href="#at.spacecmd.whoami"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.whoami"&gt;whoami&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following command is available for returning the currently logged spacecmd username.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;whoami&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Print the currently logged spacecmd user.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;spacecmd {SSM:0}&gt; whoami
admin&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.whoamitalkingto"&gt;&lt;a class="anchor" href="#at.spacecmd.whoamitalkingto"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.whoamitalkingto"&gt;whoamitalkingto&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following spacecmd function is available for returning the server hostname.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;whoamitalkingto&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Return the server hostname that spacecmd is connected with.&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;spacecmd {SSM:0}&gt; whoamitalkingto
MGR_SERVER_HOSTNAME&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect2"&gt;
&lt;h3 id="at.spacecmd.misc.help.topics"&gt;&lt;a class="anchor" href="#at.spacecmd.misc.help.topics"&gt;&lt;/a&gt;&lt;a class="link" href="#at.spacecmd.misc.help.topics"&gt;Miscellaneous Help Topics&lt;/a&gt;&lt;/h3&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The following help topics are printed with all functions requiring the relevant information.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;time&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Dates can be any of the following:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Explicit Dates:
Dates can be expressed as explicit date strings in the YYYYMMDD[HHMM]
format.  The year, month and day are required, while the hours and
minutes are not; the hours and minutes will default to 0000 if no
values are provided.</p>
</div>
<div class="paragraph">
<p>Deltas:
Dates can be expressed as delta values.  For example, '2h' would
mean 2 hours in the future.  You can also use negative values to
express times in the past (e.g., -7d would be one week ago).</p>
</div>
<div class="paragraph">
<p>Units:
s -&gt; seconds
m -&gt; minutes
h -&gt; hours
d -&gt; days&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;systems&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;&lt;SYSTEMS&gt; can be any of the following:&lt;/p&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;name
ssm (see 'help ssm')
search:QUERY (see 'help system_search')
group:GROUP
channel:CHANNEL&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;ssm&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;The System Set Manager (SSM) is a group of systems that you&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;can perform tasks on as a group.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;Adding Systems:
&gt; ssm_add group:rhel5-x86_64
&gt; ssm_add channel:rhel-x86_64-server-5
&gt; ssm_add search:device:vmware
&gt; ssm_add host.example.com</p>
</div>
<div class="paragraph">
<p>Intersections:
&gt; ssm_add group:rhel5-x86_64
&gt; ssm_intersect group:web-servers</p>
</div>
<div class="paragraph">
<p>Using the SSM:
&gt; system_installpackage ssm zsh
&gt; system_runscript ssm&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div id="toc" class="toc"&gt;
&lt;div id="toctitle"&gt;Table of Contents&lt;/div&gt;
&lt;ul class="sectlevel1"&gt;
&lt;li&gt;&lt;a href="#advanced.topics.app.ports.server"&gt; Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.app.ports.proxy"&gt; Proxy Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced.topics.app.ports.client"&gt; Client&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.app.ports.server"&gt;&lt;a class="anchor" href="#advanced.topics.app.ports.server"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.app.ports.server"&gt; Server&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Some ports are only relevant if you actually run the related service on the  server.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;div class="title"&gt;Ports to Open on Server&lt;/div&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;67&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP/UDP / DHCP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Required when  is configured as a DHCP server for systems requesting IP addresses.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;69&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP/UDP / TFTP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Used when  is configured as a PXE server and allows installation and re-installation of PXE-boot enabled systems.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;80&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP / HTTP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Client and proxy server requests travel via HTTP or HTTPS.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;80&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Outbound / TCP / HTTP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Used to contact SUSE Customer Center/{ncc}.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;443&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP / HTTPS&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;All WebUI, client, and proxy server requests travel via HTTP or HTTPS.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;443&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Outbound / TCP / HTTPS&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt; uses this port to reach SUSE Customer Center (unless running in a disconnected mode with RMT or SMT{mdash}as described in &lt;a href="#disconnect-setup"&gt;[disconnect-setup]&lt;/a&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;5222&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP / osad&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;When you wish to push actions to clients this port is required by the &lt;code class="systemitem"&gt;osad&lt;/code&gt; daemon running on your client systems.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;5269&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound/Outbound / TCP / jabberd&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Needed if you push actions to or via a  Proxy.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;4505&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP / salt&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Required by the Salt-master to accept communication requests via TCP from minions.
The connection is initiated by the minion and remains open to allow the master to send commands.
This port uses a publish/subscribe topology; the minion subscribes to notifications from the master.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;4506&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP / salt&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Required by the Salt-master to accept communication requests via TCP from minions.
The connection is initiated by the minion and is open only when needed.
Usually, minions will open this port when they have to report results to the master, such as when a command received on port 4505 has finished.
This port uses a request/response topology; the minion sends requests to the master.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;25151&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;TCP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For cobbler.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="dlist"&gt;
&lt;div class="title"&gt;Internally Used Ports on  Server&lt;/div&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;2828&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal /&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Satellite-search API, used by the RHN application in Tomcat and Taskomatic.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;2829&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal /&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Taskomatic API, used by the RHN application in Tomcat.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;6868&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Auditlog-keeper to database.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;6888&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Auditlog-keeper API, used by the RHN application in Tomcat.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;8005&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Tomcat shutdown port.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;8009&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Tomcat to Apache HTTPD (AJP).&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;8080&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Tomcat to Apache HTTPD (HTTP).&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;9080&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Salt-API, used by the RHN application in Tomcat and Taskomatic.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;32000&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Internal / TCP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Port for a TCP connection to the Java Virtual Machine (JVM) that runs Taskomatic and the search (satellite-search).&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="admonitionblock note"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-note" title=":information_source:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Ephemeral Ports&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Anything from port 32768 on (more exactly, what you can see with &lt;code class="command"&gt;cat /proc/sys/net/ipv4/ip_local_port_range&lt;/code&gt;) is an ephemeral port, typically used as the receiving end of a TCP connection.
So if process A opens a TCP connection to process B (for example, port 22), then A chooses an arbitrary source TCP port to match with destination port 22.&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;This image is a graphical representation of the ports used in :&lt;/p&gt;
&lt;/div&gt;
&lt;div class="imageblock"&gt;
&lt;div class="content"&gt;
&lt;img src="_images/ports_diagram.png" alt="ports diagram"&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Port 80 (http) is not used to serve the WebUI, and is closed in most installations.
Port 80 is used temporarily for some bootstrap repositories and automated installations.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.app.ports.proxy"&gt;&lt;a class="anchor" href="#advanced.topics.app.ports.proxy"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.app.ports.proxy"&gt; Proxy Server&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="dlist"&gt;
&lt;div class="title"&gt;Ports to Open on Proxy Server&lt;/div&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;22&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound /&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Required when using ssh-push or ssh-push-tunnel contact methods.
Check-in on clients connected to a  Proxy will be initiated on the  Server and &#8220;hop through&#8221; through to clients.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;80&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Outbound /&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Used to reach .&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;5222&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / TCP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For push actions and connections issued by &lt;code class="systemitem"&gt;osad&lt;/code&gt; running on the client systems.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;5269&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound/Outbound / TCP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For push actions with the server.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="sect1"&gt;
&lt;h2 id="advanced.topics.app.ports.client"&gt;&lt;a class="anchor" href="#advanced.topics.app.ports.client"&gt;&lt;/a&gt;&lt;a class="link" href="#advanced.topics.app.ports.client"&gt; Client&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sectionbody"&gt;
&lt;div class="dlist"&gt;
&lt;div class="title"&gt;Ports to Open on  Client&lt;/div&gt;
&lt;dl&gt;
&lt;dt class="hdlist1"&gt;22&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Inbound / SSH&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Required when using ssh-push or ssh-push-tunnel contact methods.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;80&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Outbound&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;To reach the  server or  Proxy server.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt class="hdlist1"&gt;5222&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;Outbound / TCP&lt;/p&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;For push actions with the server or proxy server.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</p>
</div>
<div class="paragraph">
<p>&lt;div class="paragraph"&gt;
&lt;p&gt;The AutoYaST profile in this section installs a SUSE Linux Enterprise Server system with all default installation options including a default network configuration using DHCP.
After the installation is finished, a bootstrap script located on the  server is executed in order to register the freshly installed system with .
You need to adjust the IP address of the  server, the name of the bootstrap script, and the root password according to your environment:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;user&gt;
 &#8230;&#8203;
 &lt;username&gt;root&lt;/username&gt;
 &lt;user_password&gt;`linux`&lt;/user_password&gt;
&lt;/user&gt;</p>
</div>
<div class="paragraph">
<p>&lt;location&gt;http://<code>192.168.1.1</code>/pub/bootstrap/<code>my_bootstrap.sh</code>&lt;/location&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;The complete AutoYaST file:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns"
         xmlns:config="http://www.suse.com/1.0/configns"&gt;
 &lt;general&gt;
  &lt;mode&gt;
   &lt;confirm config:type="boolean"&gt;false&lt;/confirm&gt;
  &lt;/mode&gt;
 &lt;/general&gt;
 &lt;networking&gt;
  &lt;keep_install_network config:type="boolean"&gt;true&lt;/keep_install_network&gt;
 &lt;/networking&gt;
 &lt;software&gt;
  &lt;install_recommended config:type="boolean"&gt;true&lt;/install_recommended&gt;
   &lt;patterns config:type="list"&gt;
    &lt;pattern&gt;base&lt;/pattern&gt;
   &lt;/patterns&gt;
 &lt;/software&gt;
 &lt;users config:type="list"&gt;
  &lt;user&gt;
   &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
   &lt;fullname&gt;root&lt;/fullname&gt;
   &lt;gid&gt;0&lt;/gid&gt;
   &lt;home&gt;/root&lt;/home&gt;
   &lt;password_settings&gt;
    &lt;expire&gt;&lt;/expire&gt;
    &lt;flag&gt;&lt;/flag&gt;
    &lt;inact&gt;&lt;/inact&gt;
    &lt;max&gt;&lt;/max&gt;
    &lt;min&gt;&lt;/min&gt;
    &lt;warn&gt;&lt;/warn&gt;
   &lt;/password_settings&gt;
   &lt;shell&gt;/bin/bash&lt;/shell&gt;
   &lt;uid&gt;0&lt;/uid&gt;
   &lt;username&gt;root&lt;/username&gt;
   &lt;user_password&gt;linux&lt;/user_password&gt;
  &lt;/user&gt;
 &lt;/users&gt;
 &lt;scripts&gt;
  &lt;init-scripts config:type="list"&gt;
   &lt;script&gt;
    &lt;interpreter&gt;shell&lt;/interpreter&gt;
    &lt;location&gt;<a href="http://192.168.1.1/pub/bootstrap/my_bootstrap.sh&lt;/location&gt" class="bare">http://192.168.1.1/pub/bootstrap/my_bootstrap.sh&lt;/location&gt</a>;
   &lt;/script&gt;
  &lt;/init-scripts&gt;
 &lt;/scripts&gt;
&lt;/profile&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Use this enhancement fragment to add child channels:&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;add-on&gt;
 &lt;add_on_products config:type="list"&gt;
  &lt;listentry&gt;
   &lt;ask_on_error config:type="boolean"&gt;true&lt;/ask_on_error&gt;
   &lt;media_url&gt;<a href="http://$c_server/ks/dist/child/" class="bare">http://$c_server/ks/dist/child/</a><code>channel-label</code>/<code>distribution-label</code>&lt;/media_url&gt;
   &lt;name&gt;$c_name&lt;/name&gt;
   &lt;product&gt;$c_product&lt;/product&gt;
   &lt;product_dir&gt;/&lt;/product_dir&gt;
  &lt;/listentry&gt;
&#8230;&#8203;
 &lt;/add_on_products&gt;
&lt;/add-on&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;Replace &lt;code class="replaceable"&gt;channel-label&lt;/code&gt; and &lt;code class="replaceable"&gt;distribution-label&lt;/code&gt; with the correct labels (such as &lt;code&gt;sles11-sp1-updates-x86_64&lt;/code&gt; and &lt;code&gt;sles11-sp2-x86_64&lt;/code&gt;). Ensure that the distribution label corresponds to the Autoinstallable Distribution. Set the variables (such as &lt;code&gt;$c_server&lt;/code&gt;) according to your environment.
For information about variables, see
&lt;a href="reference-webui-systems-autoinstallation.html#s4-sm-system-kick-dist-variables" class="page"&gt;Autoinstallable Distribution Variables&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonitionblock important"&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;td class="icon"&gt;
&lt;i class="fa icon-important" title=":heavy_exclamation_mark:"&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class="content"&gt;
&lt;div class="title"&gt;Add the Updates Channel&lt;/div&gt;
&lt;div class="paragraph"&gt;
&lt;p&gt;It is required that you add the updates tools channel to the &lt;add-on&gt; AutoYaST snippet section.
This ensures your systems are provided with an up-to-date version of the &lt;code&gt;libzypp&lt;/code&gt; package.
If you do not include the updates tools channel, you will encounter &lt;code&gt;400&lt;/code&gt; errors.
In this example, the (DISTRIBUTION_NAME) is replaced with the name of the autoinstallation distribution, as created previously, from &lt;span class="menuseq"&gt;&lt;b class="menu"&gt;Systems&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="submenu"&gt;Autoinstallation&lt;/b&gt;&#160;&lt;i class="fa fa-angle-right caret"&gt;&lt;/i&gt; &lt;b class="menuitem"&gt;Distributions&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="listingblock"&gt;
&lt;div class="content"&gt;
&lt;pre&gt;&lt;listentry&gt;
     &lt;ask_on_error config:type="boolean"&gt;true&lt;/ask_on_error&gt;
     &lt;media_url&gt;<a href="http://$redhat_management_server/ks/dist/child/sles12-sp2-updates-x86_64/(DISTRIBUTION_NAME)&lt;/media_url&gt" class="bare">http://$redhat_management_server/ks/dist/child/sles12-sp2-updates-x86_64/(DISTRIBUTION_NAME)&lt;/media_url&gt</a>;
     &lt;name&gt;sles12 sp2 updates&lt;/name&gt;
     &lt;product&gt;SLES12&lt;/product&gt;
     &lt;product_dir&gt;/&lt;/product_dir&gt;
  &lt;/listentry&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gnu_licenses"><a class="anchor" href="#_gnu_licenses"></a><a class="link" href="#_gnu_licenses">Appendix A: GNU Licenses</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This appendix contains the GNU Free Documentation License version 1.2.</p>
</div>
<div class="paragraph">
<p><a href="common_gfdl1.2_i.html#common-license" class="page">GNU Free Documentation License V(1.2)</a></p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>Copyright (C) 2017-2018 <a href="https://jcayouette.github.io/personal-blog">Belief and Reason</a></p>
  <p>Except where otherwise noted, jcayouette.github.io/personal-blog, BoR, are licensed under the <a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License Version 2.0</a> (MPL-2.0).</p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
function focusSearchInput () { document.querySelector('#search-input').focus() }
var search = docsearch({
  appId: '#',
  apiKey: '#',
  indexName: '#',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete
search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
focusSearchInput()
window.addEventListener('load', focusSearchInput)
</script>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
